{"version":3,"sources":["../../../../components/ui/badge.tsx","../../../../lib/scorm/block-engine.tsx","../../../../app/%28shop%29/packages/%5Bid%5D/page.tsx","../../../../components/scorm/package-viewer.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst badgeVariants = cva(\r\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\r\n        secondary:\r\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\r\n        destructive:\r\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'span'> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'span'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport {\r\n  EditorBlock,\r\n  EditorProject,\r\n  TextBlock,\r\n  ImageBlock,\r\n  VideoBlock,\r\n  QuizBlock,\r\n  InteractiveBlock,\r\n} from \"@/lib/scorm/types\"\r\n\r\ninterface Props {\r\n  block: EditorBlock\r\n  onClick?: (b: EditorBlock) => void\r\n  theme?: EditorProject[\"theme\"]\r\n}\r\n\r\nexport function BlockRenderer({ block, onClick, theme }: Props) {\r\n  const select = () => onClick?.(block)\r\n\r\n  /* ========= TEXT ========= */\r\n  if (block.type === \"text\") {\r\n    const b = block as TextBlock\r\n    const style = b.style || {}\r\n    const themeStyles = theme?.styles || {}\r\n\r\n    const styleObj: React.CSSProperties = {\r\n      ...themeStyles,\r\n      fontWeight: style.bold ? \"bold\" : \"normal\",\r\n      fontStyle: style.italic ? \"italic\" : \"normal\",\r\n      textDecoration: style.underline ? \"underline\" : \"none\",\r\n      fontSize: style.size || \"inherit\",\r\n      textAlign: style.align as React.CSSProperties[\"textAlign\"],\r\n      direction: style.direction as React.CSSProperties[\"direction\"],\r\n      color: style.color,\r\n      background: style.background,\r\n      padding: style.padding,\r\n      borderRadius: style.radius,\r\n      lineHeight: style.lineHeight,\r\n      ...style,\r\n    }\r\n\r\n    return (\r\n      <div\r\n        onClick={select}\r\n        className=\"prose prose-sm max-w-none\"\r\n        style={styleObj}\r\n        dangerouslySetInnerHTML={{ __html: b.html || \"\" }}\r\n      />\r\n    )\r\n  }\r\n\r\n  /* ========= IMAGE ========= */\r\n  if (block.type === \"image\") {\r\n    const b = block as ImageBlock;\r\n    return (\r\n      <figure onClick={select} className=\"flex flex-col items-center\">\r\n        <img\r\n          src={b.src}\r\n          alt={b.alt || \"\"}\r\n          className=\"rounded-xl border bg-slate-50\"\r\n        />\r\n        {b.alt && (\r\n          <figcaption className=\"text-[11px] text-slate-500\">\r\n            {b.alt}\r\n          </figcaption>\r\n        )}\r\n      </figure>\r\n    );\r\n  }\r\n\r\n  /* ========= VIDEO ========= */\r\n  if (block.type === \"video\") {\r\n    const b = block as VideoBlock;\r\n    return (\r\n      <div onClick={select}>\r\n        <video\r\n          src={b.src}\r\n          controls\r\n          className=\"w-full rounded-xl border bg-black\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /* ========= QUIZ ========= */\r\n  if (block.type === \"quiz\") {\r\n    const b = block as QuizBlock;\r\n    return (\r\n      <div\r\n        onClick={select}\r\n        className=\"rounded-xl border bg-slate-50 p-3 space-y-2\"\r\n      >\r\n        <p className=\"text-sm font-semibold\">{b.question}</p>\r\n\r\n        {(b.options || []).map((o) => (\r\n          <label\r\n            key={o.id}\r\n            className=\"flex items-center gap-2 text-xs text-slate-700\"\r\n          >\r\n            <input\r\n              type=\"radio\"\r\n              name={b.id}\r\n              onClick={(e) => e.stopPropagation()}\r\n            />\r\n            <span>{o.label}</span>\r\n          </label>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /* ========= INTERACTIVE ========= */\r\n  if (block.type === \"interactive\") {\r\n    const b = block as InteractiveBlock;\r\n    const style = b.style || {};\r\n\r\n    /* General shape */\r\n    const styleObj: React.CSSProperties = {\r\n      padding: style.padding || \"10px\",\r\n      borderRadius:\r\n        style.radius ||\r\n        (b.variant === \"button\" ? \"999px\" : \"12px\"),\r\n      background:\r\n        style.background ||\r\n        (b.variant === \"button\"\r\n          ? \"#0ea5e9\"\r\n          : b.variant === \"callout\"\r\n          ? \"#eef2ff\"\r\n          : \"#f1f5f9\"),\r\n      boxShadow: style.shadow ? \"0 8px 20px rgba(0,0,0,0.15)\" : \"none\",\r\n      cursor: \"pointer\",\r\n    };\r\n\r\n    /* ---- BUTTON ---- */\r\n    if (b.variant === \"button\") {\r\n      return (\r\n        <button\r\n          onClick={select}\r\n          style={styleObj}\r\n          className=\"text-xs text-white\"\r\n        >\r\n          {b.label || \"Interactive\"}\r\n        </button>\r\n      );\r\n    }\r\n\r\n    /* ---- CALLOUT ---- */\r\n    if (b.variant === \"callout\") {\r\n      return (\r\n        <div onClick={select} style={styleObj}>\r\n          {b.label && <p className=\"font-semibold\">{b.label}</p>}\r\n          {b.bodyHtml ? (\r\n            <div\r\n              dangerouslySetInnerHTML={{ __html: b.bodyHtml }}\r\n              className=\"prose prose-xs\"\r\n            />\r\n          ) : (\r\n            <p className=\"text-[11px] text-slate-500\">Empty callout.</p>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    /* ---- REVEAL ---- */\r\n    if (b.variant === \"reveal\") {\r\n      return (\r\n        <details\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            select();\r\n          }}\r\n          open={b.initiallyOpen}\r\n          style={styleObj}\r\n        >\r\n          <summary>{b.label || \"Show\"}</summary>\r\n          <div\r\n            className=\"mt-2 prose prose-xs\"\r\n            dangerouslySetInnerHTML={{\r\n              __html:\r\n                b.bodyHtml || \"<em style='color:#999'>Empty reveal</em>\",\r\n            }}\r\n          />\r\n        </details>\r\n      );\r\n    }\r\n\r\n    /* ---- CUSTOM ---- */\r\n    if (b.variant === \"custom\") {\r\n      return (\r\n        <div\r\n          onClick={select}\r\n          style={styleObj}\r\n          dangerouslySetInnerHTML={{\r\n            __html:\r\n              b.customHtml ||\r\n              \"<em style='color:#999;font-size:12px'>Empty custom HTML</em>\",\r\n          }}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  /* ========= DEFAULT ========= */\r\n  return (\r\n    <div onClick={select} className=\"text-[11px] text-slate-400\">\r\n      Unknown block type.\r\n    </div>\r\n  );\r\n}\r\n","\"use client\"\r\n\r\nimport { useCallback, useEffect, useMemo, useState } from \"react\"\r\nimport { useParams } from \"next/navigation\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { PackageViewer } from \"@/components/scorm/package-viewer\"\r\nimport { EditorProject } from \"@/lib/scorm/types\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\n\r\ninterface PackageRecord {\r\n  id: string\r\n  title?: string\r\n  description?: string\r\n  content?: EditorProject\r\n  created_at?: string\r\n  storage_path?: string\r\n}\r\n\r\nexport default function PackagePreviewPage() {\r\n  const params = useParams()\r\n  const { t, locale } = useLocale()\r\n  const [data, setData] = useState<PackageRecord | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const buildPlaceholder = useCallback((): EditorProject => ({\r\n    id: typeof params.id === \"string\" ? params.id : \"preview\",\r\n    title: t(\"shop.preview.placeholderTitle\") || t(\"scorm.ai.untitledProject\"),\r\n    version: \"1.0\",\r\n    theme: { direction: locale === \"ar\" ? \"rtl\" : \"ltr\", styles: {} },\r\n    pages: [\r\n      {\r\n        id: \"page-1\",\r\n        title: t(\"shop.preview.samplePage\"),\r\n        blocks: [\r\n          {\r\n            id: \"intro\",\r\n            type: \"text\",\r\n            html: `<p>${t(\"shop.preview.sampleIntro\")}</p>`,\r\n            style: { size: \"18px\", lineHeight: \"1.6\", padding: \"12px\" },\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  }), [locale, params.id, t])\r\n\r\n  useEffect(() => {\r\n    const fetchPackage = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const response = await fetch(`/api/scorm/package/${params.id}`)\r\n        if (!response.ok) {\r\n          const body = await response.json().catch(() => ({}))\r\n          throw new Error(body.error || \"Failed to load package\")\r\n        }\r\n        const body = await response.json()\r\n        setData(body.data)\r\n      } catch (err) {\r\n        const message = err instanceof Error ? err.message : String(err)\r\n        setError(message)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    if (params?.id) {\r\n      fetchPackage()\r\n    }\r\n  }, [params?.id])\r\n\r\n  const project: EditorProject = useMemo(() => {\r\n    return (data?.content as EditorProject) || buildPlaceholder()\r\n  }, [data?.content, buildPlaceholder])\r\n\r\n  const pageCount = project.pages?.length || 0\r\n  const blockCount = project.pages?.reduce((total, page) => total + (page.blocks?.length || 0), 0) || 0\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background py-8\">\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6\">\r\n        <div className=\"flex items-start justify-between gap-4\">\r\n          <div className=\"space-y-1\">\r\n            <p className=\"text-xs uppercase tracking-wide text-muted-foreground\">\r\n              {t(\"shop.preview.breadcrumb\")}\r\n            </p>\r\n            <h1 className=\"text-3xl font-bold text-foreground\">\r\n              {data?.title || project.title || t(\"shop.preview.placeholderTitle\")}\r\n            </h1>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              {t(\"shop.preview.meta\", { pages: pageCount, blocks: blockCount })}\r\n            </p>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Badge variant=\"outline\" className=\"text-[11px]\">\r\n              {project.theme?.direction === \"rtl\"\r\n                ? t(\"shop.preview.languageRtl\")\r\n                : t(\"shop.preview.languageLtr\")}\r\n            </Badge>\r\n            <Button size=\"sm\" variant=\"outline\" onClick={() => window.history.back()}>\r\n              {t(\"shop.preview.back\")}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"rounded-xl border border-dashed border-border p-6 text-center text-muted-foreground\">\r\n            {t(\"shop.preview.loading\")}\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"rounded-xl border border-destructive bg-destructive/10 p-6 text-center text-destructive\">\r\n            {t(\"shop.preview.error\")}: {error}\r\n          </div>\r\n        ) : (\r\n          <PackageViewer project={project} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useMemo, useState } from \"react\"\r\nimport { EditorPage, EditorProject } from \"@/lib/scorm/types\"\r\nimport { BlockRenderer } from \"@/lib/scorm/block-engine\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\n\r\ninterface PackageViewerProps {\r\n  project: EditorProject\r\n  className?: string\r\n}\r\n\r\nexport function PackageViewer({ project, className }: PackageViewerProps) {\r\n  const { t } = useLocale()\r\n  const [activePageId, setActivePageId] = useState<string>(\r\n    project.pages?.[0]?.id ?? \"\"\r\n  )\r\n\r\n  const activePage: EditorPage | null = useMemo(() => {\r\n    return project.pages?.find((page) => page.id === activePageId) ?? null\r\n  }, [activePageId, project.pages])\r\n\r\n  const isRtl = project.theme?.direction === \"rtl\"\r\n\r\n  return (\r\n    <div className={className} dir={isRtl ? \"rtl\" : undefined}>\r\n      <div className=\"flex flex-wrap items-center gap-2 mb-3\">\r\n        {project.pages?.map((page, index) => {\r\n          const label = page.title || t(\"shop.preview.untitledPage\") || t(\"scorm.ai.introduction\")\r\n          return (\r\n            <Button\r\n              key={page.id}\r\n              size=\"sm\"\r\n              variant={page.id === activePageId ? \"default\" : \"outline\"}\r\n              className=\"rounded-full\"\r\n              onClick={() => setActivePageId(page.id)}\r\n            >\r\n              <Badge variant=\"secondary\" className=\"mr-2 text-[10px]\">\r\n                {index + 1}\r\n              </Badge>\r\n              {label}\r\n            </Button>\r\n          )\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"rounded-xl border border-border bg-card/70 shadow-sm p-4\">\r\n        {activePage && activePage.blocks && activePage.blocks.length > 0 ? (\r\n          <div className=\"space-y-4\">\r\n            {activePage.blocks.map((block) => (\r\n              <div key={block.id} className=\"rounded-2xl border bg-background px-4 py-3\">\r\n                <BlockRenderer block={block} theme={project.theme} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-sm text-muted-foreground\">\r\n            {t(\"shop.preview.emptyPage\")}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}