[00:00:02.816] Server  LOG      ✓ Ready in 1753ms
[00:00:02.830] Server  WARN     ⚠ Cross origin request detected from 3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev to /_next/* resource. In a future major version of Next.js, you will need to explicitly configure "allowedDevOrigins" in next.config to allow this.
Read more: https://nextjs.org/docs/app/api-reference/config/next-config-js/allowedDevOrigins
[00:00:06.280] Server  LOG      ○ Compiling /login ...
[00:00:16.083] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:00:16.083] Browser LOG     %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[00:00:16.083] Browser LOG     %c[Vercel Web Analytics]%c Running queued event color: rgb(120, 120, 120) color: inherit pageview {"path":"/login","route":"/login"}
[00:00:16.083] Browser LOG     %c[Vercel Web Analytics]%c [pageview] https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/login color: rgb(120, 120, 120) color: inherit {"dp":"/login","o":"https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/login","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1763885744510}
[00:03:38.995] Server  LOG        Reload env: .env
[00:16:48.468] Server  LOG        Reload env: .env
[00:46:49.983] Server  LOG        Reload env: .env.local
[01:08:57.449] Server  LOG        Reload env: .env.local
[01:08:59.290] Server  LOG        Reload env: .env.local
[01:09:07.965] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[01:09:07.965] Browser LOG     %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[01:09:07.965] Browser LOG     %c[Vercel Web Analytics]%c Running queued event color: rgb(120, 120, 120) color: inherit pageview {"path":"/login","route":"/login"}
[01:09:07.965] Browser LOG     %c[Vercel Web Analytics]%c [pageview] https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/login color: rgb(120, 120, 120) color: inherit {"dp":"/login","o":"https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/login","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1763889876348}
[01:18:02.681] Browser LOG     %c[Vercel Web Analytics]%c [pageview] https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/packages color: rgb(120, 120, 120) color: inherit {"dp":"/packages","o":"https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/packages","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1763890411060}
[01:18:06.735] Browser LOG     %c[Vercel Web Analytics]%c [pageview] https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/scorm-ai color: rgb(120, 120, 120) color: inherit {"dp":"/scorm-ai","o":"https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/scorm-ai","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1763890415113}
[01:18:17.734] Browser LOG     %c[Vercel Web Analytics]%c [pageview] https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/ color: rgb(120, 120, 120) color: inherit {"dp":"/","o":"https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1763890426111}
[01:24:02.818] Server  LOG      ✓ Compiled in 342ms
[01:24:04.050] Browser ERROR   ./app/(editor)/scorm-ai/page.tsx:11:1
Export BlockRenderer doesn't exist in target module
   9 | import { t } from '@/lib/translations'
  10 | import { EditorBlock, EditorPage } from '@/lib/scorm/types'
> 11 | import { BlockRenderer } from '@/lib/scorm/block-engine'
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  12 | import {
  13 |   Save,
  14 |   Eye,

The export BlockRenderer was not found in module [project]/lib/scorm/block-engine.tsx [app-client] (ecmascript).
Did you mean to import renderBlock?
All exports of the module are statically known (It doesn't have dynamic exports). So it's known statically that the requested export doesn't exist.

Import traces:
  Client Component Browser:
    ./app/(editor)/scorm-ai/page.tsx [Client Component Browser]
    ./app/(editor)/scorm-ai/page.tsx [Server Component]

  Client Component SSR:
    ./app/(editor)/scorm-ai/page.tsx [Client Component SSR]
    ./app/(editor)/scorm-ai/page.tsx [Server Component]
[01:24:04.050] Browser ERROR   ./app/(editor)/scorm-ai/page.tsx:11:1
Export BlockRenderer doesn't exist in target module
   9 | import { t } from '@/lib/translations'
  10 | import { EditorBlock, EditorPage } from '@/lib/scorm/types'
> 11 | import { BlockRenderer } from '@/lib/scorm/block-engine'
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  12 | import {
  13 |   Save,
  14 |   Eye,

The export BlockRenderer was not found in module [project]/lib/scorm/block-engine.tsx [app-ssr] (ecmascript).
Did you mean to import renderBlock?
All exports of the module are statically known (It doesn't have dynamic exports). So it's known statically that the requested export doesn't exist.

Import traces:
  Client Component Browser:
    ./app/(editor)/scorm-ai/page.tsx [Client Component Browser]
    ./app/(editor)/scorm-ai/page.tsx [Server Component]

  Client Component SSR:
    ./app/(editor)/scorm-ai/page.tsx [Client Component SSR]
    ./app/(editor)/scorm-ai/page.tsx [Server Component]
[01:24:22.726] Server  LOG      ✓ Compiled in 549ms
[01:24:49.799] Browser LOG     %c[Vercel Web Analytics]%c [pageview] https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/scorm-ai color: rgb(120, 120, 120) color: inherit {"dp":"/scorm-ai","o":"https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/scorm-ai","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1763890818181}
[01:29:01.114] Server  LOG      ✓ Compiled in 391ms
[01:40:52.828] Server  LOG      ✓ Compiled in 290ms
[01:41:14.306] Browser LOG     Project saved! {"id":"proj-1763891781813","language":"en","pages":[{"blocks":[],"id":"page-1","title":"Introduction"}],"title":"Untitled Project","version":"1.0"}
[01:41:21.828] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[01:41:21.828] Browser LOG     %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[01:41:21.829] Browser LOG     %c[Vercel Web Analytics]%c Running queued event color: rgb(120, 120, 120) color: inherit pageview {"path":"/scorm-ai","route":"/scorm-ai"}
[01:41:21.829] Browser LOG     %c[Vercel Web Analytics]%c [pageview] https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/scorm-ai color: rgb(120, 120, 120) color: inherit {"dp":"/scorm-ai","o":"https://3000-firebase-edupack-new-1763884054369.cluster-hllxpfasbba62ri4b2ygaupuxu.cloudworkstations.dev/scorm-ai","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1763891810285}
[01:41:31.917] Server  ERROR    ⨯ ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape



./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant


[01:41:32.530] Server  ERROR    ⨯ ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape



./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant


[01:41:32.813] Server  ERROR    ⨯ ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape



./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant


[01:41:34.200] Server  ERROR    ⨯ ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape



./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant


[01:41:34.490] Server  ERROR    ⨯ ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape



./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant


[01:41:34.513] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:41:34.514] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:41:34.963] Server  LOG      ○ Compiling /_error ...
[01:41:35.113] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:41:35.113] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:41:35.247] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:41:35.247] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:41:35.376] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:41:35.377] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:41:36.784] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:41:36.784] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:41:36.784] Browser ERROR   Failed to export project: {}
[01:41:36.784] Browser ERROR   Failed to export project: {}
[01:41:36.784] Browser ERROR   Failed to export project: {}
[01:41:36.784] Browser ERROR   Failed to export project: {}
[01:41:39.384] Browser ERROR   Failed to export project: {}
[01:42:39.048] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:42:39.048] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:44:06.446] Browser ERROR   uncaughtError: Error: ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape


[01:44:07.039] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:44:07.039] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:44:08.036] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:44:08.036] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:46:41.732] Browser ERROR   uncaughtError: Error: ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape


[01:46:42.840] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:46:42.840] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:46:46.596] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:46:46.596] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:46:53.036] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:46:53.036] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:49:37.065] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:49:37.065] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:51:20.035] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:51:20.035] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:52:59.038] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:52:59.038] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:53:07.041] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:53:07.041] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:56:16.401] Browser ERROR   uncaughtError: Error: ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape


[01:56:16.947] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:56:16.947] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:56:18.049] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:56:18.049] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:56:18.049] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:56:18.049] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:56:43.045] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:56:43.045] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:58:01.049] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:58:01.049] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:59:27.788] Browser ERROR   uncaughtError: Error: ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape


[01:59:29.151] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:59:29.151] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[01:59:29.151] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[01:59:29.151] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[02:02:48.292] Browser ERROR   uncaughtError: Error: ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape


[02:02:48.802] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[02:02:48.802] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
[02:02:49.005] Browser ERROR   ./app/api/scorm/export/route.ts:1:43
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                           ^

Expected unicode escape
[02:02:49.005] Browser ERROR   ./app/api/scorm/export/route.ts:1:44
Parsing ecmascript source code failed
> 1 | import { NextRequest, NextResponse } from \'next/server\';\nimport JSZip from \'jszip\';\nimport { EditorProject } from \'@/lib/scorm/types\';\nimport { promises as fs } from \'fs\';\nimport path from \'path\';\n\nasync function getTemplateFile(filePath: string): Promise<string> {\n  const absolutePath = path.join(process.cwd(), \'lib/scorm/templates/scorm2004\', filePath);\n  return fs.readFile(absolutePath, \'utf-8\');\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const project = await req.json() as EditorProject;\n\n    const zip = new JSZip();\n\n    // Add XSD files\n    zip.file(\'imscp_v1p1.xsd\', await getTemplateFile(\'imscp_v1p1.xsd\'));\n    zip.file(\'adlcp_v1p3.xsd\', await getTemplateFile(\'adlcp_v1p3.xsd\'));\n    zip.file(\'adlnav_v1p3.xsd\', await getTemplateFile(\'adlnav_v1p3.xsd\'));\n    zip.file(\'adlseq_v1p3.xsd\', await getTemplateFile(\'adlseq_v1p3.xsd\'));\n    zip.file(\'imsss_v1p0.xsd\', await getTemplateFile(\'imsss_v1p0.xsd\'));\n    zip.file(\'xml.xsd\', await getTemplateFile(\'xml.xsd\'));\n\n    // Create imsmanifest.xml\n    let manifest = await getTemplateFile(\'imsmanifest.xml\');\n    manifest = manifest.replace(/\[\[IDENTIFIER\]\]/g, project.id)\n                       .replace(/\[\[TITLE\]\]/g, project.title)\n                       .replace(/\[\[ORGANIZATION_ID\]\]/g, `${project.id}-org`)\n                       .replace(/\[\[FILES\]\]/g, \'<file href=\"index.html\" />\');\n\n    zip.file(\'imsmanifest.xml\', manifest);\n\n    // Create index.html\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \'en\'}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${project.title}</title>\n        <script>\n          // Mock SCORM API for demonstration\n          var API = {\n            LMSInitialize: function() { console.log(\'LMSInitialize\'); return \'true\'; },\n            LMSFinish: function() { console.log(\'LMSFinish\'); return \'true\'; },\n            LMSGetValue: function(name) { console.log(\'LMSGetValue\', name); return \'\'; },\n            LMSSetValue: function(name, value) { console.log(\'LMSSetValue\', name, value); return \'true\'; },\n            LMSCommit: function() { console.log(\'LMSCommit\'); return \'true\'; },\n            LMSGetLastError: function() { console.log(\'LMSGetLastError\'); return \'0\'; },\n            LMSGetErrorString: function(code) { console.log(\'LMSGetErrorString\', code); return \'No error\'; },\n            LMSGetDiagnostic: function(code) { console.log(\'LMSGetDiagnostic\', code); return \'No error\'; },\n          };\n        </script>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages.map(page => `\n          <h2>${page.title}</h2>\n          ${page.blocks.map(block => {\n            switch (block.type) {\n              case \'text\': return block.html;\n              case \'image\': return `<img src=\"${block.src}\" alt=\"${block.alt || \'\'}\">`;\n              case \'video\': return `<video src=\"${block.src}\" controls></video>`;\n              case \'quiz\': return `\n                <div>\n                  <p>${block.question}</p>\n                  ${block.options.map(o => `\n                    <div>\n                      <input type=\"radio\" id=\"${o.id}\" name=\"${block.id}\">\n                      <label for=\"${o.id}\">${o.label}</label>\n                    </div>\n                  `).join(\'\')}\n                </div>\n              `;\n              default: return \'\';\n            }\n          }).join(\'\')}\n        `).join(\'\')}\n      </body>\n      </html>\n    `;\n\n    zip.file(\'index.html\', htmlContent);\n\n    const zipBuffer = await zip.generateAsync({ type: \'nodebuffer\' });\n\n    return new NextResponse(zipBuffer, {\n      status: 200,\n      headers: {\n        \'Content-Type\': \'application/zip\',\n        \'Content-Disposition\': `attachment; filename=\"${project.title}.zip\"`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\'Error creating SCORM package:\', error);\n    return new NextResponse(\'Error creating SCORM package\', { status: 500 });\n  }\n}\n
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Unterminated string constant
