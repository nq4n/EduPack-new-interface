{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/layout/navbar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Navbar = registerClientReference(\n    function() { throw new Error(\"Attempted to call Navbar() from the server but Navbar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/navbar.tsx <module evaluation>\",\n    \"Navbar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,8DACA","ignoreList":[0]}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/layout/navbar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Navbar = registerClientReference(\n    function() { throw new Error(\"Attempted to call Navbar() from the server but Navbar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/navbar.tsx\",\n    \"Navbar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,0CACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/lib/supabase/server.ts"],"sourcesContent":["// lib/supabase/server.ts\r\nimport { cookies } from \"next/headers\";\r\nimport { createServerClient } from \"@supabase/ssr\";\r\n\r\nexport function createClient() {\r\n  const cookieStore = cookies();\r\n\r\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n  if (!supabaseUrl || !supabaseAnonKey) {\r\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY\");\r\n  }\r\n\r\n  return createServerClient(supabaseUrl, supabaseAnonKey, {\r\n    cookies: {\r\n      get(name: string) {\r\n        // Read a cookie value on the server\r\n        return cookieStore.get(name)?.value;\r\n      },\r\n      set(name: string, value: string, options: any) {\r\n        // Set a cookie (Supabase will use this for auth)\r\n        cookieStore.set({ name, value, ...options });\r\n      },\r\n      remove(name: string, options: any) {\r\n        // Remove a cookie\r\n        cookieStore.set({ name, value: \"\", ...options });\r\n      },\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AACzB;AACA;AAAA;;;AAEO,SAAS;IACd,MAAM,cAAc,IAAA,0IAAO;IAE3B,MAAM;IACN,MAAM;IAEN;;IAIA,OAAO,IAAA,+LAAkB,EAAC,aAAa,iBAAiB;QACtD,SAAS;YACP,KAAI,IAAY;gBACd,oCAAoC;gBACpC,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAY;gBAC3C,iDAAiD;gBACjD,YAAY,GAAG,CAAC;oBAAE;oBAAM;oBAAO,GAAG,OAAO;gBAAC;YAC5C;YACA,QAAO,IAAY,EAAE,OAAY;gBAC/B,kBAAkB;gBAClB,YAAY,GAAG,CAAC;oBAAE;oBAAM,OAAO;oBAAI,GAAG,OAAO;gBAAC;YAChD;QACF;IACF;AACF"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/lib/db.ts"],"sourcesContent":["import { createClient } from './supabase/server'\nimport { User } from '@supabase/supabase-js'\n\nexport const ensureUserProfile = async (user: User) => {\n  const supabase = createClient()\n  \n  // Check if a profile already exists for this user\n  const { data: profile, error: getError } = await supabase\n    .from('profiles')\n    .select('id')\n    .eq('id', user.id)\n    .single()\n\n  if (getError && getError.code !== 'PGRST116') {\n    // PGRST116: 'No rows found' - this is expected if the profile doesn't exist\n    console.error('Error checking for user profile:', getError)\n    return\n  }\n\n  // If a profile doesn't exist, create one\n  if (!profile) {\n    const { error: insertError } = await supabase.from('profiles').insert({\n      id: user.id,\n      email: user.email,\n      full_name: user.user_metadata.full_name,\n      preferred_language: user.user_metadata.preferred_language,\n    })\n\n    if (insertError) {\n      console.error('Error creating user profile:', insertError)\n    }\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,oBAAoB,OAAO;IACtC,MAAM,WAAW,IAAA,yIAAY;IAE7B,kDAAkD;IAClD,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,SAC9C,IAAI,CAAC,YACL,MAAM,CAAC,MACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;IAET,IAAI,YAAY,SAAS,IAAI,KAAK,YAAY;QAC5C,4EAA4E;QAC5E,QAAQ,KAAK,CAAC,oCAAoC;QAClD;IACF;IAEA,yCAAyC;IACzC,IAAI,CAAC,SAAS;QACZ,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC;YACpE,IAAI,KAAK,EAAE;YACX,OAAO,KAAK,KAAK;YACjB,WAAW,KAAK,aAAa,CAAC,SAAS;YACvC,oBAAoB,KAAK,aAAa,CAAC,kBAAkB;QAC3D;QAEA,IAAI,aAAa;YACf,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF;AACF"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\r\nimport type { SupabaseClient } from \"@supabase/supabase-js\";\r\n\r\nlet browserClient: SupabaseClient | null = null;\r\n\r\nexport function createClient() {\r\n  if (browserClient) return browserClient;\r\n\r\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\n  if (!supabaseUrl || !supabaseAnonKey) {\r\n    throw new Error(\r\n      \"Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY\"\r\n    );\r\n  }\r\n\r\n  browserClient = createBrowserClient(supabaseUrl, supabaseAnonKey);\r\n  return browserClient;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAGA,IAAI,gBAAuC;AAEpC,SAAS;IACd,IAAI,eAAe,OAAO;IAE1B,MAAM;IACN,MAAM;IAEN;;IAMA,gBAAgB,IAAA,iMAAmB,EAAC,aAAa;IACjD,OAAO;AACT"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/auth-provider.tsx"],"sourcesContent":["import { ensureUserProfile } from '@/lib/db'\r\nimport { createContext, useContext, useEffect, useState } from 'react'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport type { SupabaseClient, User } from '@supabase/supabase-js'\r\n\r\ntype SupabaseContext = {\r\n  supabase: SupabaseClient\r\n  user: User | null\r\n}\r\n\r\nconst Context = createContext<SupabaseContext | undefined>(undefined)\r\n\r\nexport default function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const supabase = createClient()\r\n\r\n  useEffect(() => {\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(async (_, session) => {\r\n      try {\r\n        console.debug('[AUTH PROVIDER] onAuthStateChange session', { session })\r\n      } catch (err) {\r\n        // ignore\r\n      }\r\n      if (session?.user) {\r\n        await ensureUserProfile(session.user)\r\n      }\r\n      setUser(session?.user ?? null)\r\n    })\r\n\r\n    supabase.auth.getSession().then(async ({ data: { session } }) => {\r\n      try {\r\n        console.debug('[AUTH PROVIDER] getSession result', { session })\r\n      } catch (err) {}\r\n\r\n      if (session?.user) {\r\n        await ensureUserProfile(session.user)\r\n      }\r\n      setUser(session?.user ?? null)\r\n    })\r\n\r\n    return () => {\r\n      subscription.unsubscribe()\r\n    }\r\n  }, [supabase])\r\n\r\n  return (\r\n    <Context.Provider value={{ supabase, user }}>\r\n      <>{children}</>\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport const useSupabase = () => {\r\n  const context = useContext(Context)\r\n\r\n  if (context === undefined) {\r\n    throw new Error('useSupabase must be used inside AuthProvider')\r\n  }\r\n\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AAQA,MAAM,wBAAU,IAAA,sNAAa,EAA8B;AAE5C,SAAS,aAAa,EAAE,QAAQ,EAAiC;IAC9E,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAA,kNAAS,EAAC;QACR,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG;YAC3E,IAAI;gBACF,QAAQ,KAAK,CAAC,6CAA6C;oBAAE;gBAAQ;YACvE,EAAE,OAAO,KAAK;YACZ,SAAS;YACX;YACA,IAAI,SAAS,MAAM;gBACjB,MAAM,IAAA,8HAAiB,EAAC,QAAQ,IAAI;YACtC;YACA,QAAQ,SAAS,QAAQ;QAC3B;QAEA,SAAS,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;YAC1D,IAAI;gBACF,QAAQ,KAAK,CAAC,qCAAqC;oBAAE;gBAAQ;YAC/D,EAAE,OAAO,KAAK,CAAC;YAEf,IAAI,SAAS,MAAM;gBACjB,MAAM,IAAA,8HAAiB,EAAC,QAAQ,IAAI;YACtC;YACA,QAAQ,SAAS,QAAQ;QAC3B;QAEA,OAAO;YACL,aAAa,WAAW;QAC1B;IACF,GAAG;QAAC;KAAS;IAEb,qBACE,8OAAC,QAAQ,QAAQ;QAAC,OAAO;YAAE;YAAU;QAAK;kBACxC,cAAA;sBAAG;;;;;;;AAGT;AAEO,MAAM,cAAc;IACzB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAE3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/ui/sonner.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Toaster = registerClientReference(\n    function() { throw new Error(\"Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sonner.tsx <module evaluation>\",\n    \"Toaster\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,UAAU,IAAA,wQAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,0DACA","ignoreList":[0]}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/ui/sonner.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Toaster = registerClientReference(\n    function() { throw new Error(\"Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sonner.tsx\",\n    \"Toaster\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,UAAU,IAAA,wQAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,sCACA","ignoreList":[0]}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/app/layout.tsx"],"sourcesContent":["import type { Metadata } from \"next\";\r\nimport \"./globals.css\";\r\nimport { Navbar } from \"@/components/layout/navbar\";\r\nimport AuthProvider from \"@/components/auth-provider\";\r\nimport { Toaster } from \"@/components/ui/sonner\";\r\n\r\nexport const metadata: Metadata = {\r\n  title: \"EduPack\",\r\n  description: \"Create SCORM packages with ease.\",\r\n};\r\n\r\nexport default function RootLayout({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <html lang=\"en\">\r\n      <body>\r\n        <AuthProvider>\r\n          <Navbar />\r\n          <main>{children}</main>\r\n          <Toaster />\r\n        </AuthProvider>\r\n      </body>\r\n    </html>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;;;;;;AAEO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;AACf;AAEe,SAAS,WAAW,EAAE,QAAQ,EAAiC;IAC5E,qBACE,8OAAC;QAAK,MAAK;kBACT,cAAA,8OAAC;sBACC,cAAA,8OAAC,0IAAY;;kCACX,8OAAC,yIAAM;;;;;kCACP,8OAAC;kCAAM;;;;;;kCACP,8OAAC,sIAAO;;;;;;;;;;;;;;;;;;;;;AAKlB"}}]
}