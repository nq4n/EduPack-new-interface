{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,4TAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/lib/scorm/block-engine.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport {\n  EditorBlock,\n  EditorProject,\n  TextBlock,\n  ImageBlock,\n  VideoBlock,\n  QuizBlock,\n  InteractiveBlock,\n} from \"@/lib/scorm/types\"\n\ninterface Props {\n  block: EditorBlock\n  onClick?: (b: EditorBlock) => void\n  theme?: EditorProject[\"theme\"]\n}\n\nexport function BlockRenderer({ block, onClick, theme }: Props) {\n  const select = () => onClick?.(block)\n\n  /* ========= TEXT ========= */\n  if (block.type === \"text\") {\n    const b = block as TextBlock\n    const style = b.style || {}\n    const themeStyles = theme?.styles || {}\n\n    const styleObj: React.CSSProperties = {\n      ...themeStyles,\n      fontWeight: style.bold ? \"bold\" : \"normal\",\n      fontStyle: style.italic ? \"italic\" : \"normal\",\n      textDecoration: style.underline ? \"underline\" : \"none\",\n      fontSize: style.size || \"inherit\",\n      textAlign: style.align as React.CSSProperties[\"textAlign\"],\n      direction: style.direction as React.CSSProperties[\"direction\"],\n      color: style.color,\n      background: style.background,\n      padding: style.padding,\n      borderRadius: style.radius,\n      lineHeight: style.lineHeight,\n      ...style,\n    }\n\n    return (\n      <div\n        onClick={select}\n        className=\"prose prose-sm max-w-none\"\n        style={styleObj}\n        dangerouslySetInnerHTML={{ __html: b.html || \"\" }}\n      />\n    )\n  }\n\n  /* ========= IMAGE ========= */\n  if (block.type === \"image\") {\n    const b = block as ImageBlock;\n    return (\n      <figure onClick={select} className=\"flex flex-col items-center\">\n        <img\n          src={b.src}\n          alt={b.alt || \"\"}\n          className=\"rounded-xl border bg-slate-50\"\n        />\n        {b.alt && (\n          <figcaption className=\"text-[11px] text-slate-500\">\n            {b.alt}\n          </figcaption>\n        )}\n      </figure>\n    );\n  }\n\n  /* ========= VIDEO ========= */\n  if (block.type === \"video\") {\n    const b = block as VideoBlock;\n    return (\n      <div onClick={select}>\n        <video\n          src={b.src}\n          controls\n          className=\"w-full rounded-xl border bg-black\"\n        />\n      </div>\n    );\n  }\n\n  /* ========= QUIZ ========= */\n  if (block.type === \"quiz\") {\n    const b = block as QuizBlock;\n    return (\n      <div\n        onClick={select}\n        className=\"rounded-xl border bg-slate-50 p-3 space-y-2\"\n      >\n        <p className=\"text-sm font-semibold\">{b.question}</p>\n\n        {(b.options || []).map((o) => (\n          <label\n            key={o.id}\n            className=\"flex items-center gap-2 text-xs text-slate-700\"\n          >\n            <input\n              type=\"radio\"\n              name={b.id}\n              onClick={(e) => e.stopPropagation()}\n            />\n            <span>{o.label}</span>\n          </label>\n        ))}\n      </div>\n    );\n  }\n\n  /* ========= INTERACTIVE ========= */\n  if (block.type === \"interactive\") {\n    const b = block as InteractiveBlock;\n    const style = b.style || {};\n\n    /* General shape */\n    const styleObj: React.CSSProperties = {\n      padding: style.padding || \"10px\",\n      borderRadius:\n        style.radius ||\n        (b.variant === \"button\" ? \"999px\" : \"12px\"),\n      background:\n        style.background ||\n        (b.variant === \"button\"\n          ? \"#0ea5e9\"\n          : b.variant === \"callout\"\n          ? \"#eef2ff\"\n          : \"#f1f5f9\"),\n      boxShadow: style.shadow ? \"0 8px 20px rgba(0,0,0,0.15)\" : \"none\",\n      cursor: \"pointer\",\n    };\n\n    /* ---- BUTTON ---- */\n    if (b.variant === \"button\") {\n      return (\n        <button\n          onClick={select}\n          style={styleObj}\n          className=\"text-xs text-white\"\n        >\n          {b.label || \"Interactive\"}\n        </button>\n      );\n    }\n\n    /* ---- CALLOUT ---- */\n    if (b.variant === \"callout\") {\n      return (\n        <div onClick={select} style={styleObj}>\n          {b.label && <p className=\"font-semibold\">{b.label}</p>}\n          {b.bodyHtml ? (\n            <div\n              dangerouslySetInnerHTML={{ __html: b.bodyHtml }}\n              className=\"prose prose-xs\"\n            />\n          ) : (\n            <p className=\"text-[11px] text-slate-500\">Empty callout.</p>\n          )}\n        </div>\n      );\n    }\n\n    /* ---- REVEAL ---- */\n    if (b.variant === \"reveal\") {\n      return (\n        <details\n          onClick={(e) => {\n            e.stopPropagation();\n            select();\n          }}\n          open={b.initiallyOpen}\n          style={styleObj}\n        >\n          <summary>{b.label || \"Show\"}</summary>\n          <div\n            className=\"mt-2 prose prose-xs\"\n            dangerouslySetInnerHTML={{\n              __html:\n                b.bodyHtml || \"<em style='color:#999'>Empty reveal</em>\",\n            }}\n          />\n        </details>\n      );\n    }\n\n    /* ---- CUSTOM ---- */\n    if (b.variant === \"custom\") {\n      return (\n        <div\n          onClick={select}\n          style={styleObj}\n          dangerouslySetInnerHTML={{\n            __html:\n              b.customHtml ||\n              \"<em style='color:#999;font-size:12px'>Empty custom HTML</em>\",\n          }}\n        />\n      );\n    }\n  }\n\n  /* ========= DEFAULT ========= */\n  return (\n    <div onClick={select} className=\"text-[11px] text-slate-400\">\n      Unknown block type.\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/ui/separator.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(\n  (\n    {\n      className,\n      orientation = \"horizontal\",\n      decorative = true,\n      ...props\n    },\n    ref,\n  ) => (\n    <div\n      ref={ref}\n      role={decorative ? \"none\" : undefined}\n      aria-orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n)\nSeparator.displayName = \"Separator\"\n\nexport { Separator }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,0BAAY,0SAAgB,MAIhC,CACE,EACE,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACJ,EACD,oBAEA,4TAAC;QACC,KAAK;QACL,MAAM,aAAa,SAAS;QAC5B,oBAAkB;QAClB,WAAW,IAAA,qHAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG"}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/scorm/panels/text-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { TextBlock } from \"@/lib/scorm/types\"\n\ninterface Props {\n  block: TextBlock\n  onChange: (updated: TextBlock) => void\n}\n\nexport default function TextPanel({ block, onChange }: Props) {\n  const style = block.style || {}\n\n  const updateStyle = (key: string, value: any) => {\n    onChange({\n      ...block,\n      style: {\n        ...style,\n        [key]: value,\n      },\n    })\n  }\n\n  return (\n    <div className=\"p-4 space-y-4 text-sm\">\n      {/* Title */}\n      <p className=\"font-semibold text-slate-700\">Text Settings</p>\n\n      {/* TEXT CONTENT */}\n      <div>\n        <label className=\"block mb-1 text-xs\">Content</label>\n        <textarea\n          className=\"w-full border rounded px-2 py-2 h-32 text-xs\"\n          value={block.html}\n          onChange={(e) =>\n            onChange({\n              ...block,\n              html: e.target.value,\n            })\n          }\n        />\n      </div>\n\n      {/* FONT OPTIONS */}\n      <div className=\"space-y-2\">\n        <p className=\"text-xs font-semibold text-slate-600\">Typography</p>\n\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          <button\n            type=\"button\"\n            className={\n              \"px-2 py-1 rounded border text-xs font-bold \" +\n              (style.bold ? \"bg-sky-600 text-white\" : \"bg-white\")\n            }\n            onClick={() => updateStyle(\"bold\", !style.bold)}\n          >\n            B\n          </button>\n\n          <button\n            type=\"button\"\n            className={\n              \"px-2 py-1 rounded border text-xs italic \" +\n              (style.italic ? \"bg-sky-600 text-white\" : \"bg-white\")\n            }\n            onClick={() => updateStyle(\"italic\", !style.italic)}\n          >\n            I\n          </button>\n\n          <button\n            type=\"button\"\n            className={\n              \"px-2 py-1 rounded border text-xs underline \" +\n              (style.underline ? \"bg-sky-600 text-white\" : \"bg-white\")\n            }\n            onClick={() => updateStyle(\"underline\", !style.underline)}\n          >\n            U\n          </button>\n\n          <select\n            className=\"border rounded px-2 py-1 text-xs\"\n            value={style.size || \"16px\"}\n            onChange={(e) => updateStyle(\"size\", e.target.value)}\n          >\n            <option value=\"14px\">14</option>\n            <option value=\"16px\">16</option>\n            <option value=\"18px\">18</option>\n            <option value=\"20px\">20</option>\n            <option value=\"24px\">24</option>\n          </select>\n        </div>\n      </div>\n\n      {/* ALIGNMENT */}\n      <div>\n        <p className=\"text-xs font-semibold mb-1\">Alignment</p>\n        <div className=\"flex gap-2\">\n          {[\"left\", \"center\", \"right\", \"justify\"].map((a) => (\n            <button\n              type=\"button\"\n              key={a}\n              className={\n                \"px-2 py-1 rounded border text-xs capitalize \" +\n                (style.align === a ? \"bg-sky-600 text-white\" : \"bg-white\")\n              }\n              onClick={() => updateStyle(\"align\", a)}\n            >\n              {a}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* DIRECTION */}\n      <div>\n        <p className=\"text-xs font-semibold mb-1\">Direction</p>\n        <div className=\"flex gap-2\">\n          <button\n            type=\"button\"\n            className={\n              \"px-3 py-1 rounded border text-xs \" +\n              (style.direction === \"ltr\" ? \"bg-sky-600 text-white\" : \"bg-white\")\n            }\n            onClick={() => updateStyle(\"direction\", \"ltr\")}\n          >\n            LTR\n          </button>\n\n          <button\n            type=\"button\"\n            className={\n              \"px-3 py-1 rounded border text-xs \" +\n              (style.direction === \"rtl\" ? \"bg-sky-600 text-white\" : \"bg-white\")\n            }\n            onClick={() => updateStyle(\"direction\", \"rtl\")}\n          >\n            RTL\n          </button>\n        </div>\n      </div>\n\n      {/* COLORS */}\n      <div className=\"flex gap-4 items-center\">\n        <div>\n          <p className=\"text-xs mb-1\">Text Color</p>\n          <input\n            type=\"color\"\n            value={style.color || \"#000000\"}\n            onChange={(e) => updateStyle(\"color\", e.target.value)}\n          />\n        </div>\n\n        <div>\n          <p className=\"text-xs mb-1\">Background</p>\n          <input\n            type=\"color\"\n            value={style.background || \"#ffffff\"}\n            onChange={(e) => updateStyle(\"background\", e.target.value)}\n          />\n        </div>\n      </div>\n\n      {/* SPACING */}\n      <div className=\"space-y-2\">\n        <p className=\"text-xs font-semibold\">Spacing</p>\n\n        <label className=\"text-xs\">Padding</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.padding || 8)}\n          onChange={(e) => updateStyle(\"padding\", `${e.target.value}px`)}\n        />\n\n        <label className=\"text-xs\">Border Radius</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.radius || 0)}\n          onChange={(e) => updateStyle(\"radius\", `${e.target.value}px`)}\n        />\n\n        <label className=\"text-xs\">Line Height</label>\n        <select\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={style.lineHeight || \"1.6\"}\n          onChange={(e) => updateStyle(\"lineHeight\", e.target.value)}\n        >\n          <option value=\"1.2\">1.2</option>\n          <option value=\"1.4\">1.4</option>\n          <option value=\"1.6\">1.6</option>\n          <option value=\"1.8\">1.8</option>\n          <option value=\"2.0\">2.0</option>\n        </select>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 818, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/scorm/panels/media-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { ImageBlock } from \"@/lib/scorm/types\"\n\ninterface Props {\n  block: ImageBlock\n  onChange: (updated: ImageBlock) => void\n}\n\nexport default function MediaPanel({ block, onChange }: Props) {\n  const style = block.style || {}\n\n  const updateStyle = (key: string, value: any) => {\n    onChange({\n      ...block,\n      style: {\n        ...style,\n        [key]: value,\n      },\n    })\n  }\n\n  return (\n    <div className=\"p-4 space-y-4 text-sm\">\n      {/* Title */}\n      <p className=\"font-semibold text-slate-700\">Image Settings</p>\n\n      {/* IMAGE URL */}\n      <div>\n        <label className=\"block mb-1 text-xs\">Image URL</label>\n        <input\n          type=\"text\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={block.src}\n          onChange={(e) => onChange({ ...block, src: e.target.value })}\n        />\n      </div>\n\n      {/* ALT TEXT */}\n      <div>\n        <label className=\"block mb-1 text-xs\">Alt Text</label>\n        <input\n          type=\"text\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={block.alt || \"\"}\n          onChange={(e) => onChange({ ...block, alt: e.target.value })}\n        />\n      </div>\n\n      {/* SIZE */}\n      <div>\n        <p className=\"text-xs font-semibold mb-1\">Size</p>\n\n        <label className=\"text-xs\">Width (%)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.width || \"100\")}\n          min={10}\n          max={100}\n          onChange={(e) => updateStyle(\"width\", `${e.target.value}%`)}\n        />\n\n        <label className=\"text-xs mt-2\">Max Width (px)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.maxWidth || \"800\")}\n          onChange={(e) => updateStyle(\"maxWidth\", `${e.target.value}px`)}\n        />\n      </div>\n\n      {/* ALIGNMENT */}\n      <div>\n        <p className=\"text-xs font-semibold mb-1\">Alignment</p>\n        <div className=\"flex gap-2\">\n          {[\"left\", \"center\", \"right\"].map((a) => (\n            <button\n              type=\"button\"\n              key={a}\n              className={\n                \"px-3 py-1 rounded border text-xs capitalize \" +\n                (style.align === a ? \"bg-sky-600 text-white\" : \"bg-white\")\n              }\n              onClick={() => updateStyle(\"align\", a)}\n            >\n              {a}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* APPEARANCE */}\n      <div>\n        <p className=\"text-xs font-semibold mb-1\">Appearance</p>\n\n        <label className=\"text-xs\">Border Radius (px)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.radius || \"0\")}\n          onChange={(e) => updateStyle(\"radius\", `${e.target.value}px`)}\n        />\n\n        <label className=\"text-xs mt-2\">Padding (px)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.padding || \"0\")}\n          onChange={(e) => updateStyle(\"padding\", `${e.target.value}px`)}\n        />\n\n        <label className=\"text-xs mt-3\">Background Color</label>\n        <input\n          type=\"color\"\n          className=\"w-full h-8 border rounded\"\n          value={style.background || \"#ffffff\"}\n          onChange={(e) => updateStyle(\"background\", e.target.value)}\n        />\n      </div>\n\n      {/* SHADOW */}\n      <div className=\"flex items-center gap-2\">\n        <input\n          type=\"checkbox\"\n          checked={style.shadow === true}\n          onChange={(e) => updateStyle(\"shadow\", e.target.checked)}\n        />\n        <label className=\"text-xs\">Shadow</label>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAUe,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAS;IAC3D,MAAM,QAAQ,MAAM,KAAK,IAAI,CAAC;IAE9B,MAAM,cAAc,CAAC,KAAa;QAChC,SAAS;YACP,GAAG,KAAK;YACR,OAAO;gBACL,GAAG,KAAK;gBACR,CAAC,IAAI,EAAE;YACT;QACF;IACF;IAEA,qBACE,4TAAC;QAAI,WAAU;;0BAEb,4TAAC;gBAAE,WAAU;0BAA+B;;;;;;0BAG5C,4TAAC;;kCACC,4TAAC;wBAAM,WAAU;kCAAqB;;;;;;kCACtC,4TAAC;wBACC,MAAK;wBACL,WAAU;wBACV,OAAO,MAAM,GAAG;wBAChB,UAAU,CAAC,IAAM,SAAS;gCAAE,GAAG,KAAK;gCAAE,KAAK,EAAE,MAAM,CAAC,KAAK;4BAAC;;;;;;;;;;;;0BAK9D,4TAAC;;kCACC,4TAAC;wBAAM,WAAU;kCAAqB;;;;;;kCACtC,4TAAC;wBACC,MAAK;wBACL,WAAU;wBACV,OAAO,MAAM,GAAG,IAAI;wBACpB,UAAU,CAAC,IAAM,SAAS;gCAAE,GAAG,KAAK;gCAAE,KAAK,EAAE,MAAM,CAAC,KAAK;4BAAC;;;;;;;;;;;;0BAK9D,4TAAC;;kCACC,4TAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAE1C,4TAAC;wBAAM,WAAU;kCAAU;;;;;;kCAC3B,4TAAC;wBACC,MAAK;wBACL,WAAU;wBACV,OAAO,SAAS,MAAM,KAAK,IAAI;wBAC/B,KAAK;wBACL,KAAK;wBACL,UAAU,CAAC,IAAM,YAAY,SAAS,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;;;;;;kCAG5D,4TAAC;wBAAM,WAAU;kCAAe;;;;;;kCAChC,4TAAC;wBACC,MAAK;wBACL,WAAU;wBACV,OAAO,SAAS,MAAM,QAAQ,IAAI;wBAClC,UAAU,CAAC,IAAM,YAAY,YAAY,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;;;;;;;;;;;;0BAKlE,4TAAC;;kCACC,4TAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAC1C,4TAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAQ;4BAAU;yBAAQ,CAAC,GAAG,CAAC,CAAC,kBAChC,4TAAC;gCACC,MAAK;gCAEL,WACE,iDACA,CAAC,MAAM,KAAK,KAAK,IAAI,0BAA0B,UAAU;gCAE3D,SAAS,IAAM,YAAY,SAAS;0CAEnC;+BAPI;;;;;;;;;;;;;;;;0BAcb,4TAAC;;kCACC,4TAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAE1C,4TAAC;wBAAM,WAAU;kCAAU;;;;;;kCAC3B,4TAAC;wBACC,MAAK;wBACL,WAAU;wBACV,OAAO,SAAS,MAAM,MAAM,IAAI;wBAChC,UAAU,CAAC,IAAM,YAAY,UAAU,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;;;;;;kCAG9D,4TAAC;wBAAM,WAAU;kCAAe;;;;;;kCAChC,4TAAC;wBACC,MAAK;wBACL,WAAU;wBACV,OAAO,SAAS,MAAM,OAAO,IAAI;wBACjC,UAAU,CAAC,IAAM,YAAY,WAAW,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;;;;;;kCAG/D,4TAAC;wBAAM,WAAU;kCAAe;;;;;;kCAChC,4TAAC;wBACC,MAAK;wBACL,WAAU;wBACV,OAAO,MAAM,UAAU,IAAI;wBAC3B,UAAU,CAAC,IAAM,YAAY,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0BAK7D,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBACC,MAAK;wBACL,SAAS,MAAM,MAAM,KAAK;wBAC1B,UAAU,CAAC,IAAM,YAAY,UAAU,EAAE,MAAM,CAAC,OAAO;;;;;;kCAEzD,4TAAC;wBAAM,WAAU;kCAAU;;;;;;;;;;;;;;;;;;AAInC;KA3HwB"}},
    {"offset": {"line": 1109, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/scorm/panels/video-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { VideoBlock } from \"@/lib/scorm/types\"\n\ninterface VideoPanelProps {\n  block: VideoBlock\n  onChange: (updated: VideoBlock) => void\n}\n\nexport default function VideoPanel({ block, onChange }: VideoPanelProps) {\n  const style = block.style || {}\n\n  const updateStyle = (key: string, value: any) => {\n    onChange({\n      ...block,\n      style: {\n        ...style,\n        [key]: value,\n      },\n    })\n  }\n\n  return (\n    <div className=\"p-4 space-y-4 text-sm\">\n      <p className=\"font-semibold text-slate-700\">Video Settings</p>\n\n      {/* VIDEO URL */}\n      <div>\n        <label className=\"block mb-1 text-xs\">Video URL</label>\n        <input\n          type=\"text\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={block.src}\n          onChange={(e) => onChange({ ...block, src: e.target.value })}\n        />\n      </div>\n\n      {/* PLAYER BEHAVIOR */}\n      <div>\n        <p className=\"text-xs font-semibold mb-1\">Playback</p>\n        <div className=\"space-y-1 text-xs\">\n          <label className=\"flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              checked={style.autoplay === true}\n              onChange={(e) => updateStyle(\"autoplay\", e.target.checked)}\n            />\n            <span>Autoplay</span>\n          </label>\n\n          <label className=\"flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              checked={style.controls !== false}\n              onChange={(e) => updateStyle(\"controls\", e.target.checked)}\n            />\n            <span>Show controls</span>\n          </label>\n\n          <label className=\"flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              checked={style.loop === true}\n              onChange={(e) => updateStyle(\"loop\", e.target.checked)}\n            />\n            <span>Loop video</span>\n          </label>\n\n          <label className=\"flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              checked={style.muted === true}\n              onChange={(e) => updateStyle(\"muted\", e.target.checked)}\n            />\n            <span>Muted</span>\n          </label>\n        </div>\n      </div>\n\n      {/* SIZE */}\n      <div>\n        <p className=\"text-xs font-semibold mb-1\">Size</p>\n\n        <label className=\"text-xs\">Width (%)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.width || \"100\")}\n          min={10}\n          max={100}\n          onChange={(e) => updateStyle(\"width\", `${e.target.value}%`)}\n        />\n\n        <label className=\"text-xs mt-2\">Max Width (px)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.maxWidth || \"800\")}\n          onChange={(e) => updateStyle(\"maxWidth\", `${e.target.value}px`)}\n        />\n      </div>\n\n      {/* APPEARANCE */}\n      <div>\n        <p className=\"text-xs font-semibold mb-1\">Appearance</p>\n\n        <label className=\"text-xs\">Border Radius (px)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.radius || \"0\")}\n          onChange={(e) => updateStyle(\"radius\", `${e.target.value}px`)}\n        />\n\n        <label className=\"text-xs mt-2\">Padding (px)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.padding || \"0\")}\n          onChange={(e) => updateStyle(\"padding\", `${e.target.value}px`)}\n        />\n\n        <label className=\"text-xs mt-2\">Background Color</label>\n        <input\n          type=\"color\"\n          className=\"w-full h-8 border rounded\"\n          value={style.background || \"#ffffff\"}\n          onChange={(e) => updateStyle(\"background\", e.target.value)}\n        />\n      </div>\n\n      {/* SHADOW */}\n      <div className=\"flex items-center gap-2\">\n        <input\n          type=\"checkbox\"\n          checked={style.shadow === true}\n          onChange={(e) => updateStyle(\"shadow\", e.target.checked)}\n        />\n        <span className=\"text-xs\">Shadow</span>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1459, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/scorm/panels/interactive-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { InteractiveBlock, InteractiveVariant } from \"@/lib/scorm/types\"\n\ninterface InteractivePanelProps {\n  block: InteractiveBlock\n  onChange: (updated: InteractiveBlock) => void\n}\n\nexport default function InteractivePanel({ block, onChange }: InteractivePanelProps) {\n  const style = block.style || {}\n\n  const updateBlock = (partial: Partial<InteractiveBlock>) => {\n    onChange({\n      ...block,\n      ...partial,\n    })\n  }\n\n  const updateStyle = (key: string, value: any) => {\n    onChange({\n      ...block,\n      style: {\n        ...style,\n        [key]: value,\n      },\n    })\n  }\n\n  const handleVariantChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const variant = e.target.value as InteractiveVariant\n    updateBlock({ variant })\n  }\n\n  return (\n    <div className=\"p-4 space-y-4 text-sm\">\n      <p className=\"font-semibold text-slate-700\">Interactive element</p>\n\n      {/* TYPE SELECT */}\n      <div>\n        <label className=\"block mb-1 text-xs\">Type</label>\n        <select\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={block.variant}\n          onChange={handleVariantChange}\n        >\n          <option value=\"button\">Button</option>\n          <option value=\"callout\">Callout box</option>\n          <option value=\"reveal\">Reveal box</option>\n          <option value=\"custom\">Custom HTML</option>\n        </select>\n      </div>\n\n      {/* SHARED LABEL (not really used for custom, but we keep it visible in all except maybe hide for custom if you want) */}\n      {block.variant !== \"custom\" && (\n        <div>\n          <label className=\"block mb-1 text-xs\">\n            {block.variant === \"button\"\n              ? \"Button text\"\n              : block.variant === \"reveal\"\n                ? \"Title (what learner clicks)\"\n                : \"Title\"}\n          </label>\n          <input\n            type=\"text\"\n            className=\"w-full border rounded px-2 py-1 text-xs\"\n            value={block.label}\n            onChange={(e) => updateBlock({ label: e.target.value })}\n          />\n        </div>\n      )}\n\n      {/* BUTTON SETTINGS */}\n      {block.variant === \"button\" && (\n        <div>\n          <label className=\"block mb-1 text-xs\">Link (optional)</label>\n          <input\n            type=\"text\"\n            className=\"w-full border rounded px-2 py-1 text-xs\"\n            placeholder=\"https://...\"\n            value={block.url || \"\"}\n            onChange={(e) => updateBlock({ url: e.target.value })}\n          />\n          <p className=\"text-[11px] text-slate-400 mt-1\">\n            If you leave this empty, the button will only look clickable and not open anything.\n          </p>\n        </div>\n      )}\n\n      {/* CALLOUT SETTINGS */}\n      {block.variant === \"callout\" && (\n        <div>\n          <label className=\"block mb-1 text-xs\">Callout content</label>\n          <textarea\n            className=\"w-full border rounded px-2 py-2 text-xs h-24\"\n            value={block.bodyHtml || \"\"}\n            onChange={(e) => updateBlock({ bodyHtml: e.target.value })}\n          />\n          <label className=\"block mb-1 mt-2 text-xs\">Tone</label>\n          <select\n            className=\"w-full border rounded px-2 py-1 text-xs\"\n            value={block.tone || \"info\"}\n            onChange={(e) =>\n              updateBlock({ tone: e.target.value as InteractiveBlock[\"tone\"] })\n            }\n          >\n            <option value=\"info\">Info</option>\n            <option value=\"success\">Success</option>\n            <option value=\"warning\">Warning</option>\n            <option value=\"danger\">Danger</option>\n          </select>\n        </div>\n      )}\n\n      {/* REVEAL SETTINGS */}\n      {block.variant === \"reveal\" && (\n        <div className=\"space-y-2\">\n          <label className=\"block mb-1 text-xs\">Title (clickable text)</label>\n          <input\n            type=\"text\"\n            className=\"w-full border rounded px-2 py-1 text-xs\"\n            value={block.label}\n            onChange={(e) => updateBlock({ label: e.target.value })}\n          />\n\n          <label className=\"block mb-1 text-xs\">\n            Hidden content (shown after learner clicks)\n          </label>\n          <textarea\n            className=\"w-full border rounded px-2 py-2 text-xs h-24\"\n            value={block.bodyHtml || \"\"}\n            onChange={(e) => updateBlock({ bodyHtml: e.target.value })}\n          />\n          <label className=\"inline-flex items-center gap-2 text-xs mt-1\">\n            <input\n              type=\"checkbox\"\n              checked={block.initiallyOpen === true}\n              onChange={(e) => updateBlock({ initiallyOpen: e.target.checked })}\n            />\n            <span>Open by default</span>\n          </label>\n        </div>\n      )}\n\n      {/* CUSTOM HTML SETTINGS */}\n      {block.variant === \"custom\" && (\n        <div className=\"space-y-1\">\n          <label className=\"block mb-1 text-xs\">Custom HTML</label>\n          <textarea\n            className=\"w-full border rounded px-2 py-2 text-xs h-32 font-mono\"\n            placeholder={`<div class=\"my-widget\">\\n  <!-- Your HTML here -->\\n</div>`}\n            value={block.customHtml || \"\"}\n            onChange={(e) => updateBlock({ customHtml: e.target.value })}\n          />\n          <p className=\"text-[11px] text-slate-400\">\n            For advanced users. Avoid using {\"<script>\"} tags. You can embed iframes, H5P,\n            simple widgets, etc.\n          </p>\n        </div>\n      )}\n\n      {/* APPEARANCE */}\n      <div className=\"space-y-2\">\n        <p className=\"text-xs font-semibold\">Appearance</p>\n\n        <label className=\"text-xs\">Padding (px)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.padding || \"8\")}\n          onChange={(e) => updateStyle(\"padding\", `${e.target.value}px`)}\n        />\n\n        <label className=\"text-xs\">Border radius (px)</label>\n        <input\n          type=\"number\"\n          className=\"w-full border rounded px-2 py-1 text-xs\"\n          value={parseInt(style.radius || (block.variant === \"button\" ? \"999\" : \"10\"))}\n          onChange={(e) => updateStyle(\"radius\", `${e.target.value}px`)}\n        />\n\n        <label className=\"text-xs\">Background color</label>\n        <input\n          type=\"color\"\n          className=\"w-full h-8 border rounded\"\n          value={\n            style.background ||\n            (block.variant === \"button\"\n              ? \"#0ea5e9\"\n              : block.variant === \"custom\"\n                ? \"#ffffff\"\n                : \"#eef2ff\")\n          }\n          onChange={(e) => updateStyle(\"background\", e.target.value)}\n        />\n\n        <div className=\"flex items-center gap-2 mt-1\">\n          <input\n            type=\"checkbox\"\n            checked={style.shadow === true}\n            onChange={(e) => updateStyle(\"shadow\", e.target.checked)}\n          />\n          <span className=\"text-xs\">Shadow</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1934, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/scorm/panels/project-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { EditorProject } from \"@/lib/scorm/types\"\nimport { useLocale } from \"@/hooks/use-locale\"\nimport { Button } from \"@/components/ui/button\"\n\ninterface ProjectPanelProps {\n  project: EditorProject\n  onChange: (updated: EditorProject) => void\n}\n\nexport default function ProjectPanel({ project, onChange }: ProjectPanelProps) {\n  const { t } = useLocale()\n\n  const updateProject = (partial: Partial<EditorProject>) => {\n    onChange({\n      ...project,\n      ...partial,\n    })\n  }\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Header */}\n      <div className=\"px-4 pt-4 pb-3\">\n        <div className=\"flex items-center justify-between gap-2\">\n          <div className=\"space-y-1\">\n            <h3 className=\"text-sm font-semibold leading-none\">\n              {t(\"scorm.projectPanel.title\") || \"Project Settings\"}\n            </h3>\n            <p className=\"text-[11px] text-muted-foreground\">\n              {t(\"scorm.projectPanel.subtitle\") || \"Manage overall course settings.\"}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto px-4 pb-3 text-xs space-y-4\">\n        {/* General Settings */}\n        <div className=\"space-y-2\">\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\n            {t(\"scorm.projectPanel.generalSettings\") || \"General\"}\n          </h4>\n          <div>\n            <label className=\"block mb-1 text-xs font-medium\">\n              {t(\"scorm.projectPanel.projectTitle\") || \"Project Title\"}\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border rounded px-2 py-1 text-xs\"\n              value={project.title}\n              onChange={(e) => updateProject({ title: e.target.value })}\n            />\n          </div>\n\n          <div>\n            <label className=\"block mb-1 text-xs font-medium\">\n              {t(\"scorm.props.project.direction.title\") || \"Text Direction\"}\n            </label>\n            <select\n              className=\"w-full border rounded px-2 py-1 text-xs\"\n              value={project.theme.direction}\n              onChange={(e) =>\n                updateProject({\n                  theme: {\n                    ...project.theme,\n                    direction: e.target.value as \"ltr\" | \"rtl\",\n                  },\n                })\n              }\n            >\n              <option value=\"ltr\">\n                {t(\"scorm.props.project.direction.ltr\") || \"Left-to-Right\"}\n              </option>\n              <option value=\"rtl\">\n                {t(\"scorm.props.project.direction.rtl\") || \"Right-to-Left\"}\n              </option>\n            </select>\n          </div>\n        </div>\n\n        {/* Default Styles */}\n        <div className=\"space-y-2\">\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\n            {t(\"scorm.props.project.styles.title\") || \"Default Styles\"}\n          </h4>\n          <div>\n            <label className=\"block mb-1 text-xs font-medium\">\n              {t('scorm.props.project.styles.textColor')}\n            </label>\n            <input\n              type=\"color\"\n              className=\"w-full\"\n              value={project.theme.styles.color || \"#000000\"}\n              onChange={(e) =>\n                updateProject({\n                  theme: {\n                    ...project.theme,\n                    styles: { ...project.theme.styles, color: e.target.value },\n                  },\n                })\n              }\n            />\n          </div>\n        </div>\n\n        {/* General Tracking */}\n        <div className=\"space-y-2\">\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\n            {t(\"scorm.projectPanel.generalTracking\")}\n          </h4>\n          <div className=\"flex items-center gap-4\">\n            <label className=\"flex items-center space-x-2 text-xs\">\n              <input\n                type=\"radio\"\n                name=\"trackingLevel\"\n                value=\"minimal\"\n                checked={project.tracking?.level === \"minimal\"}\n                onChange={() => updateProject({ tracking: { ...project.tracking, level: \"minimal\" } })}\n                className=\"form-radio h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.minimal\")}</span>\n            </label>\n            <label className=\"flex items-center space-x-2 text-xs\">\n              <input\n                type=\"radio\"\n                name=\"trackingLevel\"\n                value=\"standard\"\n                checked={project.tracking?.level === \"standard\"}\n                onChange={() => updateProject({ tracking: { ...project.tracking, level: \"standard\" } })}\n                className=\"form-radio h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.standard\")}</span>\n            </label>\n            <label className=\"flex items-center space-x-2 text-xs\">\n              <input\n                type=\"radio\"\n                name=\"trackingLevel\"\n                value=\"advanced\"\n                checked={project.tracking?.level === \"advanced\"}\n                onChange={() => updateProject({ tracking: { ...project.tracking, level: \"advanced\" } })}\n                className=\"form-radio h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.advanced\")}</span>\n            </label>\n          </div>\n        </div>\n\n        {/* Advanced Options */}\n        <div className=\"space-y-2\">\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\n            {t(\"scorm.projectPanel.advancedOptions\")}\n          </h4>\n          <div className=\"grid grid-cols-2 gap-2 text-xs\">\n            <label className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={project.tracking?.pageViews}\n                onChange={(e) => updateProject({ tracking: { ...project.tracking, pageViews: e.target.checked } })}\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.pageViews\")}</span>\n            </label>\n            <label className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={project.tracking?.quizInteractions}\n                onChange={(e) => updateProject({ tracking: { ...project.tracking, quizInteractions: e.target.checked } })}\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.quizInteractions\")}</span>\n            </label>\n            <label className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={project.tracking?.media}\n                onChange={(e) => updateProject({ tracking: { ...project.tracking, media: e.target.checked } })}\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.media\")}</span>\n            </label>\n            <label className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={project.tracking?.hints}\n                onChange={(e) => updateProject({ tracking: { ...project.tracking, hints: e.target.checked } })}\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.hints\")}</span>\n            </label>\n            <label className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={project.tracking?.externalLinks}\n                onChange={(e) => updateProject({ tracking: { ...project.tracking, externalLinks: e.target.checked } })}\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.externalLinks\")}</span>\n            </label>\n            <label className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={project.tracking?.timePerPage}\n                onChange={(e) => updateProject({ tracking: { ...project.tracking, timePerPage: e.target.checked } })}\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.timePerPage\")}</span>\n            </label>\n            <label className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                checked={project.tracking?.attempts}\n                onChange={(e) => updateProject({ tracking: { ...project.tracking, attempts: e.target.checked } })}\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\n              />\n              <span>{t(\"scorm.projectPanel.tracking.attempts\")}</span>\n            </label>\n          </div>\n        </div>\n\n        {/* xAPI Only Options */}\n        <div className=\"space-y-2\">\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\n            {t(\"scorm.projectPanel.xapiOptions\")}\n          </h4>\n          <div className=\"space-y-2\">\n            <div>\n              <label className=\"block mb-1 text-xs font-medium\">\n                {t(\"scorm.projectPanel.xapi.lrsEndpoint\")}\n              </label>\n              <input\n                type=\"text\"\n                className=\"w-full border rounded px-2 py-1 text-xs\"\n                value={project.xapi?.lrsEndpoint || \"\"}\n                onChange={(e) => updateProject({ xapi: { ...project.xapi, lrsEndpoint: e.target.value } })}\n              />\n            </div>\n            <div>\n              <label className=\"block mb-1 text-xs font-medium\">\n                {t(\"scorm.projectPanel.xapi.authToken\")}\n              </label>\n              <input\n                type=\"text\"\n                className=\"w-full border rounded px-2 py-1 text-xs\"\n                value={project.xapi?.authToken || \"\"}\n                onChange={(e) => updateProject({ xapi: { ...project.xapi, authToken: e.target.value } })}\n              />\n            </div>\n            <div>\n              <label className=\"block mb-1 text-xs font-medium\">\n                {t(\"scorm.projectPanel.xapi.activityIdFormat\")}\n              </label>\n              <input\n                type=\"text\"\n                className=\"w-full border rounded px-2 py-1 text-xs\"\n                value={project.xapi?.activityIdFormat || \"\"}\n                onChange={(e) => updateProject({ xapi: { ...project.xapi, activityIdFormat: e.target.value } })}\n              />\n            </div>\n            <div>\n              <label className=\"block mb-1 text-xs font-medium\">\n                {t(\"scorm.projectPanel.xapi.statementExtensions\")}\n              </label>\n              <textarea\n                className=\"w-full border rounded px-2 py-1 text-xs\"\n                rows={3}\n                value={project.xapi?.statementExtensions || \"\"}\n                onChange={(e) => updateProject({ xapi: { ...project.xapi, statementExtensions: e.target.value } })}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Export Panel */}\n        <div className=\"space-y-2\">\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\n            {t(\"scorm.projectPanel.exportPanel\")}\n          </h4>\n          <div className=\"grid grid-cols-2 gap-2 text-xs\">\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.scorm12')}</Button>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.scorm2004')}</Button>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.xapi')}</Button>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.html5')}</Button>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.publicLink')}</Button>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.embedCode')}</Button>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.teacherPdf')}</Button>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.studentPdf')}</Button>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.json')}</Button>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\">{t('scorm.projectPanel.export.qti')}</Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2816, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/scorm/panels/page-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { EditorProject, EditorPage } from \"@/lib/scorm/types\"\nimport { useLocale } from \"@/hooks/use-locale\"\nimport { Button } from \"@/components/ui/button\"\nimport { Plus, ArrowUp, ArrowDown, Trash2 } from \"lucide-react\"\n\ninterface PagePanelProps {\n  project: EditorProject\n  onChange: (updated: EditorProject) => void\n  onAddPage: () => void\n}\n\nexport default function PagePanel({ project, onChange, onAddPage }: PagePanelProps) {\n  const { t } = useLocale()\n\n  const handlePageTitleChange = (pageId: string, newTitle: string) => {\n    const updatedPages = project.pages.map((p) =>\n      p.id === pageId ? { ...p, title: newTitle } : p\n    )\n    onChange({ ...project, pages: updatedPages })\n  }\n\n  const handleMovePage = (pageId: string, direction: \"up\" | \"down\") => {\n    const index = project.pages.findIndex((p) => p.id === pageId)\n    if (index === -1) return\n\n    const newPages = [...project.pages]\n    const newIndex = direction === \"up\" ? index - 1 : index + 1\n\n    if (newIndex < 0 || newIndex >= newPages.length) return\n\n    const [movedPage] = newPages.splice(index, 1)\n    newPages.splice(newIndex, 0, movedPage)\n    onChange({ ...project, pages: newPages })\n  }\n\n  const handleDeletePage = (pageId: string) => {\n    if (project.pages.length <= 1) {\n      alert(t(\"scorm.projectPanel.deleteLastPageError\") || \"You cannot delete the last page.\")\n      return\n    }\n    if (window.confirm(t(\"scorm.projectPanel.deleteConfirm\") || \"Are you sure you want to delete this page?\")) {\n      const updatedPages = project.pages.filter((p) => p.id !== pageId)\n      onChange({ ...project, pages: updatedPages })\n    }\n  }\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Header */}\n      <div className=\"px-4 pt-4 pb-3\">\n        <div className=\"flex items-center justify-between gap-2\">\n          <div className=\"space-y-1\">\n            <h3 className=\"text-sm font-semibold leading-none\">\n              {t('scorm.projectPanel.pageOrganization') || 'Page Organization'}\n            </h3>\n            <p className=\"text-[11px] text-muted-foreground\">\n              {t('scorm.pagePanel.subtitle') || 'Manage your course pages.'}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto px-4 pb-3 text-xs space-y-4\">\n        {/* Page Organization */}\n        <div className=\"space-y-2\">\n            <div className=\"flex items-center justify-between\">\n                 <h4 className=\"font-semibold text-slate-700 text-xs\">\n                    {t('scorm.projectPanel.pageOrganization') || 'Page Organization'}\n                </h4>\n                <Button size=\"sm\" variant=\"outline\" onClick={onAddPage} className=\"h-6 px-2 text-xs\">\n                    <Plus className=\"h-3 w-3 mr-1\" />\n                    {t('scorm.projectPanel.addPage') || 'Add Page'}\n                </Button>\n            </div>\n            <div className=\"space-y-2\">\n                {project.pages.map((page, index) => (\n                    <div key={page.id} className=\"flex items-center gap-2 p-2 rounded-md bg-slate-50 border border-slate-100\">\n                        <div className=\"flex-1\">\n                             <input\n                                type=\"text\"\n                                className=\"w-full border-transparent bg-transparent rounded px-1 py-0.5 text-xs focus:bg-white focus:border-slate-300\"\n                                value={page.title}\n                                onChange={(e) => handlePageTitleChange(page.id, e.target.value)}\n                                />\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={() => handleMovePage(page.id, 'up')} disabled={index === 0}>\n                                <ArrowUp className=\"h-3 w-3\" />\n                            </Button>\n                             <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={() => handleMovePage(page.id, 'down')} disabled={index === project.pages.length - 1}>\n                                <ArrowDown className=\"h-3 w-3\" />\n                            </Button>\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6 text-red-500 hover:text-red-600\" onClick={() => handleDeletePage(page.id)} disabled={project.pages.length <= 1}>\n                                <Trash2 className=\"h-3 w-3\" />\n                            </Button>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3087, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/scorm/properties-panel.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from \"react\"\nimport {\n  EditorProject,\n  EditorBlock,\n  TextBlock,\n  ImageBlock,\n  VideoBlock,\n  QuizBlock,\n  InteractiveBlock,\n} from \"@/lib/scorm/types\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { useLocale } from \"@/hooks/use-locale\"\n\n// Panels\nimport TextPanel from \"@/components/scorm/panels/text-panel\"\nimport MediaPanel from \"@/components/scorm/panels/media-panel\"\nimport VideoPanel from \"@/components/scorm/panels/video-panel\"\nimport InteractivePanel from \"@/components/scorm/panels/interactive-panel\"\nimport ProjectPanel from \"@/components/scorm/panels/project-panel\"\nimport PagePanel from \"@/components/scorm/panels/page-panel\"\n\ninterface PropertiesPanelProps {\n  project: EditorProject\n  onProjectChange: (project: EditorProject) => void\n  selectedBlock: EditorBlock | null\n  onBlockChange: (block: EditorBlock) => void\n  panelType: \"block\" | \"project\"\n  onAddPage: () => void\n}\n\nexport function PropertiesPanel({\n  project,\n  onProjectChange,\n  selectedBlock,\n  onBlockChange,\n  panelType,\n  onAddPage,\n}: PropertiesPanelProps) {\n  const { t } = useLocale()\n  const [activeTab, setActiveTab] = useState<\"project\" | \"page\">(\"project\")\n\n  if (panelType === \"project\") {\n    return (\n      <div className=\"h-full flex flex-col bg-white\">\n        <div className=\"p-2 bg-slate-50 border-b border-slate-200\">\n          <div className=\"flex w-full items-center gap-1 rounded-full bg-slate-200/80 p-1\">\n            <button\n              onClick={() => setActiveTab(\"project\")}\n              className={`w-full rounded-full py-1 text-xs font-semibold transition-colors ${\n                activeTab === \"project\"\n                  ? \"bg-white text-slate-800 shadow-sm\"\n                  : \"bg-transparent text-slate-500 hover:bg-white/50\"\n              }`}\n            >\n              {t(\"scorm.tabs.project\") || \"Project\"}\n            </button>\n            <button\n              onClick={() => setActiveTab(\"page\")}\n              className={`w-full rounded-full py-1 text-xs font-semibold transition-colors ${\n                activeTab === \"page\"\n                  ? \"bg-white text-slate-800 shadow-sm\"\n                  : \"bg-transparent text-slate-500 hover:bg-white/50\"\n              }`}\n            >\n              {t(\"scorm.tabs.pages\") || \"Pages\"}\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto\">\n          {activeTab === \"project\" ? (\n            <ProjectPanel project={project} onChange={onProjectChange} />\n          ) : (\n            <PagePanel\n              project={project}\n              onChange={onProjectChange}\n              onAddPage={onAddPage}\n            />\n          )}\n        </div>\n      </div>\n    )\n  }\n\n  // --- Empty state (for block panel) -----------------------------------------\n\n  if (!selectedBlock) {\n    return (\n      <div className=\"h-full flex flex-col items-center justify-center px-4 py-6 text-center\">\n        <div className=\"mb-3\">\n          <Badge variant=\"outline\" className=\"text-[11px] px-2 py-0 rounded-full\">\n            {t(\"scorm.props.title\") || \"Properties\"}\n          </Badge>\n        </div>\n        <p className=\"text-sm font-medium text-foreground mb-1\">\n          {t(\"scorm.props.emptyTitle\") || \"No block selected\"}\n        </p>\n        <p className=\"text-[11px] text-muted-foreground max-w-xs\">\n          {t(\"scorm.props.desc\") ||\n            \"Click on any element in the canvas to view and edit its properties here.\"}\n        </p>\n      </div>\n    )\n  }\n\n  // --- Type labels ----------------------------------------------------------\n\n  const typeLabelMap: Record<EditorBlock[\"type\"], string> = {\n    text: t(\"scorm.props.block.text.label\") || \"Text block\",\n    image: t(\"scorm.props.block.image.label\") || \"Image block\",\n    video: t(\"scorm.props.block.video.label\") || \"Video block\",\n    quiz: t(\"scorm.props.block.quiz.label\") || \"Quiz block\",\n    interactive: t(\"scorm.props.block.interactive.label\") || \"Interactive block\",\n  }\n\n  // --- Render body by block type -------------------------------------------\n\n  const renderBody = () => {\n    switch (selectedBlock.type) {\n      case \"text\":\n        return (\n          <TextPanel\n            block={selectedBlock as TextBlock}\n            onChange={(updated) => onBlockChange(updated as EditorBlock)}\n          />\n        )\n\n      case \"image\":\n        return (\n          <MediaPanel\n            block={selectedBlock as ImageBlock}\n            onChange={(updated) => onBlockChange(updated as EditorBlock)}\n          />\n        )\n\n      case \"video\":\n        return (\n          <VideoPanel\n            block={selectedBlock as VideoBlock}\n            onChange={(updated) => onBlockChange(updated as EditorBlock)}\n          />\n        )\n\n      case \"quiz\":\n        return (\n          <div className=\"p-4 text-[11px] text-muted-foreground\">\n            Quiz editor panel not wired yet.\n          </div>\n        )\n\n      case \"interactive\":\n        return (\n          <InteractivePanel\n            block={selectedBlock as InteractiveBlock}\n            onChange={(updated) => onBlockChange(updated as EditorBlock)}\n          />\n        )\n\n      default:\n        return (\n          <div className=\"p-4 text-[11px] text-muted-foreground\">\n            {t(\"scorm.props.unsupported\") ||\n              \"This block type does not expose editable properties yet.\"}\n          </div>\n        )\n    }\n  }\n\n  // --- Main layout ----------------------------------------------------------\n\n  return (\n    <div className=\"h-full flex flex-col bg-card/80\">\n      {/* Header */}\n      <div className=\"px-4 pt-4 pb-3\">\n        <div className=\"flex items-center justify-between gap-2\">\n          <div className=\"space-y-1\">\n            <h3 className=\"text-sm font-semibold leading-none\">\n              {t(\"scorm.props.title\") || \"Block properties\"}\n            </h3>\n            <p className=\"text-[11px] text-muted-foreground\">\n              {t(\"scorm.props.subtitle\") ||\n                \"Adjust how this element looks and behaves in the lesson.\"}\n            </p>\n          </div>\n          <Badge variant=\"secondary\" className=\"text-[10px] px-2 py-0 rounded-full\">\n            {typeLabelMap[selectedBlock.type] ?? selectedBlock.type}\n          </Badge>\n        </div>\n      </div>\n\n      <Separator className=\"mb-2\" />\n\n      {/* Body */}\n      <div className=\"flex-1 overflow-y-auto px-2 pb-3 text-xs\">\n        {renderBody()}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3390, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/hooks/useScormAI.ts"],"sourcesContent":["import { useState, useCallback } from \"react\"\nimport { EditorProject } from \"@/lib/scorm/types\"\n\ntype ChatMessage = {\n  id: number\n  role: \"assistant\" | \"user\" | \"system\"\n  content: string\n}\n\ntype UseScormAIProps = {\n  setProject: (project: EditorProject) => void\n  setActivePageId: (id: string | null) => void\n  setSelectedBlockId: (id:string | null) => void\n  setEditorMode: (mode: \"choice\" | \"ai\" | \"blank\") => void\n  setAiChatMode: (mode: \"hidden\" | \"visible\" | \"animating\") => void\n  initialMessages: ChatMessage[]\n}\n\nexport function useScormAI({\n  setProject,\n  setActivePageId,\n  setSelectedBlockId,\n  setEditorMode,\n  setAiChatMode,\n  initialMessages,\n}: UseScormAIProps) {\n  const [messages, setMessages] = useState<ChatMessage[]>(initialMessages)\n  const [chatInput, setChatInput] = useState(\"\")\n  const [isGenerating, setIsGenerating] = useState(false)\n\n  const handleNewUserMessage = (prompt: string) => {\n    const userMessage: ChatMessage = {\n      id: Date.now(),\n      role: \"user\",\n      content: prompt,\n    }\n    const thinkingMessage: ChatMessage = {\n      id: Date.now() + 1,\n      role: \"assistant\",\n      content: \"Building your lesson, please wait...\",\n    }\n    setMessages((prev) => [...prev, userMessage, thinkingMessage])\n    setChatInput(\"\")\n  }\n\n  const handleAIResponse = (result: any, isInitialGeneration: boolean) => {\n    // Update project state with the result from the AI\n    setProject(result.project)\n    setActivePageId(result.project.pages[0]?.id || null)\n    setSelectedBlockId(null)\n\n    const summary = `I've created a new lesson titled \"${result.project.title}\".\n      \\n- **Difficulty**: ${result.metadata.predictedDifficulty}\n      \\n- **Tags**: ${result.metadata.recommendedTags.join(\", \")}\n      \\n${result.warnings.length > 0 ? `\\n**Warnings**:\\n- ${result.warnings.join(\"\\n- \")}` : \"\"}`\n\n    const assistantMessage: ChatMessage = {\n      id: Date.now() + 2,\n      role: \"assistant\",\n      content: summary,\n    }\n\n    setMessages((prev) => {\n      const updated = [...prev]\n      updated[updated.length - 1] = assistantMessage\n      return updated\n    })\n\n    if (isInitialGeneration) {\n      setAiChatMode(\"animating\")\n      setTimeout(() => {\n        setAiChatMode(\"hidden\")\n        setEditorMode(\"ai\")\n      }, 1000)\n    }\n  }\n\n  const handleAIError = (error: any) => {\n    const errorMessage: ChatMessage = {\n      id: Date.now() + 2,\n      role: \"assistant\",\n      content: `Sorry, I ran into an error: ${error.message}`,\n    }\n    setMessages((prev) => {\n      const updated = [...prev]\n      updated[updated.length - 1] = errorMessage\n      return updated\n    })\n  }\n\n  const submitPrompt = useCallback(async (prompt: string, isInitialGeneration: boolean) => {\n    if (!prompt || isGenerating) return\n\n    setIsGenerating(true)\n    handleNewUserMessage(prompt)\n\n    try {\n      const response = await fetch(\"/api/ai/lesson/build\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ prompt, language: \"en\" }),\n      })\n      const result = await response.json()\n      if (!response.ok) throw new Error(result.error || \"An unknown error occurred.\")\n      handleAIResponse(result, isInitialGeneration)\n    } catch (error: any) {\n      handleAIError(error)\n    } finally {\n      setIsGenerating(false)\n    }\n  }, [isGenerating]) // Dependencies will be managed by useCallback\n\n  return { messages, chatInput, setChatInput, isGenerating, submitPrompt }\n}"],"names":[],"mappings":";;;;AAAA;;;AAkBO,SAAS,WAAW,EACzB,UAAU,EACV,eAAe,EACf,kBAAkB,EAClB,aAAa,EACb,aAAa,EACb,eAAe,EACC;;IAChB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wSAAQ,EAAgB;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wSAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wSAAQ,EAAC;IAEjD,MAAM,uBAAuB,CAAC;QAC5B,MAAM,cAA2B;YAC/B,IAAI,KAAK,GAAG;YACZ,MAAM;YACN,SAAS;QACX;QACA,MAAM,kBAA+B;YACnC,IAAI,KAAK,GAAG,KAAK;YACjB,MAAM;YACN,SAAS;QACX;QACA,YAAY,CAAC,OAAS;mBAAI;gBAAM;gBAAa;aAAgB;QAC7D,aAAa;IACf;IAEA,MAAM,mBAAmB,CAAC,QAAa;QACrC,mDAAmD;QACnD,WAAW,OAAO,OAAO;QACzB,gBAAgB,OAAO,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE,MAAM;QAC/C,mBAAmB;QAEnB,MAAM,UAAU,CAAC,kCAAkC,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC;0BACpD,EAAE,OAAO,QAAQ,CAAC,mBAAmB,CAAC;oBAC5C,EAAE,OAAO,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM;QACzD,EAAE,OAAO,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,mBAAmB,EAAE,OAAO,QAAQ,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI;QAE9F,MAAM,mBAAgC;YACpC,IAAI,KAAK,GAAG,KAAK;YACjB,MAAM;YACN,SAAS;QACX;QAEA,YAAY,CAAC;YACX,MAAM,UAAU;mBAAI;aAAK;YACzB,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE,GAAG;YAC9B,OAAO;QACT;QAEA,IAAI,qBAAqB;YACvB,cAAc;YACd,WAAW;gBACT,cAAc;gBACd,cAAc;YAChB,GAAG;QACL;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,MAAM,eAA4B;YAChC,IAAI,KAAK,GAAG,KAAK;YACjB,MAAM;YACN,SAAS,CAAC,4BAA4B,EAAE,MAAM,OAAO,EAAE;QACzD;QACA,YAAY,CAAC;YACX,MAAM,UAAU;mBAAI;aAAK;YACzB,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE,GAAG;YAC9B,OAAO;QACT;IACF;IAEA,MAAM,eAAe,IAAA,2SAAW;gDAAC,OAAO,QAAgB;YACtD,IAAI,CAAC,UAAU,cAAc;YAE7B,gBAAgB;YAChB,qBAAqB;YAErB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,wBAAwB;oBACnD,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBAAE;wBAAQ,UAAU;oBAAK;gBAChD;gBACA,MAAM,SAAS,MAAM,SAAS,IAAI;gBAClC,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM,OAAO,KAAK,IAAI;gBAClD,iBAAiB,QAAQ;YAC3B,EAAE,OAAO,OAAY;gBACnB,cAAc;YAChB,SAAU;gBACR,gBAAgB;YAClB;QACF;+CAAG;QAAC;KAAa,EAAE,8CAA8C;;IAEjE,OAAO;QAAE;QAAU;QAAW;QAAc;QAAc;IAAa;AACzE;GA/FgB"}},
    {"offset": {"line": 3508, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/app/%28editor%29/scorm-ai/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, type FormEvent, useEffect, useRef, useCallback } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { useLocale } from \"@/hooks/use-locale\"\nimport {\n  EditorBlock,\n  EditorPage,\n  EditorProject,\n  TextBlock,\n  ImageBlock,\n  VideoBlock,\n  QuizBlock,\n  InteractiveBlock\n} from \"@/lib/scorm/types\"\nimport { BlockRenderer } from \"@/lib/scorm/block-engine\"\nimport { PropertiesPanel } from \"@/components/scorm/properties-panel\"\nimport {\n  Save,\n  Eye,\n  Download,\n  Type,\n  Paperclip,\n  FileQuestion,\n  MousePointerClick,\n  Upload,\n  MessageCircle,\n  FilePlus,\n  Settings,\n  LayoutDashboard,\n  Clock,\n} from \"lucide-react\"\nimport { useScormAI } from \"@/hooks/useScormAI\"\nimport { toast } from \"sonner\";\ntype Status = \"draft\" | \"published\"\n\ntype ChatMessage = {\n  id: number\n  role: \"assistant\" | \"user\" | \"system\"\n  content: string\n}\n\nexport default function ScormAIPage() {\n  const { t } = useLocale()\n\n  const initialProject: EditorProject = {\n    id: `proj-${Date.now()}`,\n    title: t(\"scorm.ai.untitledProject\"),\n    version: \"1.0\",\n    theme: {\n      direction: \"ltr\",\n      styles: {},\n    },\n    pages: [\n      {\n        id: \"page-1\",\n        title: t(\"scorm.ai.introduction\"),\n        blocks: [],\n      },\n    ],\n  }\n\n  const [project, setProject] = useState<EditorProject>(initialProject)\n\n  const hasContent = project.pages.length > 1 || project.pages[0]?.blocks.length > 0\n  const [editorMode, setEditorMode] = useState<\"choice\" | \"ai\" | \"blank\">(\n    hasContent ? \"ai\" : \"choice\"\n  )\n\n  const [activePageId, setActivePageId] = useState<string>(project.pages[0]?.id)\n  const [selectedBlockId, setSelectedBlockId] = useState<string | null>(null)\n\n  const [status, setStatus] = useState<Status>(\"draft\")\n\n  const [aiChatMode, setAiChatMode] = useState<\"hidden\" | \"visible\" | \"animating\">(\"hidden\");\n\n  const [initialMessages, setInitialMessages] = useState<ChatMessage[]>([])\n  useEffect(() => {\n    if (initialMessages.length === 0) {\n      setInitialMessages([\n        {\n          id: 1,\n          role: \"assistant\",\n          content: t(\"scorm.ai.welcome\"),\n        },\n      ])\n    }\n  }, [t, initialMessages.length])\n\n  const { messages, chatInput, setChatInput, isGenerating, submitPrompt } = useScormAI({\n    setProject,\n    setActivePageId,\n    setSelectedBlockId,\n    setEditorMode,\n    setAiChatMode,\n    initialMessages,\n  })\n\n  const fileInputRef = useRef<HTMLInputElement | null>(null)\n  const [isDragging, setIsDragging] = useState(false)\n\n\n\n  // navbar toggle\n  const [navVisible, setNavVisible] = useState(false)\n\n  useEffect(() => {\n    const nav = document.getElementById(\"main-navbar\")\n    if (!nav) return;\n\n    const originalDisplay = nav.style.display;\n    if (navVisible) {\n      nav.style.display = originalDisplay || \"\";\n    } else {\n      nav.style.display = \"none\";\n    }\n\n    return () => {\n      nav.style.display = originalDisplay || \"\";\n    };\n  }, [navVisible]);\n\n  const activePage = project.pages.find((p) => p.id === activePageId) ?? project.pages[0]\n\n  const selectedBlock =\n    activePage.blocks.find((b) => b.id === selectedBlockId) ?? null\n\n  const [rightPanel, setRightPanel] = useState<\"block\" | \"project\">(\"project\")\n\n  const handleBlockClick = useCallback((block: EditorBlock) => {\n    setSelectedBlockId(block.id)\n    setRightPanel(\"block\")\n  }, [])\n\n  const handleBlockChange = (updatedBlock: EditorBlock) => {\n    setProject((prevProject) => {\n      const updatedPages = prevProject.pages.map((p) => {\n        if (p.id === activePageId) {\n          const updatedBlocks = p.blocks.map((b) =>\n            b.id === updatedBlock.id ? updatedBlock : b\n          )\n          return { ...p, blocks: updatedBlocks }\n        }\n        return p\n      })\n      return { ...prevProject, pages: updatedPages }\n    })\n  }\n\n  const handleSend = async (e: FormEvent) => {\n    e.preventDefault()\n    const prompt = chatInput.trim()\n    if (!prompt) return\n    \n    // Determine if this is the first generation that transitions the view\n    const isInitialGeneration = aiChatMode === \"visible\"\n\n    submitPrompt(prompt, isInitialGeneration)\n  }\n\n  const handleSave = async () => {\n    const promise = fetch(\"/api/scorm/save\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(project),\n    });\n  \n    toast.promise(promise, {\n      loading: \"Saving package...\",\n      success: (data) => {\n        setStatus(\"draft\");\n        return `Package saved successfully!`;\n      },\n      error: \"Error saving package\",\n    });\n  };\n  \n\n  const handleExport = async () => {\n    try {\n      const response = await fetch(\"/api/scorm/export\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(project),\n      })\n\n      if (!response.ok) {\n        throw new Error(t(\"scorm.ai.exportFailed\"))\n      }\n\n      const blob = await response.blob()\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement(\"a\")\n      a.href = url\n      a.download = `${project.title.replace(/ /g, \"_\") || \"scorm-package\"}.zip`\n      document.body.appendChild(a)\n      a.click()\n      a.remove()\n      window.URL.revokeObjectURL(url)\n      setStatus(\"published\")\n    } catch (error) {\n      console.error(\"Failed to export project:\", error)\n      alert(t(\"scorm.ai.exportError\"))\n    }\n  }\n\n  const addBlock = (type: EditorBlock[\"type\"], data?: Partial<EditorBlock>) => {\n    let newBlock: EditorBlock\n\n    if (data) {\n      newBlock = { ...data, id: `block-${Date.now()}`, type } as EditorBlock\n    } else {\n      const baseBlock = { id: `block-${Date.now()}` }\nswitch (type) {\n  case \"text\":\n    newBlock = {\n      ...baseBlock,\n      type: \"text\",\n      html: t(\"scorm.ai.newTextBlock\"),\n    }\n    break\n  case \"image\":\n    newBlock = {\n      ...baseBlock,\n      type: \"image\",\n      src: \"https://via.placeholder.com/600x400\",\n      alt: t(\"scorm.ai.placeholderImage\"),\n    }\n    break\n  case \"video\":\n    newBlock = {\n      ...baseBlock,\n      type: \"video\",\n      src: \"https://www.w3schools.com/html/mov_bbb.mp4\",\n    }\n    break\n  case \"quiz\":\n    newBlock = {\n      ...baseBlock,\n      type: \"quiz\",\n      question: t(\"scorm.ai.newQuestion\"),\n      options: [\n        { id: \"1\", label: t(\"scorm.ai.option1\"), correct: true },\n        { id: \"2\", label: t(\"scorm.ai.option2\"), correct: false },\n      ],\n    }\n    break\n  case \"interactive\": {\n    const raw = t(\"scorm.ai.interactive.defaultLabel\") as string\n    const label =\n      raw && raw !== \"scorm.ai.interactive.defaultLabel\"\n        ? raw\n        : \"Interactive element\"\n\n    newBlock = {\n      ...baseBlock,\n      type: \"interactive\",\n      variant: \"button\",\n      label,\n      url: \"\",\n      bodyHtml: \"\",\n      style: {\n        padding: \"8px\",\n        radius: \"999px\",\n        background: \"#0ea5e9\",\n        shadow: true,\n      },\n    } as EditorBlock\n    break\n  }\n  default:\n    return\n}\n\n    }\n\n    setProject((prevProject) => {\n      const updatedPages = prevProject.pages.map((p) => {\n        if (p.id === activePageId) {\n          const newBlocks = [...p.blocks, newBlock]\n          return { ...p, blocks: newBlocks }\n        }\n        return p\n      })\n      return { ...prevProject, pages: updatedPages }\n    })\n  }\n\n  const handlePreview = () => {\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html dir=\"${project.theme.direction}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <title>${t(\"scorm.ai.previewTitle\", { title: project.title })}</title>\n        <style>\n          body { font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; padding: 20px; max-width: 1000px; margin: 0 auto; color: #333; }\n          article { margin-bottom: 40px; border-bottom: 1px solid #eee; padding-bottom: 20px; }\n          h1, h2 { color: #111; }\n          figure { margin: 0 0 1em 0; }\n          img, video { max-width: 100%; height: auto; border-radius: 8px; }\n          figcaption { font-size: 0.9em; color: #666; text-align: center; margin-top: 5px; }\n          fieldset { border: 1px solid #ccc; padding: 15px; border-radius: 8px; margin-top: 1em; }\n          legend { font-weight: bold; padding: 0 5px; }\n          form div { margin-bottom: 10px; }\n        </style>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages\n          .map(\n            (page) => `\n          <article>\n            <h2>${page.title}</h2>\n            ${page.blocks\n              .map((block) => {\n                switch (block.type) {\n                  case \"text\": {\n                    const textBlock = block as TextBlock\n                    const style = textBlock.style || {}\n                    const styleString = `\n                      font-weight: ${style.bold ? \"bold\" : \"normal\"};\n                      font-style: ${style.italic ? \"italic\" : \"normal\"};\n                      text-decoration: ${style.underline ? \"underline\" : \"none\"};\n                      font-size: ${style.size || \"inherit\"};\n                      text-align: ${style.align || \"left\"};\n                      direction: ${style.direction || \"ltr\"};\n                      color: ${style.color || \"inherit\"};\n                      background: ${style.background || \"transparent\"};\n                      padding: ${style.padding || \"0\"};\n                      border-radius: ${style.radius || \"0\"};\n                      line-height: ${style.lineHeight || \"inherit\"};\n                    `\n                    return `<div style=\"${styleString}\">${textBlock.html}</div>`\n                  }\n\n                  case \"image\": {\n                    const img = block as ImageBlock\n                    const alt = img.alt || t(\"scorm.ai.placeholderImage\")\n                    return `<figure><img src=\"${img.src}\" alt=\"${alt}\"><figcaption>${alt}</figcaption></figure>`\n                  }\n\n                  case \"video\": {\n                    const vid = block as VideoBlock\n                    return `<video src=\"${vid.src}\" controls></video>`\n                  }\n\n                  case \"quiz\": {\n                    const quizBlock = block as QuizBlock\n                    return `\n                      <form onsubmit=\"event.preventDefault();\">\n                        <fieldset>\n                          <legend>${quizBlock.question}</legend>\n                          ${(quizBlock.options || [])\n                            .map(\n                              (o) => `\n                              <div>\n                                <input type=\"radio\" id=\"${o.id}\" name=\"${quizBlock.id}\" value=\"${o.id}\">\n                                <label for=\"${o.id}\">${o.label}</label>\n                              </div>\n                            `\n                            )\n                            .join(\"\")}\n                        </fieldset>\n                      </form>\n                    `\n                  }\n\n                  case \"interactive\": {\n                    const ib = block as InteractiveBlock\n                    const style = ib.style || {}\n\n                    const styleString = `\n                      padding: ${style.padding || \"10px\"};\n                      border-radius: ${style.radius || (ib.variant === \"button\" ? \"999px\" : \"12px\")};\n                      background: ${style.background || (ib.variant === \"button\" ? \"#0ea5e9\" : ib.variant === \"callout\" ? \"#eef2ff\" : \"#f1f5f9\")};\n                      box-shadow: ${style.shadow ? \"0 8px 20px rgba(0,0,0,0.15)\" : \"none\"};\n                      color: ${style.background && (style.background as string).startsWith(\"#\") ? (parseInt((style.background as string).substring(1), 16) > 0xffffff / 2 ? \"#000\" : \"#fff\") : \"#fff\"};\n                      border: none;\n                    `\n\n                    if (ib.variant === \"button\") {\n                      return `<button style=\"${styleString}\">${ib.label || \"Interactive element\"}</button>`\n                    }\n\n                    if (ib.variant === \"callout\") {\n                      return `<div style=\"${styleString}\">\n                        ${ib.label ? `<p><strong>${ib.label}</strong></p>` : \"\"}\n                        ${\n                          ib.bodyHtml ||\n                          \"<p style='font-size:11px;color:#6b7280;'>Add callout content from the editor.</p>\"\n                        }\n                      </div>`\n                    }\n\n                    if (ib.variant === \"reveal\") {\n                      return `\n                        <details ${ib.initiallyOpen ? \"open\" : \"\"} style=\"${styleString}\">\n                          <summary>${ib.label || \"Details\"}</summary>\n                          ${\n                            ib.bodyHtml ||\n                            \"<p style='font-size:11px;color:#6b7280;'>Add reveal content from the editor.</p>\"\n                          }\n                        </details>\n                      `\n                    }\n\n                    if (ib.variant === \"custom\") {\n                      return ib.customHtml || \"\"\n                    }\n\n                    return \"\"\n                  }\n\n                  default:\n                    return \"\"\n                }\n              })\n              .join(\"\")}\n          </article>\n        `\n          )\n          .join(\"\")}\n      </body>\n      </html>\n    `\n    const previewWindow = window.open(\"\", \"_blank\")\n    if (previewWindow) {\n      previewWindow.document.write(htmlContent)\n      previewWindow.document.close()\n    } else {\n      alert(t(\"scorm.ai.popupBlocked\"))\n    }\n  }\n\n\n  const handleFileProcess = (file: File) => {\n    if (!file) return\n\n    const reader = new FileReader()\n\n    reader.onload = () => {\n      const result = reader.result\n\n      if (file.type.startsWith(\"image/\")) {\n        addBlock(\"image\", { src: result as string, alt: file.name } as ImageBlock)\n      } else if (file.type.startsWith(\"video/\")) {\n        addBlock(\"video\", { src: result as string } as VideoBlock)\n      } else if (file.type === \"application/json\") {\n        try {\n          const parsedData = JSON.parse(result as string)\n          // Try to load as EditorProject\n          if (\n            parsedData.id &&\n            parsedData.title &&\n            Array.isArray(parsedData.pages)\n          ) {\n            setProject(parsedData as EditorProject)\n            setActivePageId(parsedData.pages[0].id)\n            setSelectedBlockId(null)\n            alert(t(\"scorm.ai.projectLoaded\"))\n          }\n          // Try to load as QuizBlock\n          else if (parsedData.question && Array.isArray(parsedData.options)) {\n            addBlock(\"quiz\", parsedData as QuizBlock)\n          } else {\n            console.error(\"Unknown JSON format:\", parsedData)\n            alert(t(\"scorm.ai.invalidJsonFormat\"))\n          }\n        } catch (err) {\n          console.error(\"Error parsing JSON file:\", err)\n          alert(t(\"scorm.ai.invalidProjectFile\"))\n        }\n      } else if (file.type === \"text/csv\") {\n        // For CSV, create a text block with preformatted content\n        addBlock(\"text\", {\n          html: `<pre>${result as string}</pre>`,\n        } as TextBlock)\n      } else {\n        alert(t(\"scorm.ai.unsupportedFileType\", { type: file.type }))\n      }\n    }\n\n    if (file.type.startsWith(\"image/\") || file.type.startsWith(\"video/\")) {\n      reader.readAsDataURL(file)\n    } else if (file.type === \"application/json\" || file.type === \"text/csv\") {\n      reader.readAsText(file)\n    } else {\n      alert(t(\"scorm.ai.unsupportedFileType\", { type: file.type }))\n    }\n  }\n\n  const handleUploadClick = () => {\n    fileInputRef.current?.click()\n  }\n\n  const handleFileInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (file) {\n      handleFileProcess(file)\n    }\n    event.target.value = \"\" // Clear the input so same file can be uploaded again\n  }\n\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setIsDragging(true)\n  }\n\n  const handleDragLeave = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setIsDragging(false)\n  }\n\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setIsDragging(false)\n\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const file = e.dataTransfer.files[0]\n      handleFileProcess(file)\n      e.dataTransfer.clearData()\n    }\n  }\n\n  const handleAddMedia = () => {\n    const url = window.prompt(t(\"scorm.tools.mediaPrompt\")) || \"\"\n    if (!url.trim()) return\n\n    const imageUrlRegex = /\\.(jpeg|jpg|gif|png|webp|svg)$/i\n    const videoUrlRegex = /\\.(mp4|webm|ogg)$/i\n\n    if (imageUrlRegex.test(url)) {\n      addBlock(\"image\", {\n        type: \"image\",\n        src: url.trim(),\n        alt: t(\"scorm.ai.media\"),\n      } as ImageBlock)\n    } else if (videoUrlRegex.test(url)) {\n      addBlock(\"video\", {\n        type: \"video\",\n        src: url.trim(),\n      } as VideoBlock)\n    } else {\n      alert(t(\"scorm.ai.unsupportedMediaUrl\"))\n    }\n  }\n\n  const handleProjectChange = (updatedProject: EditorProject) => {\n    setProject(updatedProject)\n  }\n\n  const handleAddPage = () => {\n    const newPage: EditorPage = {\n      id: `page-${Date.now()}`,\n      title: t(\"scorm.tools.newPage\", { number: project.pages.length + 1 }),\n      blocks: [],\n    }\n    setProject((prev) => ({\n      ...prev,\n      pages: [...prev.pages, newPage],\n    }))\n    setActivePageId(newPage.id)\n    setSelectedBlockId(null)\n  }\n\n  // Render logic based on editor mode and AI chat state\n  if (editorMode === \"choice\") {\n    const start = (mode: \"ai\" | \"blank\") => {\n      if (mode === \"blank\") {\n        setProject(initialProject)\n        setEditorMode(mode) // Sets editorMode to \"blank\"\n      } else { // mode === \"ai\"\n        setAiChatMode(\"visible\")\n        setProject(initialProject) // Initialize project for AI build as well\n        setEditorMode(mode) // Also sets editorMode to \"ai\"\n      }\n    }\n\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[calc(100vh-4rem)] bg-slate-50\">\n        <div className=\"text-center w-full max-w-2xl bg-white/80 border border-slate-200 rounded-3xl shadow-sm px-4 sm:px-8 py-10\">\n          <h1 className=\"text-3xl font-semibold tracking-tight mb-2\">\n            {t(\"scorm.choice.title\")}\n          </h1>\n          <p className=\"text-sm text-slate-500 mb-8\">\n            {t(\"scorm.choice.description\")}\n          </p>\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <Button size=\"lg\" onClick={() => start(\"ai\")} className=\"h-auto py-4 rounded-2xl px-6\">\n              <div className=\"flex flex-col items-center gap-1\">\n                <MessageCircle className=\"h-6 w-6 mb-1\" />\n                <span className=\"font-semibold text-sm\">{t(\"scorm.choice.aiAssistant\")}</span>\n                <span className=\"font-normal text-xs text-primary-foreground/80\">\n                  {t(\"scorm.choice.aiAssistantDesc\")}\n                </span>\n              </div>\n            </Button>\n            <Button\n              size=\"lg\"\n              variant=\"outline\"\n              onClick={() => start(\"blank\")}\n              className=\"h-auto py-4 rounded-2xl px-6 bg-white\"\n            >\n              <div className=\"flex flex-col items-center gap-1\">\n                <FilePlus className=\"h-6 w-6 mb-1\" />\n                <span className=\"font-semibold text-sm\">{t(\"scorm.choice.blankPage\")}</span>\n                <span className=\"font-normal text-xs text-slate-500\">\n                  {t(\"scorm.choice.blankPageDesc\")}\n                </span>\n              </div>\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Central AI Chat for initial project generation\n  if (aiChatMode === \"visible\" || aiChatMode === \"animating\") {\n    return (\n      <div className=\"fixed inset-0 z-[1000] flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n        <div className=\"w-full max-w-xl bg-white rounded-2xl shadow-lg p-8 flex flex-col items-center justify-center\">\n          <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">How can I help you today?</h2>\n          <p className=\"text-sm text-slate-500 mb-8\">Describe the lesson you want to build, and AI will generate it for you.</p>\n          <div className=\"w-full\"> {/* Container for the input form */}\n            <form onSubmit={handleSend} className=\"flex items-center gap-2\">\n                <Input\n                    value={chatInput}\n                    onChange={(e) => setChatInput(e.target.value)}\n                    placeholder=\"E.g., 'Create a lesson on the water cycle for 5th graders'\"\n                    className=\"flex-1 h-12 rounded-full bg-white border-slate-300 text-base px-5\"\n                    disabled={isGenerating}\n                />\n                <Button \n                    type=\"submit\" \n                    className=\"rounded-full h-12 px-6 bg-sky-600 hover:bg-sky-700 text-base\"\n                    disabled={isGenerating}\n                >\n                    {isGenerating ? \"Generating...\" : \"Generate\"}\n                </Button>\n            </form>\n            {isGenerating && (\n                <div className=\"text-center text-sm text-slate-500 mt-4\">\n                    Preparing your lesson and transitioning to the editor...\n                </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {/* hidden input for upload */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*,video/*,application/json,text/csv\"\n        className=\"hidden\"\n        onChange={handleFileInputChange}\n      />\n\n      {/* navbar toggle button */}\n      <button\n        type=\"button\"\n        onClick={() => setNavVisible((v) => !v)}\n        className=\"fixed top-4 left-4 z-[1200] flex h-10 w-10 items-center justify-center rounded-full bg-slate-900 text-white shadow-lg hover:bg-slate-800\"\n        title={navVisible ? t(\"scorm.nav.hide\") : t(\"scorm.nav.show\")}\n      >\n        <span className=\"text-xl\"></span>\n      </button>\n\n      {/* full-page background */}\n      <div className=\"min-h-screen bg-slate-50 px-4 sm:px-8 pt-24 pb-4\">\n        {/* editor wrapper  no max width (takes full page) */}\n        <div className=\"w-full h-full mx-auto flex flex-col\">\n          <div className=\"flex-1 relative flex flex-col\">\n            {/* top bar */}\n            <div className=\"flex items-center justify-between mb-3\">\n              <div className=\"flex items-center gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"rounded-full bg-white/90 border-slate-200 text-slate-700 hover:bg-slate-50\"\n                  onClick={handlePreview}\n                >\n                  <Eye className=\"h-4 w-4 mr-1\" />\n                  {t(\"scorm.topbar.preview\")}\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"rounded-full bg-white/90 border-slate-200 text-slate-700 hover:bg-slate-50\"\n                  onClick={handleExport}\n                >\n                  <Download className=\"h-4 w-4 mr-1\" />\n                  {t(\"scorm.topbar.export\")}\n                </Button>\n              </div>\n\n              <div className=\"flex items-center gap-3 text-xs text-slate-500\">\n                <Badge\n                  variant={status === \"draft\" ? \"secondary\" : \"default\"}\n                  className=\"text-[10px] px-2 py-0.5 rounded-full bg-slate-100 text-slate-700 border border-slate-200\"\n                >\n                  {status === \"draft\"\n                    ? t(\"scorm.topbar.status.draft\")\n                    : t(\"scorm.topbar.status.published\")}\n                </Badge>\n                <div className=\"flex items-center gap-1\">\n                  <Clock className=\"h-4 w-4\" />\n                  <span>{t(\"scorm.tools.history\")}</span>\n                </div>\n              </div>\n            </div>\n\n            {/* canvas + properties side-by-side */}\n            <div className=\"flex-1 flex flex-col lg:flex-row items-stretch gap-4 mt-4\">\n              {/* Chat panel (left) */}\n              <div\n                className={`w-full lg:w-[320px] xl:w-[360px] transition-all duration-300 opacity-100`}\n              >\n                <div className=\"h-full rounded-3xl border border-slate-200 bg-white shadow-sm overflow-hidden\">\n                  <div className=\"flex flex-col h-full\">\n                    <div className=\"p-4 border-b flex items-center gap-2\">\n                        <span className=\"inline-flex h-8 w-8 items-center justify-center rounded-full bg-sky-100\">\n                            <MessageCircle className=\"h-5 w-5 text-sky-700\" />\n                        </span>\n                        <h3 className=\"font-semibold text-base text-slate-800\">{t(\"scorm.ai.title\")}</h3>\n                    </div>\n                    <div className=\"flex-1 p-4 overflow-y-auto text-sm space-y-3\">\n                        {messages.map((m) => (\n                          <div\n                            key={m.id}\n                            className={`flex ${\n                              m.role === \"user\" ? \"justify-end\" : \"justify-start\"\n                            }`}\n                          >\n                            <div\n                              className={\n                                m.role === \"user\"\n                                  ? \"inline-block rounded-2xl rounded-br-sm bg-sky-600 text-white px-3 py-2\"\n                                  : \"inline-block rounded-2xl rounded-bl-sm bg-white text-slate-800 px-3 py-2 border border-slate-100\"\n                              }\n                            >\n                              {m.content}\n                            </div>\n                          </div>\n                        ))}\n                    </div>\n                    <div className=\"p-4 border-t bg-slate-50\">\n                        <form onSubmit={handleSend} className=\"flex items-center gap-2\">\n                            <Input\n                                value={chatInput}\n                                onChange={(e) => setChatInput(e.target.value)}\n                                placeholder={t(\"scorm.ai.placeholder\")}\n                                className=\"flex-1 h-9 rounded-full bg-white border-slate-200\"\n                                disabled={isGenerating}\n                            />\n                            <Button type=\"submit\" size=\"sm\" className=\"rounded-full h-9 px-4 bg-sky-600 hover:bg-sky-700\" disabled={isGenerating}>\n                                {t(\"scorm.ai.send\")}\n                            </Button>\n                        </form>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Canvas (center) */}\n              <div\n                className={`relative flex-1 ${\n                  isDragging ? \"border-2 border-dashed border-sky-500 bg-sky-50/20\" : \"\"\n                }`}\n                onClick={() => {\n                  setSelectedBlockId(null)\n                  setRightPanel(\"block\")\n                }}\n                onDragOver={handleDragOver}\n                onDragLeave={handleDragLeave}\n                onDrop={handleDrop}\n              >\n                <div\n                  dir={project.theme.direction}\n                  className=\"bg-white rounded-2xl px-6 py-6 min-h-[520px]\"\n                >\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"flex items-center gap-2 flex-wrap\">\n                      <h2 className=\"text-sm font-semibold mr-2 text-slate-800\">\n                        {t(\"scorm.canvas.title\")}\n                      </h2>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {project.pages.map((page) => (\n                          <button\n                            key={page.id}\n                            type=\"button\"\n                            onClick={(e) => {\n                              e.stopPropagation()\n                              setActivePageId(page.id)\n                              setSelectedBlockId(null)\n                            }}\n                            className={\n                              \"px-3 py-1 rounded-full text-xs border transition-colors \" +\n                              (page.id === activePage.id\n                                ? \"bg-sky-600 text-white border-sky-600\"\n                                : \"bg-white text-slate-600 border-slate-200 hover:bg-slate-50\")\n                            }\n                          >\n                            {page.title}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"rounded-full hover:bg-slate-100\"\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        handleSave()\n                      }}\n                    >\n                      <Save className=\"h-4 w-4 text-slate-700\" />\n                    </Button>\n                  </div>\n\n                  <div className=\"max-h-[600px] overflow-auto pr-1\">\n                    {activePage && activePage.blocks.length > 0 ? (\n                      <div className=\"space-y-4\">\n                        {activePage.blocks.map((block) => {\n                          const isSelected = selectedBlock?.id === block.id\n                          return (\n                            <div key={block.id}>\n                              <div\n                                className={`rounded-2xl border px-4 py-3 bg-white transition-shadow cursor-pointer ${\n                                  isSelected\n                                    ? \"ring-2 ring-sky-500 shadow-md\"\n                                    : \"hover:shadow-sm border-slate-200\"\n                                }`}\n                                onClick={(e) => {\n                                  e.stopPropagation()\n                                  handleBlockClick(block)\n                                }}\n                              >\n                                <BlockRenderer\n                                  block={block}\n                                  theme={project.theme}\n                                />\n                              </div>\n                            </div>\n                          )\n                        })}\n                      </div>\n                    ) : (\n                      <div className=\"text-center space-y-3 py-12\">\n                        <h2 className=\"text-base sm:text-lg font-semibold text-slate-800\">\n                          {t(\"scorm.canvas.title\")}\n                        </h2>\n                        <p className=\"text-xs sm:text-sm text-slate-500\">\n                          {t(\"scorm.canvas.desc\")}\n                        </p>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          type=\"button\"\n                          onClick={(e) => {\n                            e.stopPropagation()\n                            addBlock(\"text\")\n                          }}\n                          className=\"rounded-full border-sky-500 text-sky-700 hover:bg-sky-50\"\n                        >\n                          <MousePointerClick className=\"mr-2 h-4 w-4\" />\n                          {t(\"scorm.canvas.start\")}\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Properties panel (right) */}\n              <div\n                className={`w-full lg:w-[320px] xl:w-[360px] transition-all duration-300 opacity-100`}\n              >\n                <div className=\"h-full rounded-3xl border border-slate-200 bg-white shadow-sm overflow-hidden\">\n                  <PropertiesPanel\n                    project={project}\n                    onProjectChange={handleProjectChange}\n                    selectedBlock={selectedBlock}\n                    onBlockChange={handleBlockChange}\n                    panelType={rightPanel}\n                    onAddPage={handleAddPage}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* floating editing bar */}\n      <div className=\"fixed bottom-6 left-1/2 -translate-x-1/2 z-[999]\">\n        <div className=\"inline-flex items-center gap-0.5 rounded-full bg-white/95 shadow-[0_12px_30px_rgba(15,23,42,0.18)] px-2.5 py-1.5 border border-slate-200 backdrop-blur-md\">\n          <IconToolButton\n            onClick={handleUploadClick}\n            icon={<Upload className=\"h-4 w-4\" />}\n            label=\"scorm.tools.upload\"\n          />\n          <IconToolButton\n            onClick={() => addBlock(\"interactive\")}\n            icon={<MousePointerClick className=\"h-4 w-4\" />}\n            label=\"scorm.tools.interactive\"\n          />\n          <IconToolButton\n            onClick={() => addBlock(\"quiz\")}\n            icon={<FileQuestion className=\"h-4 w-4\" />}\n            label=\"scorm.tools.quiz\"\n          />\n          <IconToolButton\n            onClick={() => {\n              setRightPanel(\"project\")\n              setSelectedBlockId(null)\n            }}\n            icon={<LayoutDashboard className=\"h-4 w-4\" />}\n            label=\"scorm.tools.pageEditor\"\n          />\n          <IconToolButton\n            onClick={handleAddMedia}\n            icon={<Paperclip className=\"h-4 w-4\" />}\n            label=\"scorm.tools.media\"\n          />\n          <IconToolButton\n            onClick={() => addBlock(\"text\")}\n            icon={<Type className=\"h-4 w-4\" />}\n            label=\"scorm.tools.text\"\n          />\n          <IconToolButton\n  onClick={() => {\n    setRightPanel(\"project\")\n    setSelectedBlockId(null)\n  }}\n  icon={<Settings className=\"h-4 w-4\" />}\n  label=\"scorm.tools.settings\"\n/>\n        </div>\n      </div>\n    </>\n  )\n}\n\nfunction IconToolButton({\n  icon,\n  label,\n  onClick,\n  emphasis,\n}: {\n  icon: React.ReactNode\n  label: string\n  onClick?: () => void\n  emphasis?: boolean\n}) {\n  const { t } = useLocale()\n  const translatedLabel = t(label as any)\n  return (\n    <button\n      onClick={onClick}\n      type=\"button\"\n      title={translatedLabel}\n      className={\n        \"flex h-9 w-9 items-center justify-center rounded-full text-slate-700 transition-colors \" +\n        (emphasis ? \"bg-sky-600 text-white hover:bg-sky-700\" : \"hover:bg-slate-100\")\n      }\n      disabled={!onClick}\n    >\n      {icon}\n      <span className=\"sr-only\">{translatedLabel}</span>\n    </button>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}