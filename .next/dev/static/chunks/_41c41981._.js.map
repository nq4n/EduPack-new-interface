{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/lib/scorm/block-engine.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { EditorBlock, TextBlock, ImageBlock, VideoBlock, QuizBlock, InteractiveBlock } from './types'\nimport { Button } from '@/components/ui/button';\nimport { CheckCircle, XCircle } from 'lucide-react';\n\ninterface BlockRendererProps {\n  block: EditorBlock;\n  onClick: (block: EditorBlock) => void;\n}\n\nexport function BlockRenderer({ block, onClick }: BlockRendererProps) {\n  const props = { block, onClick, key: block.id };\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onClick(block);\n  }\n\n  switch (block.type) {\n    case 'text':\n      return <TextBlockRenderer block={block} onClick={handleClick} />\n    case 'image':\n      return <ImageBlockRenderer block={block} onClick={handleClick} />\n    case 'video':\n      return <VideoBlockRenderer block={block} onClick={handleClick} />\n    case 'quiz':\n      return <QuizBlockRenderer block={block} onClick={handleClick} />\n    case 'interactive':\n      return <InteractiveBlockRenderer block={block} onClick={handleClick} />\n    default:\n      return <div onClick={handleClick}><p>Unsupported block type</p></div>\n  }\n}\n\nfunction TextBlockRenderer({ block, onClick }: { block: TextBlock; onClick: (e: React.MouseEvent) => void }) {\n  return <div onClick={onClick} className=\"prose prose-lg max-w-none dark:prose-invert\" dangerouslySetInnerHTML={{ __html: block.html }} />\n}\n\nfunction ImageBlockRenderer({ block, onClick }: { block: ImageBlock; onClick: (e: React.MouseEvent) => void }) {\n  return (\n    <figure onClick={onClick} className=\"my-4 cursor-pointer\">\n      <img src={block.src} alt={block.alt || ''} className=\"max-w-full h-auto rounded-lg shadow-md border border-border\" />\n      {block.alt && <figcaption className=\"text-center text-sm text-muted-foreground mt-2\">{block.alt}</figcaption>}\n    </figure>\n  );\n}\n\nfunction VideoBlockRenderer({ block, onClick }: { block: VideoBlock; onClick: (e: React.MouseEvent) => void }) {\n  return <video src={block.src} controls onClick={onClick} className=\"max-w-full rounded-lg shadow-md border border-border w-full cursor-pointer\" />\n}\n\nfunction QuizBlockRenderer({ block, onClick }: { block: QuizBlock, onClick: (e: React.MouseEvent) => void }) {\n  const [selectedOptionId, setSelectedOptionId] = useState<string | null>(null);\n  const [submitted, setSubmitted] = useState(false);\n\n  const selectedOption = submitted ? block.options.find(opt => opt.id === selectedOptionId) : null;\n  const isCorrect = selectedOption?.correct;\n\n  const handleSubmit = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (selectedOptionId) {\n      setSubmitted(true);\n    }\n  };\n\n  const handleReset = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setSelectedOptionId(null);\n    setSubmitted(false);\n  }\n\n  const handleOptionChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.stopPropagation();\n    setSelectedOptionId(e.target.id)\n  }\n\n  const getOptionClass = (option: typeof block.options[0]) => {\n    if (!submitted) return 'border-border bg-card hover:bg-muted/50';\n    if (option.correct) return 'border-green-500 bg-green-50/50 dark:bg-green-900/30 text-green-900 dark:text-green-200';\n    if (option.id === selectedOptionId && !option.correct) return 'border-red-500 bg-red-50/50 dark:bg-red-900/30 text-red-900 dark:text-red-200';\n    return 'border-border bg-card';\n  }\n  \n  const getIcon = (option: typeof block.options[0]) => {\n    if (!submitted) return <div className=\"h-5 w-5\" />; // placeholder for alignment\n    if (option.correct) return <CheckCircle className=\"h-5 w-5 text-green-600\" />;\n    if (option.id === selectedOptionId && !option.correct) return <XCircle className=\"h-5 w-5 text-red-600\" />;\n    return <div className=\"h-5 w-5\" />; // placeholder for alignment\n  }\n\n  return (\n    <div onClick={onClick} className=\"p-4 sm:p-6 border rounded-xl bg-card shadow-sm transition-all my-4 cursor-pointer\">\n      <p className=\"font-semibold mb-4 text-foreground text-base sm:text-lg\">{block.question}</p>\n      <div className=\"space-y-3\">\n        {block.options.map((option) => (\n          <label \n            key={option.id} \n            htmlFor={option.id}\n            onClick={(e) => e.stopPropagation()} // prevent click from bubbling up to parent\n            className={`flex items-center p-3 border-2 rounded-lg transition-all duration-200 ${getOptionClass(option)} ${submitted ? 'cursor-default' : 'pointer'}`}\n          >\n            <input\n              type=\"radio\"\n              name={block.id}\n              id={option.id}\n              className=\"h-4 w-4 text-primary focus:ring-primary border-muted-foreground\"\n              onChange={handleOptionChange}\n              checked={selectedOptionId === option.id}\n              disabled={submitted}\n            />\n            <span className=\"flex-1 text-sm sm:text-base text-foreground ml-3\">{option.label}</span>\n            {getIcon(option)}\n          </label>\n        ))}\n      </div>\n      <div className=\"mt-6 flex items-center justify-between min-h-[40px]\">\n        {!submitted ? (\n          <Button onClick={handleSubmit} disabled={!selectedOptionId}>\n            Check Answer\n          </Button>\n        ) : (\n          <div className=\"flex flex-col\">\n             <div className={`flex items-center font-semibold text-base ${isCorrect ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`}>\n                {isCorrect ? (\n                    <CheckCircle className=\"mr-2 h-5 w-5\" />\n                ) : (\n                    <XCircle className=\"mr-2 h-5 w-5\" />\n                )}\n                <span>{isCorrect ? 'Correct!' : 'Incorrect'}</span>\n             </div>\n             {!isCorrect && (\n                <p className=\"text-xs text-muted-foreground mt-1 pl-7\">\n                    The correct answer is highlighted in green.\n                </p>\n             )}\n          </div>\n        )}\n\n        {submitted && (\n            <Button variant=\"outline\" onClick={handleReset}>\n                Try Again\n            </Button>\n        )}\n      </div>\n    </div>\n  );\n}\n\n\nfunction InteractiveBlockRenderer({ block, onClick }: { block: InteractiveBlock, onClick: (e: React.MouseEvent) => void }) {\n  return (\n    <div onClick={onClick} className=\"p-4 border rounded-lg bg-blue-50 my-4 dark:bg-blue-900/20 dark:border-blue-700 cursor-pointer\">\n      <p className=\"font-semibold mb-2 text-blue-800 dark:text-blue-200\">Interactive Element</p>\n      <p className=\"text-sm text-blue-700 dark:text-blue-300\">{block.description || 'Interact with the content below.'}</p>\n      <div className=\"mt-2 p-4 bg-white dark:bg-black/20 border rounded-md\">\n        <pre className=\"text-xs whitespace-pre-wrap\">{JSON.stringify(block.config, null, 2)}</pre>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 480, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/hooks/use-local-storage.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport function useLocalStorage<T>(key: string, initialValue: T): [T, (value: T) => void] {\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      if (typeof window !== 'undefined') {\n        const item = window.localStorage.getItem(key);\n        return item ? JSON.parse(item) : initialValue;\n      }\n      return initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value: T) => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      if (typeof window !== 'undefined') {\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const item = window.localStorage.getItem(key);\n      if (item) {\n        setStoredValue(JSON.parse(item));\n      }\n    }\n  }, [key]);\n\n  return [storedValue, setValue];\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEO,SAAS,gBAAmB,GAAW,EAAE,YAAe;;IAC7D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ;oCAAI;YAChD,IAAI;gBACF,wCAAmC;oBACjC,MAAM,OAAO,OAAO,YAAY,CAAC,OAAO,CAAC;oBACzC,OAAO,OAAO,KAAK,KAAK,CAAC,QAAQ;gBACnC;;;YAEF,EAAE,OAAO,OAAO;gBACd,QAAQ,GAAG,CAAC;gBACZ,OAAO;YACT;QACF;;IAEA,MAAM,WAAW,CAAC;QAChB,IAAI;YACF,MAAM,eAAe,iBAAiB,WAAW,MAAM,eAAe;YACtE,eAAe;YACf,wCAAmC;gBACjC,OAAO,YAAY,CAAC,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;YAClD;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,IAAA,0KAAS;qCAAC;YACR,wCAAmC;gBACjC,MAAM,OAAO,OAAO,YAAY,CAAC,OAAO,CAAC;gBACzC,IAAI,MAAM;oBACR,eAAe,KAAK,KAAK,CAAC;gBAC5B;YACF;QACF;oCAAG;QAAC;KAAI;IAER,OAAO;QAAC;QAAa;KAAS;AAChC;GApCgB"}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAW,IAAA,qHAAE,EAAC;sBAEd,cAAA,6LAAC,gNAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 624, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/ui/separator.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(\n  (\n    {\n      className,\n      orientation = \"horizontal\",\n      decorative = true,\n      ...props\n    },\n    ref,\n  ) => (\n    <div\n      ref={ref}\n      role={decorative ? \"none\" : undefined}\n      aria-orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n)\nSeparator.displayName = \"Separator\"\n\nexport { Separator }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,0BAAY,2KAAgB,MAIhC,CACE,EACE,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACJ,EACD,oBAEA,6LAAC;QACC,KAAK;QACL,MAAM,aAAa,SAAS;QAC5B,oBAAkB;QAClB,WAAW,IAAA,qHAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG"}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/components/scorm/properties-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport {\n  EditorBlock,\n  TextBlock,\n  ImageBlock,\n  VideoBlock,\n  QuizBlock,\n} from \"@/lib/scorm/types\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Button } from \"@/components/ui/button\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { useLocale } from \"@/hooks/use-locale\"\nimport {\n  Bold,\n  Italic,\n  Underline,\n  AlignLeft,\n  AlignCenter,\n  AlignRight,\n  AlignJustify,\n  ArrowBigLeft,\n  ArrowBigRight,\n  Type,\n  Image as ImageIcon,\n  Video as VideoIcon,\n  List,\n  ListOrdered,\n  RefreshCw,\n} from \"lucide-react\"\n\n/**\n * NOTE ABOUT NEW FIELDS\n *\n * This component introduces some extra properties on blocks to make the UI\n * teacher-friendly instead of HTML-friendly:\n *\n * - TextBlock:\n *   - html: string (still used, but treated as plain text)\n *   - formatting?: {\n *       variant: \"paragraph\" | \"h1\" | \"h2\" | \"quote\" | \"bulleted\" | \"numbered\"\n *       align: \"left\" | \"center\" | \"right\" | \"justify\"\n *       direction: \"auto\" | \"ltr\" | \"rtl\"\n *       size: \"sm\" | \"md\" | \"lg\"\n *       bold: boolean\n *       italic: boolean\n *       underline: boolean\n *     }\n *\n * - ImageBlock:\n *   - mediaSettings?: {\n *       widthPercent: number        // 20–100\n *       align: \"left\" | \"center\" | \"right\"\n *       rounded: boolean\n *       shadow: boolean\n *       caption?: string\n *     }\n *\n * - VideoBlock:\n *   - mediaSettings?: {\n *       widthPercent: number\n *       align: \"left\" | \"center\" | \"right\"\n *       autoplay: boolean\n *       controls: boolean\n *       loop: boolean\n *     }\n *\n * - QuizBlock:\n *   - settings?: {\n *       shuffleOptions: boolean\n *       allowMultipleCorrect: boolean\n *       feedbackCorrect?: string\n *       feedbackIncorrect?: string\n *     }\n *\n * You can update your types in \"@/lib/scorm/types\" to include those if you want\n * full TypeScript safety. For now we use some `as any` casts so it still works.\n */\n\ninterface PropertiesPanelProps {\n  selectedBlock: EditorBlock | null\n  onBlockChange: (block: EditorBlock) => void\n}\n\nexport function PropertiesPanel({ selectedBlock, onBlockChange }: PropertiesPanelProps) {\n  const { t } = useLocale()\n\n  // ---------------------------------------------------------------------------\n  // Helper: merge changes into the current block\n  // ---------------------------------------------------------------------------\n\n  const updateBlock = (partial: Partial<EditorBlock>) => {\n    if (!selectedBlock) return\n    onBlockChange({ ...(selectedBlock as any), ...partial } as EditorBlock)\n  }\n\n  // ===========================================================================\n  // TEXT BLOCK\n  // ===========================================================================\n\n  const handleTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const block = selectedBlock as TextBlock\n    updateBlock({ ...(block as any), html: e.target.value })\n  }\n\n  const renderTextControls = () => {\n    const block = selectedBlock as TextBlock\n\n    const formatting =\n      ((block as any).formatting as\n        | {\n            variant: \"paragraph\" | \"h1\" | \"h2\" | \"quote\" | \"bulleted\" | \"numbered\"\n            align: \"left\" | \"center\" | \"right\" | \"justify\"\n            direction: \"auto\" | \"ltr\" | \"rtl\"\n            size: \"sm\" | \"md\" | \"lg\"\n            bold: boolean\n            italic: boolean\n            underline: boolean\n          }\n        | undefined) || {\n        variant: \"paragraph\",\n        align: \"left\",\n        direction: \"auto\",\n        size: \"md\",\n        bold: false,\n        italic: false,\n        underline: false,\n      }\n\n    const updateFormatting = (partial: Partial<typeof formatting>) => {\n      const next = { ...formatting, ...partial }\n      updateBlock({\n        ...(block as any),\n        formatting: next,\n      } as EditorBlock)\n    }\n\n    const resetFormatting = () => {\n      updateFormatting({\n        variant: \"paragraph\",\n        align: \"left\",\n        direction: \"auto\",\n        size: \"md\",\n        bold: false,\n        italic: false,\n        underline: false,\n      })\n    }\n\n    return (\n      <div className=\"space-y-4\">\n        {/* Text content */}\n        <div className=\"space-y-2\">\n          <Label\n            htmlFor=\"text-content\"\n            className=\"text-xs font-medium flex items-center gap-1\"\n          >\n            <Type className=\"h-3 w-3\" />\n            {t(\"scorm.props.block.text.content\") || \"Text\"}\n          </Label>\n          <textarea\n            id=\"text-content\"\n            value={block.html || \"\"}\n            onChange={handleTextChange}\n            rows={5}\n            className=\"w-full text-xs rounded-md border border-input bg-background px-2 py-1 resize-y min-h-[80px] outline-none focus-visible:ring-1 focus-visible:ring-sky-500\"\n            placeholder={\n              t(\"scorm.props.block.text.placeholder\") ||\n              \"Write your text here. No need to use HTML.\"\n            }\n          />\n          <p className=\"text-[11px] text-muted-foreground\">\n            {t(\"scorm.props.block.text.help\") ||\n              \"Teachers can type normally. The system will format the text based on the options below.\"}\n          </p>\n        </div>\n\n        {/* Text style + size */}\n        <div className=\"grid grid-cols-2 gap-3\">\n          <div className=\"space-y-1.5\">\n            <Label className=\"text-[11px]\">\n              {t(\"scorm.props.block.text.style\") || \"Text style\"}\n            </Label>\n            <select\n              value={formatting.variant}\n              onChange={(e) =>\n                updateFormatting({\n                  variant: e.target.value as\n                    | \"paragraph\"\n                    | \"h1\"\n                    | \"h2\"\n                    | \"quote\"\n                    | \"bulleted\"\n                    | \"numbered\",\n                })\n              }\n              className=\"h-8 w-full rounded-md border border-input bg-background px-2 text-[11px] outline-none focus-visible:ring-1 focus-visible:ring-sky-500\"\n            >\n              <option value=\"paragraph\">\n                {t(\"scorm.props.block.text.style.paragraph\") || \"Normal text\"}\n              </option>\n              <option value=\"h1\">\n                {t(\"scorm.props.block.text.style.h1\") || \"Title (big)\"}\n              </option>\n              <option value=\"h2\">\n                {t(\"scorm.props.block.text.style.h2\") || \"Subtitle\"}\n              </option>\n              <option value=\"quote\">\n                {t(\"scorm.props.block.text.style.quote\") || \"Quote / important note\"}\n              </option>\n              <option value=\"bulleted\">\n                {t(\"scorm.props.block.text.style.bulleted\") || \"Bullet list\"}\n              </option>\n              <option value=\"numbered\">\n                {t(\"scorm.props.block.text.style.numbered\") || \"Numbered list\"}\n              </option>\n            </select>\n          </div>\n\n          <div className=\"space-y-1.5\">\n            <Label className=\"text-[11px]\">\n              {t(\"scorm.props.block.text.size\") || \"Text size\"}\n            </Label>\n            <select\n              value={formatting.size}\n              onChange={(e) =>\n                updateFormatting(e.target.value as \"sm\" | \"md\" | \"lg\")\n              }\n              className=\"h-8 w-full rounded-md border border-input bg-background px-2 text-[11px] outline-none focus-visible:ring-1 focus-visible:ring-sky-500\"\n            >\n              <option value=\"sm\">\n                {t(\"scorm.props.block.text.size.sm\") || \"Small\"}\n              </option>\n              <option value=\"md\">\n                {t(\"scorm.props.block.text.size.md\") || \"Normal\"}\n              </option>\n              <option value=\"lg\">\n                {t(\"scorm.props.block.text.size.lg\") || \"Large\"}\n              </option>\n            </select>\n          </div>\n        </div>\n\n        {/* Bold / italic / underline */}\n        <div className=\"space-y-1.5\">\n          <Label className=\"text-[11px]\">\n            {t(\"scorm.props.block.text.inline\") || \"Emphasis\"}\n          </Label>\n          <div className=\"flex flex-wrap gap-1.5\">\n            <Button\n              type=\"button\"\n              size=\"icon\"\n              variant={formatting.bold ? \"default\" : \"outline\"}\n              className=\"h-7 w-7\"\n              onClick={() => updateFormatting({ bold: !formatting.bold })}\n            >\n              <Bold className=\"h-3 w-3\" />\n            </Button>\n            <Button\n              type=\"button\"\n              size=\"icon\"\n              variant={formatting.italic ? \"default\" : \"outline\"}\n              className=\"h-7 w-7\"\n              onClick={() => updateFormatting({ italic: !formatting.italic })}\n            >\n              <Italic className=\"h-3 w-3\" />\n            </Button>\n            <Button\n              type=\"button\"\n              size=\"icon\"\n              variant={formatting.underline ? \"default\" : \"outline\"}\n              className=\"h-7 w-7\"\n              onClick={() =>\n                updateFormatting({ underline: !formatting.underline })\n              }\n            >\n              <Underline className=\"h-3 w-3\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Alignment & direction */}\n        <div className=\"grid grid-cols-2 gap-3\">\n          {/* Alignment */}\n          <div className=\"space-y-1.5\">\n            <Label className=\"text-[11px]\">\n              {t(\"scorm.props.block.text.align\") || \"Alignment\"}\n            </Label>\n            <div className=\"flex flex-wrap gap-1.5\">\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={formatting.align === \"left\" ? \"default\" : \"outline\"}\n                className=\"h-7 w-7\"\n                onClick={() => updateFormatting({ align: \"left\" })}\n              >\n                <AlignLeft className=\"h-3 w-3\" />\n              </Button>\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={formatting.align === \"center\" ? \"default\" : \"outline\"}\n                className=\"h-7 w-7\"\n                onClick={() => updateFormatting({ align: \"center\" })}\n              >\n                <AlignCenter className=\"h-3 w-3\" />\n              </Button>\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={formatting.align === \"right\" ? \"default\" : \"outline\"}\n                className=\"h-7 w-7\"\n                onClick={() => updateFormatting({ align: \"right\" })}\n              >\n                <AlignRight className=\"h-3 w-3\" />\n              </Button>\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={\n                  formatting.align === \"justify\" ? \"default\" : \"outline\"\n                }\n                className=\"h-7 w-7\"\n                onClick={() => updateFormatting({ align: \"justify\" })}\n              >\n                <AlignJustify className=\"h-3 w-3\" />\n              </Button>\n            </div>\n          </div>\n\n          {/* Text direction */}\n          <div className=\"space-y-1.5\">\n            <Label className=\"text-[11px]\">\n              {t(\"scorm.props.block.text.direction\") || \"Text direction\"}\n            </Label>\n            <div className=\"flex flex-wrap gap-1.5\">\n              <Button\n                type=\"button\"\n                variant={\n                  formatting.direction === \"auto\" ? \"default\" : \"outline\"\n                }\n                size=\"sm\"\n                className=\"h-7 px-2 text-[11px]\"\n                onClick={() => updateFormatting({ direction: \"auto\" })}\n              >\n                {t(\"scorm.props.block.text.dir.auto\") || \"Auto\"}\n              </Button>\n              <Button\n                type=\"button\"\n                variant={\n                  formatting.direction === \"ltr\" ? \"default\" : \"outline\"\n                }\n                size=\"sm\"\n                className=\"h-7 px-2 text-[11px]\"\n                onClick={() => updateFormatting({ direction: \"ltr\" })}\n              >\n                <ArrowBigLeft className=\"h-3 w-3 mr-1\" />\n                {t(\"scorm.props.block.text.dir.ltr\") || \"Left → Right\"}\n              </Button>\n              <Button\n                type=\"button\"\n                variant={\n                  formatting.direction === \"rtl\" ? \"default\" : \"outline\"\n                }\n                size=\"sm\"\n                className=\"h-7 px-2 text-[11px]\"\n                onClick={() => updateFormatting({ direction: \"rtl\" })}\n              >\n                <ArrowBigRight className=\"h-3 w-3 mr-1\" />\n                {t(\"scorm.props.block.text.dir.rtl\") || \"Right → Left\"}\n              </Button>\n            </div>\n            <p className=\"text-[11px] text-muted-foreground\">\n              {t(\"scorm.props.block.text.directionHelp\") ||\n                \"Use Right → Left for Arabic text so it looks natural to learners.\"}\n            </p>\n          </div>\n        </div>\n\n        {/* Reset */}\n        <div className=\"flex justify-end\">\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-7 text-[11px] gap-1\"\n            onClick={resetFormatting}\n          >\n            <RefreshCw className=\"h-3 w-3\" />\n            {t(\"scorm.props.block.text.reset\") || \"Reset text settings\"}\n          </Button>\n        </div>\n      </div>\n    )\n  }\n\n  // ===========================================================================\n  // IMAGE BLOCK\n  // ===========================================================================\n\n  const handleImageSrcChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const block = selectedBlock as ImageBlock\n    updateBlock({ ...(block as any), src: e.target.value })\n  }\n\n  const handleImageAltChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const block = selectedBlock as ImageBlock\n    updateBlock({ ...(block as any), alt: e.target.value })\n  }\n\n  const renderImageControls = () => {\n    const block = selectedBlock as ImageBlock\n\n    const mediaSettings =\n      ((block as any).mediaSettings as\n        | {\n            widthPercent: number\n            align: \"left\" | \"center\" | \"right\"\n            rounded: boolean\n            shadow: boolean\n            caption?: string\n          }\n        | undefined) || {\n        widthPercent: 100,\n        align: \"center\",\n        rounded: true,\n        shadow: false,\n        caption: \"\",\n      }\n\n    const updateMediaSettings = (partial: Partial<typeof mediaSettings>) => {\n      const next = { ...mediaSettings, ...partial }\n      updateBlock({\n        ...(block as any),\n        mediaSettings: next,\n      } as EditorBlock)\n    }\n\n    return (\n      <div className=\"space-y-4\">\n        {/* Source */}\n        <div className=\"space-y-2\">\n          <Label\n            htmlFor=\"image-src-input\"\n            className=\"text-xs font-medium flex items-center gap-1\"\n          >\n            <ImageIcon className=\"h-3 w-3\" />\n            {t(\"scorm.props.block.image.src\") || \"Image link\"}\n          </Label>\n          <Input\n            id=\"image-src-input\"\n            value={block.src || \"\"}\n            onChange={handleImageSrcChange}\n            className=\"h-9 text-xs\"\n            placeholder=\"https://example.com/image.png\"\n          />\n          <p className=\"text-[11px] text-muted-foreground\">\n            {t(\"scorm.props.block.image.srcHelp\") ||\n              \"Use a link that your learners can access (e.g. from your LMS or a public image host).\"}\n          </p>\n        </div>\n\n        {/* Alt text */}\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"image-alt-input\" className=\"text-xs font-medium\">\n            {t(\"scorm.props.block.image.alt\") || \"Alternative text (for screen readers)\"}\n          </Label>\n          <Input\n            id=\"image-alt-input\"\n            value={block.alt || \"\"}\n            onChange={handleImageAltChange}\n            className=\"h-9 text-xs\"\n            placeholder={\n              t(\"scorm.props.block.image.altPlaceholder\") ||\n              \"Example: A student using a laptop in class\"\n            }\n          />\n          <p className=\"text-[11px] text-muted-foreground\">\n            {t(\"scorm.props.block.image.altHelp\") ||\n              \"Short description of what the image shows. This helps learners with visual impairments.\"}\n          </p>\n        </div>\n\n        {/* Width & alignment */}\n        <div className=\"grid grid-cols-2 gap-3\">\n          <div className=\"space-y-1.5\">\n            <Label className=\"text-[11px]\">\n              {t(\"scorm.props.block.image.width\") || \"Image size\"}\n            </Label>\n            <div className=\"flex items-center gap-2\">\n              <Input\n                type=\"range\"\n                min={20}\n                max={100}\n                step={5}\n                value={mediaSettings.widthPercent}\n                onChange={(e) =>\n                  updateMediaSettings({\n                    widthPercent: Number(e.target.value),\n                  })\n                }\n              />\n              <span className=\"text-[11px] text-muted-foreground w-9 text-right\">\n                {mediaSettings.widthPercent}%\n              </span>\n            </div>\n          </div>\n\n          <div className=\"space-y-1.5\">\n            <Label className=\"text-[11px]\">\n              {t(\"scorm.props.block.image.align\") || \"Alignment\"}\n            </Label>\n            <div className=\"flex gap-1.5\">\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={\n                  mediaSettings.align === \"left\" ? \"default\" : \"outline\"\n                }\n                className=\"h-7 w-7\"\n                onClick={() => updateMediaSettings({ align: \"left\" })}\n              >\n                <AlignLeft className=\"h-3 w-3\" />\n              </Button>\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={\n                  mediaSettings.align === \"center\" ? \"default\" : \"outline\"\n                }\n                className=\"h-7 w-7\"\n                onClick={() => updateMediaSettings({ align: \"center\" })}\n              >\n                <AlignCenter className=\"h-3 w-3\" />\n              </Button>\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={\n                  mediaSettings.align === \"right\" ? \"default\" : \"outline\"\n                }\n                className=\"h-7 w-7\"\n                onClick={() => updateMediaSettings({ align: \"right\" })}\n              >\n                <AlignRight className=\"h-3 w-3\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Styles */}\n        <div className=\"space-y-1.5\">\n          <Label className=\"text-[11px]\">\n            {t(\"scorm.props.block.image.style\") || \"Style\"}\n          </Label>\n          <div className=\"flex flex-wrap gap-2\">\n            <div className=\"flex items-center gap-1.5\">\n              <Checkbox\n                checked={mediaSettings.rounded}\n                onCheckedChange={(checked) =>\n                  updateMediaSettings({\n                    rounded: Boolean(checked),\n                  })\n                }\n                className=\"h-3.5 w-3.5\"\n              />\n              <span className=\"text-[11px]\">\n                {t(\"scorm.props.block.image.rounded\") || \"Rounded corners\"}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-1.5\">\n              <Checkbox\n                checked={mediaSettings.shadow}\n                onCheckedChange={(checked) =>\n                  updateMediaSettings({\n                    shadow: Boolean(checked),\n                  })\n                }\n                className=\"h-3.5 w-3.5\"\n              />\n              <span className=\"text-[11px]\">\n                {t(\"scorm.props.block.image.shadow\") || \"Soft shadow\"}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Caption */}\n        <div className=\"space-y-1.5\">\n          <Label className=\"text-[11px]\">\n            {t(\"scorm.props.block.image.caption\") || \"Caption (optional)\"}\n          </Label>\n          <Input\n            value={mediaSettings.caption || \"\"}\n            onChange={(e) =>\n              updateMediaSettings({ caption: e.target.value })\n            }\n            className=\"h-9 text-xs\"\n            placeholder={\n              t(\"scorm.props.block.image.captionPlaceholder\") ||\n              \"Short text under the image\"\n            }\n          />\n        </div>\n      </div>\n    )\n  }\n\n  // ===========================================================================\n  // VIDEO BLOCK\n  // ===========================================================================\n\n  const handleVideoSrcChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const block = selectedBlock as VideoBlock\n    updateBlock({ ...(block as any), src: e.target.value })\n  }\n\n  const renderVideoControls = () => {\n    const block = selectedBlock as VideoBlock\n\n    const mediaSettings =\n      ((block as any).mediaSettings as\n        | {\n            widthPercent: number\n            align: \"left\" | \"center\" | \"right\"\n            autoplay: boolean\n            controls: boolean\n            loop: boolean\n          }\n        | undefined) || {\n        widthPercent: 100,\n        align: \"center\",\n        autoplay: false,\n        controls: true,\n        loop: false,\n      }\n\n    const updateMediaSettings = (partial: Partial<typeof mediaSettings>) => {\n      const next = { ...mediaSettings, ...partial }\n      updateBlock({\n        ...(block as any),\n        mediaSettings: next,\n      } as EditorBlock)\n    }\n\n    return (\n      <div className=\"space-y-4\">\n        {/* Source */}\n        <div className=\"space-y-2\">\n          <Label\n            htmlFor=\"video-src-input\"\n            className=\"text-xs font-medium flex items-center gap-1\"\n          >\n            <VideoIcon className=\"h-3 w-3\" />\n            {t(\"scorm.props.block.video.src\") || \"Video link\"}\n          </Label>\n          <Input\n            id=\"video-src-input\"\n            value={block.src || \"\"}\n            onChange={handleVideoSrcChange}\n            className=\"h-9 text-xs\"\n            placeholder=\"https://example.com/video.mp4\"\n          />\n          <p className=\"text-[11px] text-muted-foreground\">\n            {t(\"scorm.props.block.video.help\") ||\n              \"Use a direct video file link (MP4, WebM…) or a streaming URL that your player supports.\"}\n          </p>\n        </div>\n\n        {/* Size & alignment */}\n        <div className=\"grid grid-cols-2 gap-3\">\n          <div className=\"space-y-1.5\">\n            <Label className=\"text-[11px]\">\n              {t(\"scorm.props.block.video.width\") || \"Video size\"}\n            </Label>\n            <div className=\"flex items-center gap-2\">\n              <Input\n                type=\"range\"\n                min={30}\n                max={100}\n                step={5}\n                value={mediaSettings.widthPercent}\n                onChange={(e) =>\n                  updateMediaSettings({\n                    widthPercent: Number(e.target.value),\n                  })\n                }\n              />\n              <span className=\"text-[11px] text-muted-foreground w-9 text-right\">\n                {mediaSettings.widthPercent}%\n              </span>\n            </div>\n          </div>\n\n          <div className=\"space-y-1.5\">\n            <Label className=\"text-[11px]\">\n              {t(\"scorm.props.block.video.align\") || \"Alignment\"}\n            </Label>\n            <div className=\"flex gap-1.5\">\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={\n                  mediaSettings.align === \"left\" ? \"default\" : \"outline\"\n                }\n                className=\"h-7 w-7\"\n                onClick={() => updateMediaSettings({ align: \"left\" })}\n              >\n                <AlignLeft className=\"h-3 w-3\" />\n              </Button>\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={\n                  mediaSettings.align === \"center\" ? \"default\" : \"outline\"\n                }\n                className=\"h-7 w-7\"\n                onClick={() => updateMediaSettings({ align: \"center\" })}\n              >\n                <AlignCenter className=\"h-3 w-3\" />\n              </Button>\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant={\n                  mediaSettings.align === \"right\" ? \"default\" : \"outline\"\n                }\n                className=\"h-7 w-7\"\n                onClick={() => updateMediaSettings({ align: \"right\" })}\n              >\n                <AlignRight className=\"h-3 w-3\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Playback options */}\n        <div className=\"space-y-1.5\">\n          <Label className=\"text-[11px]\">\n            {t(\"scorm.props.block.video.playback\") || \"Playback options\"}\n          </Label>\n          <div className=\"flex flex-col gap-1.5\">\n            <div className=\"flex items-center gap-1.5\">\n              <Checkbox\n                checked={mediaSettings.autoplay}\n                onCheckedChange={(checked) =>\n                  updateMediaSettings({\n                    autoplay: Boolean(checked),\n                  })\n                }\n                className=\"h-3.5 w-3.5\"\n              />\n              <span className=\"text-[11px]\">\n                {t(\"scorm.props.block.video.autoplay\") ||\n                  \"Play automatically when the learner reaches this part\"}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-1.5\">\n              <Checkbox\n                checked={mediaSettings.controls}\n                onCheckedChange={(checked) =>\n                  updateMediaSettings({\n                    controls: Boolean(checked),\n                  })\n                }\n                className=\"h-3.5 w-3.5\"\n              />\n              <span className=\"text-[11px]\">\n                {t(\"scorm.props.block.video.controls\") ||\n                  \"Show play / pause / volume controls\"}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-1.5\">\n              <Checkbox\n                checked={mediaSettings.loop}\n                onCheckedChange={(checked) =>\n                  updateMediaSettings({\n                    loop: Boolean(checked),\n                  })\n                }\n                className=\"h-3.5 w-3.5\"\n              />\n              <span className=\"text-[11px]\">\n                {t(\"scorm.props.block.video.loop\") ||\n                  \"Repeat when the video ends\"}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // ===========================================================================\n  // QUIZ BLOCK\n  // ===========================================================================\n\n  const handleQuizQuestionChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const block = selectedBlock as QuizBlock\n    updateBlock({ ...(block as any), question: e.target.value })\n  }\n\n  const handleQuizOptionChange = (index: number, value: string) => {\n    const quizBlock = selectedBlock as QuizBlock\n    const options = [...((quizBlock.options || []) as any[])]\n    if (!options[index]) return\n    options[index] = { ...options[index], label: value }\n    updateBlock({ ...(quizBlock as any), options } as EditorBlock)\n  }\n\n  const handleQuizCorrectChange = (index: number, checked: boolean) => {\n    const quizBlock = selectedBlock as QuizBlock\n    const options = [...((quizBlock.options || []) as any[])]\n\n    const settings =\n      ((quizBlock as any).settings as\n        | { allowMultipleCorrect: boolean }\n        | undefined) || {\n        allowMultipleCorrect: false,\n      }\n\n    if (!settings.allowMultipleCorrect && checked) {\n      for (let i = 0; i < options.length; i++) {\n        options[i] = { ...options[i], correct: i === index }\n      }\n    } else {\n      options[index] = { ...options[index], correct: checked }\n    }\n\n    updateBlock({ ...(quizBlock as any), options } as EditorBlock)\n  }\n\n  const addQuizOption = () => {\n    const quizBlock = selectedBlock as QuizBlock\n    const options = [...((quizBlock.options || []) as any[])]\n    options.push({\n      id: `opt-${Date.now()}`,\n      label: t(\"scorm.props.block.quiz.newOption\") || \"New option\",\n      correct: false,\n    })\n    updateBlock({ ...(quizBlock as any), options } as EditorBlock)\n  }\n\n  const renderQuizControls = () => {\n    const quizBlock = selectedBlock as QuizBlock\n    const options = (quizBlock.options || []) as any[]\n\n    const settings =\n      ((quizBlock as any).settings as\n        | {\n            shuffleOptions: boolean\n            allowMultipleCorrect: boolean\n            feedbackCorrect?: string\n            feedbackIncorrect?: string\n          }\n        | undefined) || {\n        shuffleOptions: false,\n        allowMultipleCorrect: false,\n        feedbackCorrect: \"\",\n        feedbackIncorrect: \"\",\n      }\n\n    const updateSettings = (partial: Partial<typeof settings>) => {\n      const next = { ...settings, ...partial }\n      updateBlock({\n        ...(quizBlock as any),\n        settings: next,\n      } as EditorBlock)\n    }\n\n    return (\n      <div className=\"space-y-4\">\n        {/* Question */}\n        <div className=\"space-y-2\">\n          <Label\n            htmlFor=\"quiz-question-input\"\n            className=\"text-xs font-medium\"\n          >\n            {t(\"scorm.props.block.quiz.question\") || \"Question\"}\n          </Label>\n          <Input\n            id=\"quiz-question-input\"\n            value={quizBlock.question || \"\"}\n            onChange={handleQuizQuestionChange}\n            className=\"h-9 text-xs\"\n            placeholder={\n              t(\"scorm.props.block.quiz.questionPlaceholder\") ||\n              \"Example: What is the main idea of this paragraph?\"\n            }\n          />\n        </div>\n\n        {/* Options */}\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between gap-2\">\n            <Label className=\"text-xs font-medium flex items-center gap-1\">\n              <List className=\"h-3 w-3\" />\n              {t(\"scorm.props.block.quiz.optionsLabel\") || \"Options\"}\n            </Label>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              size=\"xs\"\n              className=\"h-7 px-2 text-[11px]\"\n              onClick={addQuizOption}\n            >\n              {t(\"scorm.props.block.quiz.addOption\") || \"Add option\"}\n            </Button>\n          </div>\n\n          <div className=\"space-y-2\">\n            {options.length === 0 && (\n              <p className=\"text-[11px] text-muted-foreground\">\n                {t(\"scorm.props.block.quiz.noOptions\") ||\n                  \"No options yet. Click “Add option” to create answer choices.\"}\n              </p>\n            )}\n\n            {options.map((option, index) => (\n              <div\n                key={option.id}\n                className=\"flex flex-col gap-1 rounded-md border bg-muted/40 px-2.5 py-2\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Input\n                    value={option.label}\n                    onChange={(e) =>\n                      handleQuizOptionChange(index, e.target.value)\n                    }\n                    className=\"h-8 text-xs\"\n                    placeholder={`${t(\"scorm.props.block.quiz.option\") || \"Option\"} ${\n                      index + 1\n                    }`}\n                  />\n                  <div className=\"flex items-center gap-1\">\n                    <Checkbox\n                      checked={!!option.correct}\n                      onCheckedChange={(checked) =>\n                        handleQuizCorrectChange(index, Boolean(checked))\n                      }\n                      className=\"h-4 w-4\"\n                    />\n                    <span className=\"text-[11px] text-muted-foreground\">\n                      {t(\"scorm.props.block.quiz.correct\") || \"Correct\"}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Behaviour settings */}\n        <div className=\"space-y-1.5\">\n          <Label className=\"text-[11px] flex items-center gap-1\">\n            <ListOrdered className=\"h-3 w-3\" />\n            {t(\"scorm.props.block.quiz.behavior\") || \"Question behaviour\"}\n          </Label>\n          <div className=\"flex flex-col gap-1.5\">\n            <div className=\"flex items-center gap-1.5\">\n              <Checkbox\n                checked={settings.shuffleOptions}\n                onCheckedChange={(checked) =>\n                  updateSettings({\n                    shuffleOptions: Boolean(checked),\n                  })\n                }\n                className=\"h-3.5 w-3.5\"\n              />\n              <span className=\"text-[11px]\">\n                {t(\"scorm.props.block.quiz.shuffle\") ||\n                  \"Shuffle options each time the learner opens the question\"}\n              </span>\n            </div>\n\n            <div className=\"flex items-center gap-1.5\">\n              <Checkbox\n                checked={settings.allowMultipleCorrect}\n                onCheckedChange={(checked) =>\n                  updateSettings({\n                    allowMultipleCorrect: Boolean(checked),\n                  })\n                }\n                className=\"h-3.5 w-3.5\"\n              />\n              <span className=\"text-[11px]\">\n                {t(\"scorm.props.block.quiz.allowMultiple\") ||\n                  \"Allow more than one correct answer\"}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Feedback */}\n        <div className=\"space-y-2\">\n          <Label className=\"text-[11px]\">\n            {t(\"scorm.props.block.quiz.feedback\") || \"Feedback messages\"}\n          </Label>\n          <div className=\"space-y-1.5\">\n            <div className=\"space-y-1\">\n              <Label className=\"text-[11px] text-muted-foreground\">\n                {t(\"scorm.props.block.quiz.feedbackCorrect\") ||\n                  \"If learner answers correctly\"}\n              </Label>\n              <textarea\n                rows={2}\n                value={settings.feedbackCorrect || \"\"}\n                onChange={(e) =>\n                  updateSettings({\n                    feedbackCorrect: e.target.value,\n                  })\n                }\n                className=\"w-full text-xs rounded-md border border-input bg-background px-2 py-1 outline-none resize-y focus-visible:ring-1 focus-visible:ring-sky-500\"\n                placeholder={\n                  t(\"scorm.props.block.quiz.feedbackCorrectPlaceholder\") ||\n                  \"Example: Excellent! You chose the main idea.\"\n                }\n              />\n            </div>\n            <div className=\"space-y-1\">\n              <Label className=\"text-[11px] text-muted-foreground\">\n                {t(\"scorm.props.block.quiz.feedbackIncorrect\") ||\n                  \"If learner answers incorrectly\"}\n              </Label>\n              <textarea\n                rows={2}\n                value={settings.feedbackIncorrect || \"\"}\n                onChange={(e) =>\n                  updateSettings({\n                    feedbackIncorrect: e.target.value,\n                  })\n                }\n                className=\"w-full text-xs rounded-md border border-input bg-background px-2 py-1 outline-none resize-y focus-visible:ring-1 focus-visible:ring-sky-500\"\n                placeholder={\n                  t(\"scorm.props.block.quiz.feedbackIncorrectPlaceholder\") ||\n                  \"Example: Not exactly. Re-read the second sentence and try again.\"\n                }\n              />\n            </div>\n          </div>\n        </div>\n\n        <p className=\"text-[11px] text-muted-foreground\">\n          {t(\"scorm.props.block.quiz.help\") ||\n            \"You can add feedback to guide learners, not just tell them if they are right or wrong.\"}\n        </p>\n      </div>\n    )\n  }\n\n  // ===========================================================================\n  // CHOOSE WHICH BLOCK UI TO SHOW\n  // ===========================================================================\n\n  const renderControls = () => {\n    if (!selectedBlock) return null\n\n    switch (selectedBlock.type) {\n      case \"text\":\n        return renderTextControls()\n      case \"image\":\n        return renderImageControls()\n      case \"video\":\n        return renderVideoControls()\n      case \"quiz\":\n        return renderQuizControls()\n      default:\n        return (\n          <p className=\"text-[11px] text-muted-foreground\">\n            {t(\"scorm.props.unsupported\") ||\n              \"This block type does not expose editable properties yet.\"}\n          </p>\n        )\n    }\n  }\n\n  // ===========================================================================\n  // EMPTY STATE (NO BLOCK SELECTED)\n  // ===========================================================================\n\n  if (!selectedBlock) {\n    return (\n      <div className=\"h-full flex flex-col items-center justify-center px-4 py-6 text-center\">\n        <div className=\"mb-3\">\n          <Badge\n            variant=\"outline\"\n            className=\"text-[11px] px-2 py-0 rounded-full\"\n          >\n            {t(\"scorm.props.title\") || \"Properties\"}\n          </Badge>\n        </div>\n        <p className=\"text-sm font-medium text-foreground mb-1\">\n          {t(\"scorm.props.emptyTitle\") || \"No block selected\"}\n        </p>\n        <p className=\"text-[11px] text-muted-foreground max-w-xs\">\n          {t(\"scorm.props.desc\") ||\n            \"Click on any element in the preview area to view and edit its properties here. You don’t need to know HTML.\"}\n        </p>\n      </div>\n    )\n  }\n\n  // ===========================================================================\n  // MAIN PANEL WRAPPER\n  // ===========================================================================\n\n  const typeLabelMap: Record<EditorBlock[\"type\"], string> = {\n    text: t(\"scorm.props.block.text.label\") || \"Text\",\n    image: t(\"scorm.props.block.image.label\") || \"Image\",\n    video: t(\"scorm.props.block.video.label\") || \"Video\",\n    quiz: t(\"scorm.props.block.quiz.label\") || \"Quiz\",\n  }\n\n  return (\n    <div className=\"h-full flex flex-col bg-card/80\">\n      {/* Header */}\n      <div className=\"px-4 pt-4 pb-3\">\n        <div className=\"flex items-center justify-between gap-2\">\n          <div className=\"space-y-1\">\n            <h3 className=\"text-sm font-semibold leading-none\">\n              {t(\"scorm.props.title\") || \"Block properties\"}\n            </h3>\n            <p className=\"text-[11px] text-muted-foreground\">\n              {t(\"scorm.props.subtitle\") ||\n                \"Adjust the selected element in a teacher-friendly way. No coding needed.\"}\n            </p>\n          </div>\n          <Badge\n            variant=\"secondary\"\n            className=\"text-[10px] px-2 py-0 rounded-full\"\n          >\n            {typeLabelMap[selectedBlock.type] ?? selectedBlock.type}\n          </Badge>\n        </div>\n      </div>\n\n      <Separator className=\"mb-3\" />\n\n      {/* Body */}\n      <div className=\"flex-1 overflow-y-auto px-4 pb-4 space-y-4 text-xs\">\n        {renderControls()}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2592, "column": 0}, "map": {"version":3,"sources":["file:///home/user/EduPack-new-interface/app/%28editor%29/scorm-ai/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, type FormEvent, useEffect, useRef } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { useLocale } from \"@/hooks/use-locale\"\nimport {\n  EditorBlock,\n  EditorPage,\n  EditorProject,\n  TextBlock,\n  ImageBlock,\n  VideoBlock,\n  QuizBlock,\n} from \"@/lib/scorm/types\"\nimport { BlockRenderer } from \"@/lib/scorm/block-engine\"\nimport { useLocalStorage } from \"@/hooks/use-local-storage\"\nimport { PropertiesPanel } from \"@/components/scorm/properties-panel\"\nimport {\n  Save,\n  Eye,\n  Download,\n  Type,\n  Paperclip,\n  FileQuestion,\n  MousePointerClick,\n  Upload,\n  MessageCircle,\n  FilePlus,\n  Settings,\n  LayoutDashboard,\n  Clock,\n} from \"lucide-react\"\n\ntype Status = \"draft\" | \"published\"\n\ntype ChatMessage = {\n  id: number\n  role: \"assistant\" | \"user\" | \"system\"\n  content: string\n}\n\nexport default function ScormAIPage() {\n  const { t } = useLocale()\n\n  const initialProject: EditorProject = {\n    id: `proj-${Date.now()}`,\n    title: t(\"scorm.ai.untitledProject\"),\n    language: \"en\",\n    version: \"1.0\",\n    pages: [\n      {\n        id: \"page-1\",\n        title: t(\"scorm.ai.introduction\"),\n        blocks: [],\n      },\n    ],\n  }\n\n  const [project, setProject] = useLocalStorage<EditorProject>(\"scorm-project\", initialProject)\n\n  const hasContent = project.pages.length > 1 || project.pages[0]?.blocks.length > 0\n  const [editorMode, setEditorMode] = useState<\"choice\" | \"ai\" | \"blank\">(hasContent ? \"ai\" : \"choice\")\n\n  const [activePage, setActivePage] = useState<EditorPage>(project.pages[0])\n  const [selectedBlock, setSelectedBlock] = useState<EditorBlock | null>(null)\n\n  const [status, setStatus] = useState<Status>(\"draft\")\n\n  const [chatInput, setChatInput] = useState(\"\")\n  const [messages, setMessages] = useState<ChatMessage[]>([])\n\n  useEffect(() => {\n    if (messages.length === 0) {\n      setMessages([\n        {\n          id: 1,\n          role: \"assistant\",\n          content: t(\"scorm.ai.welcome\"),\n        },\n      ])\n    }\n  }, [t, messages.length])\n\n  const fileInputRef = useRef<HTMLInputElement | null>(null)\n  const [isDragging, setIsDragging] = useState(false)\n\n  const [aiOpen, setAiOpen] = useState(false)\n\n  // navbar toggle\n  const [navVisible, setNavVisible] = useState(false)\n\n  useEffect(() => {\n    if (typeof document === \"undefined\") return\n    const nav = document.getElementById(\"main-navbar\") as HTMLElement | null\n    if (!nav) return\n\n    if (navVisible) {\n      nav.style.display = \"\"\n    } else {\n      nav.style.display = \"none\"\n    }\n  }, [navVisible])\n\n  useEffect(() => {\n    const currentPage = project.pages.find((p) => p.id === activePage.id)\n    if (currentPage) {\n      setActivePage(currentPage)\n    }\n  }, [project, activePage.id])\n\n  const handleBlockClick = (block: EditorBlock) => {\n    setSelectedBlock(block)\n  }\n\n  const handleBlockChange = (updatedBlock: EditorBlock) => {\n    setProject((prevProject) => {\n      const updatedPages = prevProject.pages.map((p) => {\n        if (p.id === activePage.id) {\n          const updatedBlocks = p.blocks.map((b) => (b.id === updatedBlock.id ? updatedBlock : b))\n          return { ...p, blocks: updatedBlocks }\n        }\n        return p\n      })\n      return { ...prevProject, pages: updatedPages }\n    })\n    setSelectedBlock(updatedBlock)\n  }\n\n  const handleSend = (e: FormEvent) => {\n    e.preventDefault()\n    if (!chatInput.trim()) return\n\n    const userMessage: ChatMessage = {\n      id: Date.now(),\n      role: \"user\",\n      content: chatInput.trim(),\n    }\n\n    setChatInput(\"\")\n    setMessages((prev) => [\n      ...prev,\n      userMessage,\n      {\n        id: Date.now() + 1,\n        role: \"assistant\",\n        content: t(\"scorm.ai.notConfigured\"),\n      },\n    ])\n  }\n\n  const handleSave = () => {\n    console.log(\"Project saved!\", project)\n    alert(t(\"scorm.ai.projectSaved\"))\n    setStatus(\"draft\")\n  }\n\n  const handleExport = async () => {\n    try {\n      const response = await fetch(\"/api/scorm/export\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(project),\n      })\n\n      if (!response.ok) {\n        throw new Error(t(\"scorm.ai.exportFailed\"))\n      }\n\n      const blob = await response.blob()\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement(\"a\")\n      a.href = url\n      a.download = `${project.title.replace(/ /g, \"_\") || \"scorm-package\"}.zip`\n      document.body.appendChild(a)\n      a.click()\n      a.remove()\n      window.URL.revokeObjectURL(url)\n      setStatus(\"published\")\n    } catch (error) {\n      console.error(\"Failed to export project:\", error)\n      alert(t(\"scorm.ai.exportError\"))\n    }\n  }\n\n  const addBlock = (type: EditorBlock[\"type\"], data?: Partial<EditorBlock>) => {\n    let newBlock: EditorBlock\n\n    if (data) {\n      newBlock = { ...data, id: `block-${Date.now()}`, type } as EditorBlock\n    } else {\n      const baseBlock = { id: `block-${Date.now()}` }\n      switch (type) {\n        case \"text\":\n          newBlock = {\n            ...baseBlock,\n            type: \"text\",\n            html: t(\"scorm.ai.newTextBlock\"),\n          }\n          break\n        case \"image\":\n          newBlock = {\n            ...baseBlock,\n            type: \"image\",\n            src: \"https://via.placeholder.com/600x400\",\n            alt: t(\"scorm.ai.placeholderImage\"),\n          }\n          break\n        case \"video\":\n          newBlock = {\n            ...baseBlock,\n            type: \"video\",\n            src: \"https://www.w3schools.com/html/mov_bbb.mp4\",\n          }\n          break\n        case \"quiz\":\n          newBlock = {\n            ...baseBlock,\n            type: \"quiz\",\n            question: t(\"scorm.ai.newQuestion\"),\n            options: [\n              { id: \"1\", label: t(\"scorm.ai.option1\"), correct: true },\n              { id: \"2\", label: t(\"scorm.ai.option2\"), correct: false },\n            ],\n          }\n          break\n        default:\n          return\n      }\n    }\n\n    setProject((prevProject) => {\n      const updatedPages = prevProject.pages.map((p) => {\n        if (p.id === activePage.id) {\n          const newBlocks = [...p.blocks, newBlock]\n          return { ...p, blocks: newBlocks }\n        }\n        return p\n      })\n      return { ...prevProject, pages: updatedPages }\n    })\n  }\n\n  const handlePreview = () => {\n    const htmlContent = `\n      <!DOCTYPE html>\n      <html lang=\"${project.language || \"en\"}\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <title>${t(\"scorm.ai.previewTitle\", { title: project.title })}</title>\n        <style>\n          body { font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; padding: 20px; max-width: 1000px; margin: 0 auto; color: #333; }\n          article { margin-bottom: 40px; border-bottom: 1px solid #eee; padding-bottom: 20px; }\n          h1, h2 { color: #111; }\n          figure { margin: 0 0 1em 0; }\n          img, video { max-width: 100%; height: auto; border-radius: 8px; }\n          figcaption { font-size: 0.9em; color: #666; text-align: center; margin-top: 5px; }\n          fieldset { border: 1px solid #ccc; padding: 15px; border-radius: 8px; margin-top: 1em; }\n          legend { font-weight: bold; padding: 0 5px; }\n          form div { margin-bottom: 10px; }\n        </style>\n      </head>\n      <body>\n        <h1>${project.title}</h1>\n        ${project.pages\n          .map(\n            (page) => `\n          <article>\n            <h2>${page.title}</h2>\n            ${page.blocks\n              .map((block) => {\n                switch (block.type) {\n                  case \"text\":\n                    return (block as TextBlock).html\n                  case \"image\":\n                    return `<figure><img src=\"${(block as ImageBlock).src}\" alt=\"${\n                      (block as ImageBlock).alt || t(\"scorm.ai.placeholderImage\")\n                    }\"><figcaption>${\n                      (block as ImageBlock).alt || t(\"scorm.ai.placeholderImage\")\n                    }</figcaption></figure>`\n                  case \"video\":\n                    return `<video src=\"${(block as VideoBlock).src}\" controls></video>`\n                  case \"quiz\":\n                    const quizBlock = block as QuizBlock\n                    return `\n                  <form onsubmit=\"event.preventDefault();\">\n                    <fieldset>\n                      <legend>${quizBlock.question}</legend>\n                      ${(quizBlock.options || [])\n                        .map(\n                          (o) => `\n                        <div>\n                          <input type=\"radio\" id=\"${o.id}\" name=\"${quizBlock.id}\" value=\"${o.id}\">\n                          <label for=\"${o.id}\">${o.label}</label>\n                        </div>\n                      `,\n                        )\n                        .join(\"\")}\n                    </fieldset>\n                  </form>\n                `\n                  default:\n                    return \"\"\n                }\n              })\n              .join(\"\")}\n          </article>\n        `,\n          )\n          .join(\"\")}\n      </body>\n      </html>\n    `\n    const previewWindow = window.open(\"\", \"_blank\")\n    previewWindow?.document.write(htmlContent)\n    previewWindow?.document.close()\n  }\n\n  const handleFileProcess = (file: File) => {\n    if (!file) return\n\n    const reader = new FileReader()\n\n    reader.onload = () => {\n      const result = reader.result\n\n      if (file.type.startsWith(\"image/\")) {\n        addBlock(\"image\", { src: result as string, alt: file.name } as ImageBlock)\n      } else if (file.type.startsWith(\"video/\")) {\n        addBlock(\"video\", { src: result as string } as VideoBlock)\n      } else if (file.type === \"application/json\") {\n        try {\n          const parsedData = JSON.parse(result as string)\n          // Try to load as EditorProject\n          if (\n            parsedData.id &&\n            parsedData.title &&\n            Array.isArray(parsedData.pages)\n          ) {\n            setProject(parsedData as EditorProject)\n            setActivePage(parsedData.pages[0])\n            setSelectedBlock(null)\n            alert(t(\"scorm.ai.projectLoaded\"))\n          }\n          // Try to load as QuizBlock\n          else if (parsedData.question && Array.isArray(parsedData.options)) {\n            addBlock(\"quiz\", parsedData as QuizBlock)\n          } else {\n            console.error(\"Unknown JSON format:\", parsedData)\n            alert(t(\"scorm.ai.invalidJsonFormat\"))\n          }\n        } catch (err) {\n          console.error(\"Error parsing JSON file:\", err)\n          alert(t(\"scorm.ai.invalidProjectFile\"))\n        }\n      } else if (file.type === \"text/csv\") {\n        // For CSV, create a text block with preformatted content\n        addBlock(\"text\", {\n          html: `<pre>${result as string}</pre>`,\n        } as TextBlock)\n      } else {\n        alert(t(\"scorm.ai.unsupportedFileType\", { type: file.type }))\n      }\n    }\n\n    if (file.type.startsWith(\"image/\") || file.type.startsWith(\"video/\")) {\n      reader.readAsDataURL(file)\n    } else if (file.type === \"application/json\" || file.type === \"text/csv\") {\n      reader.readAsText(file)\n    } else {\n      alert(t(\"scorm.ai.unsupportedFileType\", { type: file.type }))\n    }\n  }\n\n  const handleUploadClick = () => {\n    fileInputRef.current?.click()\n  }\n\n  const handleFileInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (file) {\n      handleFileProcess(file)\n    }\n    event.target.value = \"\" // Clear the input so same file can be uploaded again\n  }\n\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setIsDragging(true)\n  }\n\n  const handleDragLeave = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setIsDragging(false)\n  }\n\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setIsDragging(false)\n\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const file = e.dataTransfer.files[0]\n      handleFileProcess(file)\n      e.dataTransfer.clearData()\n    }\n  }\n\n  const handleAddMedia = () => {\n    const url = window.prompt(t(\"scorm.tools.mediaPrompt\")) || \"\"\n    if (!url.trim()) return\n\n    const imageUrlRegex = /\\.(jpeg|jpg|gif|png|webp|svg)$/i\n    const videoUrlRegex = /\\.(mp4|webm|ogg)$/i\n\n    if (imageUrlRegex.test(url)) {\n      addBlock(\"image\", {\n        type: \"image\",\n        src: url.trim(),\n        alt: t(\"scorm.ai.media\"),\n      } as ImageBlock)\n    } else if (videoUrlRegex.test(url)) {\n      addBlock(\"video\", {\n        type: \"video\",\n        src: url.trim(),\n      } as VideoBlock)\n    } else {\n      alert(t(\"scorm.ai.unsupportedMediaUrl\"))\n    }\n  }\n\n  const handleAddPage = () => {\n    const newPage: EditorPage = {\n      id: `page-${Date.now()}`,\n      title: t(\"scorm.tools.newPage\", { number: project.pages.length + 1 }),\n      blocks: [],\n    }\n    setProject((prev) => ({\n      ...prev,\n      pages: [...prev.pages, newPage],\n    }))\n    setActivePage(newPage)\n    setSelectedBlock(null)\n  }\n\n  // first screen: choice\n  if (editorMode === \"choice\") {\n    const start = (mode: \"ai\" | \"blank\") => {\n      setProject(initialProject)\n      setEditorMode(mode)\n    }\n\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[calc(100vh-4rem)] bg-slate-50\">\n        <div className=\"text-center max-w-lg bg-white/80 border border-slate-200 rounded-3xl shadow-sm px-8 py-10\">\n          <h1 className=\"text-3xl font-semibold tracking-tight mb-2\">\n            {t(\"scorm.choice.title\")}\n          </h1>\n          <p className=\"text-sm text-slate-500 mb-8\">\n            {t(\"scorm.choice.description\")}\n          </p>\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <Button size=\"lg\" onClick={() => start(\"ai\")} className=\"h-auto py-4 rounded-2xl px-6\">\n              <div className=\"flex flex-col items-center gap-1\">\n                <MessageCircle className=\"h-6 w-6 mb-1\" />\n                <span className=\"font-semibold text-sm\">{t(\"scorm.choice.aiAssistant\")}</span>\n                <span className=\"font-normal text-xs text-primary-foreground/80\">\n                  {t(\"scorm.choice.aiAssistantDesc\")}\n                </span>\n              </div>\n            </Button>\n            <Button\n              size=\"lg\"\n              variant=\"outline\"\n              onClick={() => start(\"blank\")}\n              className=\"h-auto py-4 rounded-2xl px-6 bg-white\"\n            >\n              <div className=\"flex flex-col items-center gap-1\">\n                <FilePlus className=\"h-6 w-6 mb-1\" />\n                <span className=\"font-semibold text-sm\">{t(\"scorm.choice.blankPage\")}</span>\n                <span className=\"font-normal text-xs text-slate-500\">\n                  {t(\"scorm.choice.blankPageDesc\")}\n                </span>\n              </div>\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  const visibleMessages = messages.slice(-4)\n\n  return (\n    <>\n      {/* hidden input for upload */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*,video/*,application/json,text/csv\"\n        className=\"hidden\"\n        onChange={handleFileInputChange}\n      />\n\n      {/* navbar toggle button */}\n      <button\n        type=\"button\"\n        onClick={() => setNavVisible((v) => !v)}\n        className=\"fixed top-4 left-4 z-[1200] flex h-10 w-10 items-center justify-center rounded-full bg-slate-900 text-white shadow-lg hover:bg-slate-800\"\n        title={navVisible ? t(\"scorm.nav.hide\") : t(\"scorm.nav.show\")}\n      >\n        <span className=\"text-xl\">☰</span>\n      </button>\n\n      {/* full-page background */}\n      <div className=\"min-h-screen bg-slate-50 px-4 sm:px-8 py-6\">\n        {/* editor wrapper – no max width (takes full page) */}\n        <div className=\"w-full h-full mx-auto flex flex-col\">\n          <div className=\"flex-1 relative flex flex-col\">\n            {/* top bar */}\n            <div className=\"flex items-center justify-between mb-3\">\n              <div className=\"flex items-center gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"rounded-full bg-white/90 border-slate-200 text-slate-700 hover:bg-slate-50\"\n                  onClick={handlePreview}\n                >\n                  <Eye className=\"h-4 w-4 mr-1\" />\n                  {t(\"scorm.topbar.preview\")}\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"rounded-full bg-white/90 border-slate-200 text-slate-700 hover:bg-slate-50\"\n                  onClick={handleExport}\n                >\n                  <Download className=\"h-4 w-4 mr-1\" />\n                  {t(\"scorm.topbar.export\")}\n                </Button>\n              </div>\n\n              <div className=\"flex items-center gap-3 text-xs text-slate-500\">\n                <Badge\n                  variant={status === \"draft\" ? \"secondary\" : \"default\"}\n                  className=\"text-[10px] px-2 py-0.5 rounded-full bg-slate-100 text-slate-700 border border-slate-200\"\n                >\n                  {status === \"draft\"\n                    ? t(\"scorm.topbar.status.draft\")\n                    : t(\"scorm.topbar.status.published\")}\n                </Badge>\n                <div className=\"flex items-center gap-1\">\n                  <Clock className=\"h-4 w-4\" />\n                  <span>{t(\"scorm.tools.history\")}</span>\n                </div>\n              </div>\n            </div>\n\n            {/* AI popup */}\n            {aiOpen && (\n              <div className=\"absolute right-10 top-[90px] z-30 w-full max-w-sm\">\n                <div className=\"rounded-2xl bg-white/95 border border-slate-200 shadow-xl px-4 py-3 backdrop-blur-md\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"inline-flex h-7 w-7 items-center justify-center rounded-full bg-sky-100\">\n                        <MessageCircle className=\"h-4 w-4 text-sky-700\" />\n                      </span>\n                      <span className=\"text-sm font-semibold text-slate-800\">\n                        {t(\"scorm.ai.title\")}\n                      </span>\n                    </div>\n                    <button\n                      type=\"button\"\n                      className=\"text-xs text-slate-400 hover:text-slate-600\"\n                      onClick={() => setAiOpen(false)}\n                    >\n                      {t(\"scorm.ai.close\")}\n                    </button>\n                  </div>\n                  <div className=\"max-h-40 overflow-y-auto text-[11px] rounded-xl bg-slate-50 px-3 py-2 border border-slate-100 mb-2\">\n                    {visibleMessages.length > 0 ? (\n                      visibleMessages.map((m) => (\n                        <div\n                          key={m.id}\n                          className={`flex ${\n                            m.role === \"user\" ? \"justify-end\" : \"justify-start\"\n                          } mb-1`}\n                        >\n                          <div\n                            className={\n                              m.role === \"user\"\n                                ? \"inline-block rounded-2xl rounded-br-sm bg-sky-600 text-white px-2.5 py-1\"\n                                : \"inline-block rounded-2xl rounded-bl-sm bg-white text-slate-800 px-2.5 py-1 border border-slate-100\"\n                            }\n                          >\n                            {m.content}\n                          </div>\n                        </div>\n                      ))\n                    ) : (\n                      <span className=\"text-slate-400\">\n                        {t(\"scorm.ai.welcome\")}\n                      </span>\n                    )}\n                  </div>\n                  <form onSubmit={handleSend} className=\"flex items-center gap-2\">\n                    <Input\n                      value={chatInput}\n                      onChange={(e) => setChatInput(e.target.value)}\n                      placeholder={t(\"scorm.ai.placeholder\")}\n                      className=\"text-[11px] rounded-full h-8 bg-slate-50 border-slate-200\"\n                    />\n                    <Button\n                      type=\"submit\"\n                      size=\"sm\"\n                      className=\"rounded-full h-8 px-3 text-xs bg-sky-600 hover:bg-sky-700\"\n                    >\n                      {t(\"scorm.ai.send\")}\n                    </Button>\n                  </form>\n                </div>\n              </div>\n            )}\n\n            {/* canvas + properties side-by-side */}\n            <div className=\"flex-1 flex flex-col lg:flex-row items-stretch gap-4 mt-4\">\n              {/* Canvas (left) */}\n              <div\n                className={`relative flex-1 ${\n                  isDragging ? \"border-2 border-dashed border-sky-500 bg-sky-50/20\" : \"\"\n                }`}\n                onClick={() => setSelectedBlock(null)}\n                onDragOver={handleDragOver}\n                onDragLeave={handleDragLeave}\n                onDrop={handleDrop}\n              >\n                <div className=\"bg-sky-50 rounded-[28px] border border-sky-100 shadow-inner px-6 py-6 min-h-[520px]\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"flex items-center gap-2 flex-wrap\">\n                      <h2 className=\"text-sm font-semibold mr-2 text-slate-800\">\n                        {t(\"scorm.canvas.title\")}\n                      </h2>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {project.pages.map((page) => (\n                          <button\n                            key={page.id}\n                            type=\"button\"\n                            onClick={(e) => {\n                              e.stopPropagation()\n                              setActivePage(page)\n                              setSelectedBlock(null)\n                            }}\n                            className={\n                              \"px-3 py-1 rounded-full text-xs border transition-colors \" +\n                              (page.id === activePage.id\n                                ? \"bg-sky-600 text-white border-sky-600\"\n                                : \"bg-white text-slate-600 border-slate-200 hover:bg-slate-50\")\n                            }\n                          >\n                            {page.title}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"rounded-full hover:bg-slate-100\"\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        handleSave()\n                      }}\n                    >\n                      <Save className=\"h-4 w-4 text-slate-700\" />\n                    </Button>\n                  </div>\n\n                  <div className=\"max-h-[600px] overflow-auto pr-1\">\n                    {activePage.blocks.length > 0 ? (\n                      <div className=\"space-y-4\">\n                        {activePage.blocks.map((block) => {\n                          const isSelected = selectedBlock?.id === block.id\n                          return (\n                            <div key={block.id} className=\"relative\">\n                              {/* POPUP PANEL */}\n                              {isSelected && (\n                                <div\n                                  className=\"absolute z-[9999] -top-2 left-1/2 -translate-x-1/2\"\n                                  onClick={(e) => e.stopPropagation()}\n                                >\n                                  <div className=\"rounded-2xl border border-slate-200 bg-white shadow-xl w-[320px]\">\n                                    <PropertiesPanel\n                                      selectedBlock={selectedBlock}\n                                      onBlockChange={handleBlockChange}\n                                    />\n                                  </div>\n                                </div>\n                              )}\n                          \n                              {/* BLOCK */}\n                              <div\n                                className={`rounded-2xl border px-4 py-3 bg-white transition-shadow cursor-pointer ${\n                                  isSelected\n                                    ? \"ring-2 ring-sky-500 shadow-md\"\n                                    : \"hover:shadow-sm border-slate-200\"\n                                }`}\n                                onClick={(e) => {\n                                  e.stopPropagation()\n                                  handleBlockClick(block)\n                                }}\n                              >\n                                <BlockRenderer block={block} onClick={handleBlockClick} />\n                              </div>\n                            </div>\n                          )\n                          \n                        })}\n                      </div>\n                    ) : (\n                      <div className=\"text-center space-y-3 py-12\">\n                        <h2 className=\"text-base sm:text-lg font-semibold text-slate-800\">\n                          {t(\"scorm.canvas.title\")}\n                        </h2>\n                        <p className=\"text-xs sm:text-sm text-slate-500\">\n                          {t(\"scorm.canvas.desc\")}\n                        </p>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          type=\"button\"\n                          onClick={(e) => {\n                            e.stopPropagation()\n                            addBlock(\"text\")\n                          }}\n                          className=\"rounded-full border-sky-500 text-sky-700 hover:bg-sky-50\"\n                        >\n                          <MousePointerClick className=\"mr-2 h-4 w-4\" />\n                          {t(\"scorm.canvas.start\")}\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Properties panel (right) */}\n              \n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* floating editing bar */}\n      <div className=\"fixed bottom-6 left-1/2 -translate-x-1/2 z-[999]\">\n        <div className=\"inline-flex items-center gap-0.5 rounded-full bg-white/95 shadow-[0_12px_30px_rgba(15,23,42,0.18)] px-2.5 py-1.5 border border-slate-200 backdrop-blur-md\">\n          <IconToolButton\n            onClick={handleUploadClick}\n            icon={<Upload className=\"h-4 w-4\" />}\n            label=\"scorm.tools.upload\"\n          />\n          <IconToolButton\n            onClick={() => alert(t(\"scorm.alerts.interactiveSoon\"))}\n            icon={<MousePointerClick className=\"h-4 w-4\" />}\n            label=\"scorm.tools.interactive\"\n          />\n          <IconToolButton\n            onClick={() => addBlock(\"quiz\")}\n            icon={<FileQuestion className=\"h-4 w-4\" />}\n            label=\"scorm.tools.quiz\"\n          />\n          <IconToolButton\n            onClick={handleAddPage}\n            icon={<LayoutDashboard className=\"h-4 w-4\" />}\n            label=\"scorm.tools.pageEditor\"\n          />\n          <IconToolButton\n            onClick={handleAddMedia}\n            icon={<Paperclip className=\"h-4 w-4\" />}\n            label=\"scorm.tools.media\"\n          />\n          <IconToolButton\n            onClick={() => addBlock(\"text\")}\n            icon={<Type className=\"h-4 w-4\" />}\n            label=\"scorm.tools.text\"\n          />\n          <IconToolButton\n            onClick={() => setAiOpen((v) => !v)}\n            icon={<MessageCircle className=\"h-4 w-4\" />}\n            label=\"scorm.tools.ai\"\n            emphasis\n          />\n          <IconToolButton\n            onClick={() => alert(t(\"scorm.alerts.settingsLater\"))}\n            icon={<Settings className=\"h-4 w-4\" />}\n            label=\"scorm.tools.settings\"\n          />\n        </div>\n      </div>\n    </>\n  )\n}\n\nfunction IconToolButton({\n  icon,\n  label,\n  onClick,\n  emphasis,\n}: {\n  icon: React.ReactNode\n  label: string\n  onClick?: () => void\n  emphasis?: boolean\n}) {\n  const { t } = useLocale()\n  const translatedLabel = t(label as any)\n  return (\n    <button\n      onClick={onClick}\n      type=\"button\"\n      title={translatedLabel}\n      className={\n        \"flex h-9 w-9 items-center justify-center rounded-full text-slate-700 transition-colors \" +\n        (emphasis ? \"bg-sky-600 text-white hover:bg-sky-700\" : \"hover:bg-slate-100\")\n      }\n      disabled={!onClick}\n    >\n      {icon}\n      <span className=\"sr-only\">{translatedLabel}</span>\n    </button>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}