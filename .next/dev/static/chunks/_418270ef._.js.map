{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst badgeVariants = cva(\r\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\r\n        secondary:\r\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\r\n        destructive:\r\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'span'> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'span'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/lib/scorm/block-engine.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport {\r\n  EditorBlock,\r\n  EditorProject,\r\n  TextBlock,\r\n  ImageBlock,\r\n  VideoBlock,\r\n  QuizBlock,\r\n  InteractiveBlock,\r\n} from \"@/lib/scorm/types\"\r\n\r\ninterface Props {\r\n  block: EditorBlock\r\n  onClick?: (b: EditorBlock) => void\r\n  theme?: EditorProject[\"theme\"]\r\n}\r\n\r\nexport function BlockRenderer({ block, onClick, theme }: Props) {\r\n  const select = () => onClick?.(block)\r\n\r\n  /* ========= TEXT ========= */\r\n  if (block.type === \"text\") {\r\n    const b = block as TextBlock\r\n    const style = b.style || {}\r\n    const themeStyles = theme?.styles || {}\r\n\r\n    const styleObj: React.CSSProperties = {\r\n      ...themeStyles,\r\n      fontWeight: style.bold ? \"bold\" : \"normal\",\r\n      fontStyle: style.italic ? \"italic\" : \"normal\",\r\n      textDecoration: style.underline ? \"underline\" : \"none\",\r\n      fontSize: style.size || \"inherit\",\r\n      textAlign: style.align as React.CSSProperties[\"textAlign\"],\r\n      direction: style.direction as React.CSSProperties[\"direction\"],\r\n      color: style.color,\r\n      background: style.background,\r\n      padding: style.padding,\r\n      borderRadius: style.radius,\r\n      lineHeight: style.lineHeight,\r\n      ...style,\r\n    }\r\n\r\n    return (\r\n      <div\r\n        onClick={select}\r\n        className=\"prose prose-sm max-w-none\"\r\n        style={styleObj}\r\n        dangerouslySetInnerHTML={{ __html: b.html || \"\" }}\r\n      />\r\n    )\r\n  }\r\n\r\n  /* ========= IMAGE ========= */\r\n  if (block.type === \"image\") {\r\n    const b = block as ImageBlock;\r\n    return (\r\n      <figure onClick={select} className=\"flex flex-col items-center\">\r\n        <img\r\n          src={b.src}\r\n          alt={b.alt || \"\"}\r\n          className=\"rounded-xl border bg-slate-50\"\r\n        />\r\n        {b.alt && (\r\n          <figcaption className=\"text-[11px] text-slate-500\">\r\n            {b.alt}\r\n          </figcaption>\r\n        )}\r\n      </figure>\r\n    );\r\n  }\r\n\r\n  /* ========= VIDEO ========= */\r\n  if (block.type === \"video\") {\r\n    const b = block as VideoBlock;\r\n    return (\r\n      <div onClick={select}>\r\n        <video\r\n          src={b.src}\r\n          controls\r\n          className=\"w-full rounded-xl border bg-black\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /* ========= QUIZ ========= */\r\n  if (block.type === \"quiz\") {\r\n    const b = block as QuizBlock;\r\n    return (\r\n      <div\r\n        onClick={select}\r\n        className=\"rounded-xl border bg-slate-50 p-3 space-y-2\"\r\n      >\r\n        <p className=\"text-sm font-semibold\">{b.question}</p>\r\n\r\n        {(b.options || []).map((o) => (\r\n          <label\r\n            key={o.id}\r\n            className=\"flex items-center gap-2 text-xs text-slate-700\"\r\n          >\r\n            <input\r\n              type=\"radio\"\r\n              name={b.id}\r\n              onClick={(e) => e.stopPropagation()}\r\n            />\r\n            <span>{o.label}</span>\r\n          </label>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /* ========= INTERACTIVE ========= */\r\n  if (block.type === \"interactive\") {\r\n    const b = block as InteractiveBlock;\r\n    const style = b.style || {};\r\n\r\n    /* General shape */\r\n    const styleObj: React.CSSProperties = {\r\n      padding: style.padding || \"10px\",\r\n      borderRadius:\r\n        style.radius ||\r\n        (b.variant === \"button\" ? \"999px\" : \"12px\"),\r\n      background:\r\n        style.background ||\r\n        (b.variant === \"button\"\r\n          ? \"#0ea5e9\"\r\n          : b.variant === \"callout\"\r\n          ? \"#eef2ff\"\r\n          : \"#f1f5f9\"),\r\n      boxShadow: style.shadow ? \"0 8px 20px rgba(0,0,0,0.15)\" : \"none\",\r\n      cursor: \"pointer\",\r\n    };\r\n\r\n    /* ---- BUTTON ---- */\r\n    if (b.variant === \"button\") {\r\n      return (\r\n        <button\r\n          onClick={select}\r\n          style={styleObj}\r\n          className=\"text-xs text-white\"\r\n        >\r\n          {b.label || \"Interactive\"}\r\n        </button>\r\n      );\r\n    }\r\n\r\n    /* ---- CALLOUT ---- */\r\n    if (b.variant === \"callout\") {\r\n      return (\r\n        <div onClick={select} style={styleObj}>\r\n          {b.label && <p className=\"font-semibold\">{b.label}</p>}\r\n          {b.bodyHtml ? (\r\n            <div\r\n              dangerouslySetInnerHTML={{ __html: b.bodyHtml }}\r\n              className=\"prose prose-xs\"\r\n            />\r\n          ) : (\r\n            <p className=\"text-[11px] text-slate-500\">Empty callout.</p>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    /* ---- REVEAL ---- */\r\n    if (b.variant === \"reveal\") {\r\n      return (\r\n        <details\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            select();\r\n          }}\r\n          open={b.initiallyOpen}\r\n          style={styleObj}\r\n        >\r\n          <summary>{b.label || \"Show\"}</summary>\r\n          <div\r\n            className=\"mt-2 prose prose-xs\"\r\n            dangerouslySetInnerHTML={{\r\n              __html:\r\n                b.bodyHtml || \"<em style='color:#999'>Empty reveal</em>\",\r\n            }}\r\n          />\r\n        </details>\r\n      );\r\n    }\r\n\r\n    /* ---- CUSTOM ---- */\r\n    if (b.variant === \"custom\") {\r\n      return (\r\n        <div\r\n          onClick={select}\r\n          style={styleObj}\r\n          dangerouslySetInnerHTML={{\r\n            __html:\r\n              b.customHtml ||\r\n              \"<em style='color:#999;font-size:12px'>Empty custom HTML</em>\",\r\n          }}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  /* ========= DEFAULT ========= */\r\n  return (\r\n    <div onClick={select} className=\"text-[11px] text-slate-400\">\r\n      Unknown block type.\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAmBO,SAAS,cAAc,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAS;IAC5D,MAAM,SAAS,IAAM,UAAU;IAE/B,4BAA4B,GAC5B,IAAI,MAAM,IAAI,KAAK,QAAQ;QACzB,MAAM,IAAI;QACV,MAAM,QAAQ,EAAE,KAAK,IAAI,CAAC;QAC1B,MAAM,cAAc,OAAO,UAAU,CAAC;QAEtC,MAAM,WAAgC;YACpC,GAAG,WAAW;YACd,YAAY,MAAM,IAAI,GAAG,SAAS;YAClC,WAAW,MAAM,MAAM,GAAG,WAAW;YACrC,gBAAgB,MAAM,SAAS,GAAG,cAAc;YAChD,UAAU,MAAM,IAAI,IAAI;YACxB,WAAW,MAAM,KAAK;YACtB,WAAW,MAAM,SAAS;YAC1B,OAAO,MAAM,KAAK;YAClB,YAAY,MAAM,UAAU;YAC5B,SAAS,MAAM,OAAO;YACtB,cAAc,MAAM,MAAM;YAC1B,YAAY,MAAM,UAAU;YAC5B,GAAG,KAAK;QACV;QAEA,qBACE,6LAAC;YACC,SAAS;YACT,WAAU;YACV,OAAO;YACP,yBAAyB;gBAAE,QAAQ,EAAE,IAAI,IAAI;YAAG;;;;;;IAGtD;IAEA,6BAA6B,GAC7B,IAAI,MAAM,IAAI,KAAK,SAAS;QAC1B,MAAM,IAAI;QACV,qBACE,6LAAC;YAAO,SAAS;YAAQ,WAAU;;8BACjC,6LAAC;oBACC,KAAK,EAAE,GAAG;oBACV,KAAK,EAAE,GAAG,IAAI;oBACd,WAAU;;;;;;gBAEX,EAAE,GAAG,kBACJ,6LAAC;oBAAW,WAAU;8BACnB,EAAE,GAAG;;;;;;;;;;;;IAKhB;IAEA,6BAA6B,GAC7B,IAAI,MAAM,IAAI,KAAK,SAAS;QAC1B,MAAM,IAAI;QACV,qBACE,6LAAC;YAAI,SAAS;sBACZ,cAAA,6LAAC;gBACC,KAAK,EAAE,GAAG;gBACV,QAAQ;gBACR,WAAU;;;;;;;;;;;IAIlB;IAEA,4BAA4B,GAC5B,IAAI,MAAM,IAAI,KAAK,QAAQ;QACzB,MAAM,IAAI;QACV,qBACE,6LAAC;YACC,SAAS;YACT,WAAU;;8BAEV,6LAAC;oBAAE,WAAU;8BAAyB,EAAE,QAAQ;;;;;;gBAE/C,CAAC,EAAE,OAAO,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,kBACtB,6LAAC;wBAEC,WAAU;;0CAEV,6LAAC;gCACC,MAAK;gCACL,MAAM,EAAE,EAAE;gCACV,SAAS,CAAC,IAAM,EAAE,eAAe;;;;;;0CAEnC,6LAAC;0CAAM,EAAE,KAAK;;;;;;;uBART,EAAE,EAAE;;;;;;;;;;;IAanB;IAEA,mCAAmC,GACnC,IAAI,MAAM,IAAI,KAAK,eAAe;QAChC,MAAM,IAAI;QACV,MAAM,QAAQ,EAAE,KAAK,IAAI,CAAC;QAE1B,iBAAiB,GACjB,MAAM,WAAgC;YACpC,SAAS,MAAM,OAAO,IAAI;YAC1B,cACE,MAAM,MAAM,IACZ,CAAC,EAAE,OAAO,KAAK,WAAW,UAAU,MAAM;YAC5C,YACE,MAAM,UAAU,IAChB,CAAC,EAAE,OAAO,KAAK,WACX,YACA,EAAE,OAAO,KAAK,YACd,YACA,SAAS;YACf,WAAW,MAAM,MAAM,GAAG,gCAAgC;YAC1D,QAAQ;QACV;QAEA,oBAAoB,GACpB,IAAI,EAAE,OAAO,KAAK,UAAU;YAC1B,qBACE,6LAAC;gBACC,SAAS;gBACT,OAAO;gBACP,WAAU;0BAET,EAAE,KAAK,IAAI;;;;;;QAGlB;QAEA,qBAAqB,GACrB,IAAI,EAAE,OAAO,KAAK,WAAW;YAC3B,qBACE,6LAAC;gBAAI,SAAS;gBAAQ,OAAO;;oBAC1B,EAAE,KAAK,kBAAI,6LAAC;wBAAE,WAAU;kCAAiB,EAAE,KAAK;;;;;;oBAChD,EAAE,QAAQ,iBACT,6LAAC;wBACC,yBAAyB;4BAAE,QAAQ,EAAE,QAAQ;wBAAC;wBAC9C,WAAU;;;;;6CAGZ,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;QAIlD;QAEA,oBAAoB,GACpB,IAAI,EAAE,OAAO,KAAK,UAAU;YAC1B,qBACE,6LAAC;gBACC,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB;gBACF;gBACA,MAAM,EAAE,aAAa;gBACrB,OAAO;;kCAEP,6LAAC;kCAAS,EAAE,KAAK,IAAI;;;;;;kCACrB,6LAAC;wBACC,WAAU;wBACV,yBAAyB;4BACvB,QACE,EAAE,QAAQ,IAAI;wBAClB;;;;;;;;;;;;QAIR;QAEA,oBAAoB,GACpB,IAAI,EAAE,OAAO,KAAK,UAAU;YAC1B,qBACE,6LAAC;gBACC,SAAS;gBACT,OAAO;gBACP,yBAAyB;oBACvB,QACE,EAAE,UAAU,IACZ;gBACJ;;;;;;QAGN;IACF;IAEA,+BAA+B,GAC/B,qBACE,6LAAC;QAAI,SAAS;QAAQ,WAAU;kBAA6B;;;;;;AAIjE;KAhMgB"}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/ui/separator.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Separator = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(\r\n  (\r\n    {\r\n      className,\r\n      orientation = \"horizontal\",\r\n      decorative = true,\r\n      ...props\r\n    },\r\n    ref,\r\n  ) => (\r\n    <div\r\n      ref={ref}\r\n      role={decorative ? \"none\" : undefined}\r\n      aria-orientation={orientation}\r\n      className={cn(\r\n        \"shrink-0 bg-border\",\r\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  ),\r\n)\r\nSeparator.displayName = \"Separator\"\r\n\r\nexport { Separator }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,0BAAY,2KAAgB,MAIhC,CACE,EACE,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACJ,EACD,oBAEA,6LAAC;QACC,KAAK;QACL,MAAM,aAAa,SAAS;QAC5B,oBAAkB;QAClB,WAAW,IAAA,qHAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG"}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/scorm/panels/text-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { TextBlock } from \"@/lib/scorm/types\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\n\r\ninterface Props {\r\n  block: TextBlock\r\n  onChange: (updated: TextBlock) => void\r\n}\r\n\r\nexport default function TextPanel({ block, onChange }: Props) {\r\n  const style = block.style || {}\r\n  const { t } = useLocale()\r\n\r\n  const updateStyle = (key: string, value: any) => {\r\n    onChange({\r\n      ...block,\r\n      style: {\r\n        ...style,\r\n        [key]: value,\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-4 text-sm\">\r\n      {/* Title */}\r\n      <p className=\"font-semibold text-slate-700\">\r\n        {t(\"scorm.panels.text.title\") || \"Text Settings\"}\r\n      </p>\r\n\r\n      {/* TEXT CONTENT */}\r\n      <div>\r\n        <label className=\"block mb-1 text-xs\">\r\n          {t(\"scorm.panels.text.content\") || \"Content\"}\r\n        </label>\r\n        <textarea\r\n          className=\"w-full border rounded px-2 py-2 h-32 text-xs\"\r\n          value={block.html}\r\n          onChange={(e) =>\r\n            onChange({\r\n              ...block,\r\n              html: e.target.value,\r\n            })\r\n          }\r\n        />\r\n      </div>\r\n\r\n      {/* FONT OPTIONS */}\r\n      <div className=\"space-y-2\">\r\n        <p className=\"text-xs font-semibold text-slate-600\">\r\n          {t(\"scorm.panels.text.typography\") || \"Typography\"}\r\n        </p>\r\n\r\n        <div className=\"flex items-center gap-2 flex-wrap\">\r\n          <button\r\n            type=\"button\"\r\n            className={\r\n              \"px-2 py-1 rounded border text-xs font-bold \" +\r\n              (style.bold ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n            }\r\n            onClick={() => updateStyle(\"bold\", !style.bold)}\r\n          >\r\n            B\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className={\r\n              \"px-2 py-1 rounded border text-xs italic \" +\r\n              (style.italic ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n            }\r\n            onClick={() => updateStyle(\"italic\", !style.italic)}\r\n          >\r\n            I\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className={\r\n              \"px-2 py-1 rounded border text-xs underline \" +\r\n              (style.underline ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n            }\r\n            onClick={() => updateStyle(\"underline\", !style.underline)}\r\n          >\r\n            U\r\n          </button>\r\n\r\n          <select\r\n            className=\"border rounded px-2 py-1 text-xs\"\r\n            value={style.size || \"16px\"}\r\n            onChange={(e) => updateStyle(\"size\", e.target.value)}\r\n          >\r\n            <option value=\"14px\">14</option>\r\n            <option value=\"16px\">16</option>\r\n            <option value=\"18px\">18</option>\r\n            <option value=\"20px\">20</option>\r\n            <option value=\"24px\">24</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ALIGNMENT */}\r\n      <div>\r\n        <p className=\"text-xs font-semibold mb-1\">\r\n          {t(\"scorm.panels.text.alignment\") || \"Alignment\"}\r\n        </p>\r\n        <div className=\"flex gap-2\">\r\n          {[\"left\", \"center\", \"right\", \"justify\"].map((a) => (\r\n            <button\r\n              type=\"button\"\r\n              key={a}\r\n              className={\r\n                \"px-2 py-1 rounded border text-xs capitalize \" +\r\n                (style.align === a ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n              }\r\n              onClick={() => updateStyle(\"align\", a)}\r\n            >\r\n              {a}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* DIRECTION */}\r\n      <div>\r\n        <p className=\"text-xs font-semibold mb-1\">\r\n          {t(\"scorm.panels.text.direction\") || \"Direction\"}\r\n        </p>\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            type=\"button\"\r\n            className={\r\n              \"px-3 py-1 rounded border text-xs \" +\r\n              (style.direction === \"ltr\" ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n            }\r\n            onClick={() => updateStyle(\"direction\", \"ltr\")}\r\n          >\r\n            LTR\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className={\r\n              \"px-3 py-1 rounded border text-xs \" +\r\n              (style.direction === \"rtl\" ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n            }\r\n            onClick={() => updateStyle(\"direction\", \"rtl\")}\r\n          >\r\n            RTL\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* COLORS */}\r\n      <div className=\"flex gap-4 items-center\">\r\n        <div>\r\n          <p className=\"text-xs mb-1\">\r\n            {t(\"scorm.panels.text.textColor\") || \"Text Color\"}\r\n          </p>\r\n          <input\r\n            type=\"color\"\r\n            value={style.color || \"#000000\"}\r\n            onChange={(e) => updateStyle(\"color\", e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <p className=\"text-xs mb-1\">\r\n            {t(\"scorm.panels.text.background\") || \"Background\"}\r\n          </p>\r\n          <input\r\n            type=\"color\"\r\n            value={style.background || \"#ffffff\"}\r\n            onChange={(e) => updateStyle(\"background\", e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* SPACING */}\r\n      <div className=\"space-y-2\">\r\n        <p className=\"text-xs font-semibold\">\r\n          {t(\"scorm.panels.text.spacing\") || \"Spacing\"}\r\n        </p>\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.text.padding\") || \"Padding\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.padding || 8)}\r\n          onChange={(e) => updateStyle(\"padding\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.text.radius\") || \"Border Radius\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.radius || 0)}\r\n          onChange={(e) => updateStyle(\"radius\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.text.lineHeight\") || \"Line Height\"}\r\n        </label>\r\n        <select\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={style.lineHeight || \"1.6\"}\r\n          onChange={(e) => updateStyle(\"lineHeight\", e.target.value)}\r\n        >\r\n          <option value=\"1.2\">1.2</option>\r\n          <option value=\"1.4\">1.4</option>\r\n          <option value=\"1.6\">1.6</option>\r\n          <option value=\"1.8\">1.8</option>\r\n          <option value=\"2.0\">2.0</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 828, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/scorm/panels/media-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { ImageBlock } from \"@/lib/scorm/types\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\n\r\ninterface Props {\r\n  block: ImageBlock\r\n  onChange: (updated: ImageBlock) => void\r\n}\r\n\r\nexport default function MediaPanel({ block, onChange }: Props) {\r\n  const style = block.style || {}\r\n  const { t } = useLocale()\r\n\r\n  const updateStyle = (key: string, value: any) => {\r\n    onChange({\r\n      ...block,\r\n      style: {\r\n        ...style,\r\n        [key]: value,\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-4 text-sm\">\r\n      {/* Title */}\r\n      <p className=\"font-semibold text-slate-700\">\r\n        {t(\"scorm.panels.media.title\") || \"Image Settings\"}\r\n      </p>\r\n\r\n      {/* IMAGE URL */}\r\n      <div>\r\n        <label className=\"block mb-1 text-xs\">\r\n          {t(\"scorm.panels.media.url\") || \"Image URL\"}\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={block.src}\r\n          onChange={(e) => onChange({ ...block, src: e.target.value })}\r\n        />\r\n      </div>\r\n\r\n      {/* ALT TEXT */}\r\n      <div>\r\n        <label className=\"block mb-1 text-xs\">\r\n          {t(\"scorm.panels.media.alt\") || \"Alt Text\"}\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={block.alt || \"\"}\r\n          onChange={(e) => onChange({ ...block, alt: e.target.value })}\r\n        />\r\n      </div>\r\n\r\n      {/* SIZE */}\r\n      <div>\r\n        <p className=\"text-xs font-semibold mb-1\">\r\n          {t(\"scorm.panels.media.size\") || \"Size\"}\r\n        </p>\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.media.width\") || \"Width (%)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.width || \"100\")}\r\n          min={10}\r\n          max={100}\r\n          onChange={(e) => updateStyle(\"width\", `${e.target.value}%`)}\r\n        />\r\n\r\n        <label className=\"text-xs mt-2\">\r\n          {t(\"scorm.panels.media.maxWidth\") || \"Max Width (px)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.maxWidth || \"800\")}\r\n          onChange={(e) => updateStyle(\"maxWidth\", `${e.target.value}px`)}\r\n        />\r\n      </div>\r\n\r\n      {/* ALIGNMENT */}\r\n      <div>\r\n        <p className=\"text-xs font-semibold mb-1\">\r\n          {t(\"scorm.panels.media.alignment\") || \"Alignment\"}\r\n        </p>\r\n        <div className=\"flex gap-2\">\r\n          {[\"left\", \"center\", \"right\"].map((a) => (\r\n            <button\r\n              type=\"button\"\r\n              key={a}\r\n              className={\r\n                \"px-3 py-1 rounded border text-xs capitalize \" +\r\n                (style.align === a ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n              }\r\n              onClick={() => updateStyle(\"align\", a)}\r\n            >\r\n              {a}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* APPEARANCE */}\r\n      <div>\r\n        <p className=\"text-xs font-semibold mb-1\">\r\n          {t(\"scorm.panels.media.appearance\") || \"Appearance\"}\r\n        </p>\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.media.radius\") || \"Border Radius (px)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.radius || \"0\")}\r\n          onChange={(e) => updateStyle(\"radius\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs mt-2\">\r\n          {t(\"scorm.panels.media.padding\") || \"Padding (px)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.padding || \"0\")}\r\n          onChange={(e) => updateStyle(\"padding\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs mt-3\">\r\n          {t(\"scorm.panels.media.background\") || \"Background Color\"}\r\n        </label>\r\n        <input\r\n          type=\"color\"\r\n          className=\"w-full h-8 border rounded\"\r\n          value={style.background || \"#ffffff\"}\r\n          onChange={(e) => updateStyle(\"background\", e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {/* SHADOW */}\r\n      <div className=\"flex items-center gap-2\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={style.shadow === true}\r\n          onChange={(e) => updateStyle(\"shadow\", e.target.checked)}\r\n        />\r\n        <label className=\"text-xs\">Shadow</label>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/scorm/panels/video-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { VideoBlock } from \"@/lib/scorm/types\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\n\r\ninterface VideoPanelProps {\r\n  block: VideoBlock\r\n  onChange: (updated: VideoBlock) => void\r\n}\r\n\r\nexport default function VideoPanel({ block, onChange }: VideoPanelProps) {\r\n  const style = block.style || {}\r\n  const { t } = useLocale()\r\n\r\n  const updateStyle = (key: string, value: any) => {\r\n    onChange({\r\n      ...block,\r\n      style: {\r\n        ...style,\r\n        [key]: value,\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-4 text-sm\">\r\n      <p className=\"font-semibold text-slate-700\">\r\n        {t(\"scorm.panels.video.title\") || \"Video Settings\"}\r\n      </p>\r\n\r\n      {/* VIDEO URL */}\r\n      <div>\r\n        <label className=\"block mb-1 text-xs\">\r\n          {t(\"scorm.panels.video.url\") || \"Video URL\"}\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={block.src}\r\n          onChange={(e) => onChange({ ...block, src: e.target.value })}\r\n        />\r\n      </div>\r\n\r\n      {/* PLAYER BEHAVIOR */}\r\n      <div>\r\n        <p className=\"text-xs font-semibold mb-1\">\r\n          {t(\"scorm.panels.video.player\") || \"Playback\"}\r\n        </p>\r\n        <div className=\"space-y-1 text-xs\">\r\n          <label className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={style.autoplay === true}\r\n              onChange={(e) => updateStyle(\"autoplay\", e.target.checked)}\r\n            />\r\n            <span>{t(\"scorm.panels.video.autoplay\") || \"Autoplay\"}</span>\r\n          </label>\r\n\r\n          <label className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={style.controls !== false}\r\n              onChange={(e) => updateStyle(\"controls\", e.target.checked)}\r\n            />\r\n            <span>{t(\"scorm.panels.video.controls\") || \"Show controls\"}</span>\r\n          </label>\r\n\r\n          <label className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={style.loop === true}\r\n              onChange={(e) => updateStyle(\"loop\", e.target.checked)}\r\n            />\r\n            <span>{t(\"scorm.panels.video.loop\") || \"Loop video\"}</span>\r\n          </label>\r\n\r\n          <label className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={style.muted === true}\r\n              onChange={(e) => updateStyle(\"muted\", e.target.checked)}\r\n            />\r\n            <span>{t(\"scorm.panels.video.muted\") || \"Muted\"}</span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      {/* SIZE */}\r\n      <div>\r\n        <p className=\"text-xs font-semibold mb-1\">\r\n          {t(\"scorm.panels.video.size\") || \"Size\"}\r\n        </p>\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.video.width\") || \"Width (%)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.width || \"100\")}\r\n          min={10}\r\n          max={100}\r\n          onChange={(e) => updateStyle(\"width\", `${e.target.value}%`)}\r\n        />\r\n\r\n        <label className=\"text-xs mt-2\">\r\n          {t(\"scorm.panels.video.maxWidth\") || \"Max Width (px)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.maxWidth || \"800\")}\r\n          onChange={(e) => updateStyle(\"maxWidth\", `${e.target.value}px`)}\r\n        />\r\n      </div>\r\n\r\n      {/* APPEARANCE */}\r\n      <div>\r\n        <p className=\"text-xs font-semibold mb-1\">\r\n          {t(\"scorm.panels.video.appearance\") || \"Appearance\"}\r\n        </p>\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.video.radius\") || \"Border Radius (px)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.radius || \"0\")}\r\n          onChange={(e) => updateStyle(\"radius\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs mt-2\">\r\n          {t(\"scorm.panels.video.padding\") || \"Padding (px)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.padding || \"0\")}\r\n          onChange={(e) => updateStyle(\"padding\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs mt-2\">\r\n          {t(\"scorm.panels.video.background\") || \"Background Color\"}\r\n        </label>\r\n        <input\r\n          type=\"color\"\r\n          className=\"w-full h-8 border rounded\"\r\n          value={style.background || \"#ffffff\"}\r\n          onChange={(e) => updateStyle(\"background\", e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {/* SHADOW */}\r\n      <div className=\"flex items-center gap-2\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={style.shadow === true}\r\n          onChange={(e) => updateStyle(\"shadow\", e.target.checked)}\r\n        />\r\n        <span className=\"text-xs\">{t(\"scorm.panels.video.shadow\") || \"Shadow\"}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1489, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/scorm/panels/interactive-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { InteractiveBlock, InteractiveVariant } from \"@/lib/scorm/types\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\n\r\ninterface InteractivePanelProps {\r\n  block: InteractiveBlock\r\n  onChange: (updated: InteractiveBlock) => void\r\n}\r\n\r\nexport default function InteractivePanel({ block, onChange }: InteractivePanelProps) {\r\n  const style = block.style || {}\r\n  const { t } = useLocale()\r\n\r\n  const updateBlock = (partial: Partial<InteractiveBlock>) => {\r\n    onChange({\r\n      ...block,\r\n      ...partial,\r\n    })\r\n  }\r\n\r\n  const updateStyle = (key: string, value: any) => {\r\n    onChange({\r\n      ...block,\r\n      style: {\r\n        ...style,\r\n        [key]: value,\r\n      },\r\n    })\r\n  }\r\n\r\n  const handleVariantChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const variant = e.target.value as InteractiveVariant\r\n    updateBlock({ variant })\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-4 text-sm\">\r\n      <p className=\"font-semibold text-slate-700\">\r\n        {t(\"scorm.panels.interactive.title\") || \"Interactive element\"}\r\n      </p>\r\n\r\n      {/* TYPE SELECT */}\r\n      <div>\r\n        <label className=\"block mb-1 text-xs\">\r\n          {t(\"scorm.panels.interactive.type\") || \"Type\"}\r\n        </label>\r\n        <select\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={block.variant}\r\n          onChange={handleVariantChange}\r\n        >\r\n          <option value=\"button\">{t(\"scorm.panels.interactive.button\") || \"Button\"}</option>\r\n          <option value=\"callout\">{t(\"scorm.panels.interactive.callout\") || \"Callout box\"}</option>\r\n          <option value=\"reveal\">{t(\"scorm.panels.interactive.reveal\") || \"Reveal box\"}</option>\r\n          <option value=\"custom\">{t(\"scorm.panels.interactive.custom\") || \"Custom HTML\"}</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/* SHARED LABEL */}\r\n      {block.variant !== \"custom\" && (\r\n        <div>\r\n          <label className=\"block mb-1 text-xs\">\r\n            {block.variant === \"button\"\r\n              ? t(\"scorm.panels.interactive.buttonText\") || \"Button text\"\r\n              : block.variant === \"reveal\"\r\n                ? t(\"scorm.panels.interactive.revealTitle\") || \"Title (what learner clicks)\"\r\n                : t(\"scorm.panels.interactive.titleField\") || \"Title\"}\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"w-full border rounded px-2 py-1 text-xs\"\r\n            value={block.label}\r\n            onChange={(e) => updateBlock({ label: e.target.value })}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* BUTTON SETTINGS */}\r\n      {block.variant === \"button\" && (\r\n        <div>\r\n          <label className=\"block mb-1 text-xs\">\r\n            {t(\"scorm.panels.interactive.link\") || \"Link (optional)\"}\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"w-full border rounded px-2 py-1 text-xs\"\r\n            placeholder=\"https://...\"\r\n            value={block.url || \"\"}\r\n            onChange={(e) => updateBlock({ url: e.target.value })}\r\n          />\r\n          <p className=\"text-[11px] text-slate-400 mt-1\">\r\n            {t(\"scorm.panels.interactive.linkHelp\") ||\r\n              \"If you leave this empty, the button will only look clickable and not open anything.\"}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* CALLOUT SETTINGS */}\r\n      {block.variant === \"callout\" && (\r\n        <div>\r\n          <label className=\"block mb-1 text-xs\">\r\n            {t(\"scorm.panels.interactive.calloutContent\") || \"Callout content\"}\r\n          </label>\r\n          <textarea\r\n            className=\"w-full border rounded px-2 py-2 text-xs h-24\"\r\n            value={block.bodyHtml || \"\"}\r\n            onChange={(e) => updateBlock({ bodyHtml: e.target.value })}\r\n          />\r\n          <label className=\"block mb-1 mt-2 text-xs\">\r\n            {t(\"scorm.panels.interactive.tone\") || \"Tone\"}\r\n          </label>\r\n          <select\r\n            className=\"w-full border rounded px-2 py-1 text-xs\"\r\n            value={block.tone || \"info\"}\r\n            onChange={(e) =>\r\n              updateBlock({ tone: e.target.value as InteractiveBlock[\"tone\"] })\r\n            }\r\n          >\r\n            <option value=\"info\">{t(\"scorm.panels.interactive.tones.info\") || \"Info\"}</option>\r\n            <option value=\"success\">{t(\"scorm.panels.interactive.tones.success\") || \"Success\"}</option>\r\n            <option value=\"warning\">{t(\"scorm.panels.interactive.tones.warning\") || \"Warning\"}</option>\r\n            <option value=\"danger\">{t(\"scorm.panels.interactive.tones.danger\") || \"Danger\"}</option>\r\n          </select>\r\n        </div>\r\n      )}\r\n\r\n      {/* REVEAL SETTINGS */}\r\n      {block.variant === \"reveal\" && (\r\n        <div className=\"space-y-2\">\r\n          <label className=\"block mb-1 text-xs\">\r\n            {t(\"scorm.panels.interactive.revealTitle\") || \"Title (clickable text)\"}\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"w-full border rounded px-2 py-1 text-xs\"\r\n            value={block.label}\r\n            onChange={(e) => updateBlock({ label: e.target.value })}\r\n          />\r\n\r\n          <label className=\"block mb-1 text-xs\">\r\n            {t(\"scorm.panels.interactive.revealHidden\") ||\r\n              \"Hidden content (shown after learner clicks)\"}\r\n          </label>\r\n          <textarea\r\n            className=\"w-full border rounded px-2 py-2 text-xs h-24\"\r\n            value={block.bodyHtml || \"\"}\r\n            onChange={(e) => updateBlock({ bodyHtml: e.target.value })}\r\n          />\r\n          <label className=\"inline-flex items-center gap-2 text-xs mt-1\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={block.initiallyOpen === true}\r\n              onChange={(e) => updateBlock({ initiallyOpen: e.target.checked })}\r\n            />\r\n            <span>{t(\"scorm.panels.interactive.open\") || \"Open by default\"}</span>\r\n          </label>\r\n        </div>\r\n      )}\r\n\r\n      {/* CUSTOM HTML SETTINGS */}\r\n      {block.variant === \"custom\" && (\r\n        <div className=\"space-y-1\">\r\n          <label className=\"block mb-1 text-xs\">\r\n            {t(\"scorm.panels.interactive.customHtml\") || \"Custom HTML\"}\r\n          </label>\r\n          <textarea\r\n            className=\"w-full border rounded px-2 py-2 text-xs h-32 font-mono\"\r\n            placeholder={`<div class=\"my-widget\">\\n  <!-- Your HTML here -->\\n</div>`}\r\n            value={block.customHtml || \"\"}\r\n            onChange={(e) => updateBlock({ customHtml: e.target.value })}\r\n          />\r\n          <p className=\"text-[11px] text-slate-400\">\r\n            {t(\"scorm.panels.interactive.customHelp\") ||\r\n              \"For advanced users. Avoid using <script> tags. You can embed iframes, H5P, simple widgets, etc.\"}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* APPEARANCE */}\r\n      <div className=\"space-y-2\">\r\n        <p className=\"text-xs font-semibold\">\r\n          {t(\"scorm.panels.interactive.appearance\") || \"Appearance\"}\r\n        </p>\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.interactive.padding\") || \"Padding (px)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.padding || \"8\")}\r\n          onChange={(e) => updateStyle(\"padding\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.interactive.radius\") || \"Border radius (px)\"}\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.radius || (block.variant === \"button\" ? \"999\" : \"10\"))}\r\n          onChange={(e) => updateStyle(\"radius\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs\">\r\n          {t(\"scorm.panels.interactive.background\") || \"Background color\"}\r\n        </label>\r\n        <input\r\n          type=\"color\"\r\n          className=\"w-full h-8 border rounded\"\r\n          value={\r\n            style.background ||\r\n            (block.variant === \"button\"\r\n              ? \"#0ea5e9\"\r\n              : block.variant === \"custom\"\r\n                ? \"#ffffff\"\r\n                : \"#eef2ff\")\r\n          }\r\n          onChange={(e) => updateStyle(\"background\", e.target.value)}\r\n        />\r\n\r\n        <div className=\"flex items-center gap-2 mt-1\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={style.shadow === true}\r\n            onChange={(e) => updateStyle(\"shadow\", e.target.checked)}\r\n          />\r\n          <span className=\"text-xs\">{t(\"scorm.panels.interactive.shadow\") || \"Shadow\"}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1970, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/scorm/panels/project-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { EditorProject, ExportFormat, SCORMVersion } from \"@/lib/scorm/types\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\nimport { Button } from \"@/components/ui/button\"\r\n\r\ninterface ProjectPanelProps {\r\n  project: EditorProject\r\n  onChange: (updated: EditorProject) => void\r\n  onExport?: (format: ExportFormat | SCORMVersion) => void\r\n}\r\n\r\nexport default function ProjectPanel({\r\n  project,\r\n  onChange,\r\n  onExport,\r\n}: ProjectPanelProps) {\r\n  const { t } = useLocale()\r\n\r\n  const updateProject = (partial: Partial<EditorProject>) => {\r\n    onChange({\r\n      ...project,\r\n      ...partial,\r\n    })\r\n  }\r\n\r\n  const exportDisabled = !onExport\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"px-4 pt-4 pb-3\">\r\n        <div className=\"flex items-center justify-between gap-2\">\r\n          <div className=\"space-y-1\">\r\n            <h3 className=\"text-sm font-semibold leading-none\">\r\n              {t(\"scorm.projectPanel.title\") || \"Project Settings\"}\r\n            </h3>\r\n            <p className=\"text-[11px] text-muted-foreground\">\r\n              {t(\"scorm.projectPanel.subtitle\") ||\r\n                \"Manage overall course settings.\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex-1 overflow-y-auto px-4 pb-3 text-xs space-y-4\">\r\n        {/* General Settings */}\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\r\n            {t(\"scorm.projectPanel.generalSettings\") || \"General\"}\r\n          </h4>\r\n          <div>\r\n            <label className=\"block mb-1 text-xs font-medium\">\r\n              {t(\"scorm.projectPanel.projectTitle\") || \"Project Title\"}\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"w-full border rounded px-2 py-1 text-xs\"\r\n              value={project.title}\r\n              onChange={(e) => updateProject({ title: e.target.value })}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block mb-1 text-xs font-medium\">\r\n              {t(\"scorm.props.project.direction.title\") || \"Text Direction\"}\r\n            </label>\r\n            <select\r\n              className=\"w-full border rounded px-2 py-1 text-xs\"\r\n              value={project.theme.direction}\r\n              onChange={(e) =>\r\n                updateProject({\r\n                  theme: {\r\n                    ...project.theme,\r\n                    direction: e.target.value as \"ltr\" | \"rtl\",\r\n                  },\r\n                })\r\n              }\r\n            >\r\n              <option value=\"ltr\">\r\n                {t(\"scorm.props.project.direction.ltr\") || \"Left-to-Right\"}\r\n              </option>\r\n              <option value=\"rtl\">\r\n                {t(\"scorm.props.project.direction.rtl\") || \"Right-to-Left\"}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Default Styles */}\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\r\n            {t(\"scorm.props.project.styles.title\") || \"Default Styles\"}\r\n          </h4>\r\n          <div>\r\n            <label className=\"block mb-1 text-xs font-medium\">\r\n              {t(\"scorm.props.project.styles.textColor\")}\r\n            </label>\r\n            <input\r\n              type=\"color\"\r\n              className=\"w-full\"\r\n              value={project.theme.styles.color || \"#000000\"}\r\n              onChange={(e) =>\r\n                updateProject({\r\n                  theme: {\r\n                    ...project.theme,\r\n                    styles: {\r\n                      ...project.theme.styles,\r\n                      color: e.target.value,\r\n                    },\r\n                  },\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* General Tracking */}\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\r\n            {t(\"scorm.projectPanel.generalTracking\")}\r\n          </h4>\r\n          <div className=\"flex items-center gap-4\">\r\n            <label className=\"flex items-center space-x-2 text-xs\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"trackingLevel\"\r\n                value=\"minimal\"\r\n                checked={project.tracking?.level === \"minimal\"}\r\n                onChange={() =>\r\n                  updateProject({\r\n                    tracking: { ...project.tracking, level: \"minimal\" },\r\n                  })\r\n                }\r\n                className=\"form-radio h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.minimal\")}</span>\r\n            </label>\r\n            <label className=\"flex items-center space-x-2 text-xs\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"trackingLevel\"\r\n                value=\"standard\"\r\n                checked={project.tracking?.level === \"standard\"}\r\n                onChange={() =>\r\n                  updateProject({\r\n                    tracking: { ...project.tracking, level: \"standard\" },\r\n                  })\r\n                }\r\n                className=\"form-radio h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.standard\")}</span>\r\n            </label>\r\n            <label className=\"flex items-center space-x-2 text-xs\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"trackingLevel\"\r\n                value=\"advanced\"\r\n                checked={project.tracking?.level === \"advanced\"}\r\n                onChange={() =>\r\n                  updateProject({\r\n                    tracking: { ...project.tracking, level: \"advanced\" },\r\n                  })\r\n                }\r\n                className=\"form-radio h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.advanced\")}</span>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Advanced Options */}\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\r\n            {t(\"scorm.projectPanel.advancedOptions\")}\r\n          </h4>\r\n          <div className=\"grid grid-cols-2 gap-2 text-xs\">\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={project.tracking?.pageViews}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    tracking: {\r\n                      ...project.tracking,\r\n                      pageViews: e.target.checked,\r\n                    },\r\n                  })\r\n                }\r\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.pageViews\")}</span>\r\n            </label>\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={project.tracking?.quizInteractions}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    tracking: {\r\n                      ...project.tracking,\r\n                      quizInteractions: e.target.checked,\r\n                    },\r\n                  })\r\n                }\r\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.quizInteractions\")}</span>\r\n            </label>\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={project.tracking?.media}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    tracking: {\r\n                      ...project.tracking,\r\n                      media: e.target.checked,\r\n                    },\r\n                  })\r\n                }\r\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.media\")}</span>\r\n            </label>\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={project.tracking?.hints}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    tracking: {\r\n                      ...project.tracking,\r\n                      hints: e.target.checked,\r\n                    },\r\n                  })\r\n                }\r\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.hints\")}</span>\r\n            </label>\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={project.tracking?.externalLinks}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    tracking: {\r\n                      ...project.tracking,\r\n                      externalLinks: e.target.checked,\r\n                    },\r\n                  })\r\n                }\r\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.externalLinks\")}</span>\r\n            </label>\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={project.tracking?.timePerPage}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    tracking: {\r\n                      ...project.tracking,\r\n                      timePerPage: e.target.checked,\r\n                    },\r\n                  })\r\n                }\r\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.timePerPage\")}</span>\r\n            </label>\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={project.tracking?.attempts}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    tracking: {\r\n                      ...project.tracking,\r\n                      attempts: e.target.checked,\r\n                    },\r\n                  })\r\n                }\r\n                className=\"form-checkbox h-3 w-3 text-blue-600\"\r\n              />\r\n              <span>{t(\"scorm.projectPanel.tracking.attempts\")}</span>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        {/* xAPI Only Options */}\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\r\n            {t(\"scorm.projectPanel.xapiOptions\")}\r\n          </h4>\r\n          <div className=\"space-y-2\">\r\n            <div>\r\n              <label className=\"block mb-1 text-xs font-medium\">\r\n                {t(\"scorm.projectPanel.xapi.lrsEndpoint\")}\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"w-full border rounded px-2 py-1 text-xs\"\r\n                value={project.xapi?.lrsEndpoint || \"\"}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    xapi: {\r\n                      ...project.xapi,\r\n                      lrsEndpoint: e.target.value,\r\n                    },\r\n                  })\r\n                }\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block mb-1 text-xs font-medium\">\r\n                {t(\"scorm.projectPanel.xapi.authToken\")}\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"w-full border rounded px-2 py-1 text-xs\"\r\n                value={project.xapi?.authToken || \"\"}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    xapi: {\r\n                      ...project.xapi,\r\n                      authToken: e.target.value,\r\n                    },\r\n                  })\r\n                }\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block mb-1 text-xs font-medium\">\r\n                {t(\"scorm.projectPanel.xapi.activityIdFormat\")}\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"w-full border rounded px-2 py-1 text-xs\"\r\n                value={project.xapi?.activityIdFormat || \"\"}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    xapi: {\r\n                      ...project.xapi,\r\n                      activityIdFormat: e.target.value,\r\n                    },\r\n                  })\r\n                }\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block mb-1 text-xs font-medium\">\r\n                {t(\"scorm.projectPanel.xapi.statementExtensions\")}\r\n              </label>\r\n              <textarea\r\n                className=\"w-full border rounded px-2 py-1 text-xs\"\r\n                rows={3}\r\n                value={project.xapi?.statementExtensions || \"\"}\r\n                onChange={(e) =>\r\n                  updateProject({\r\n                    xapi: {\r\n                      ...project.xapi,\r\n                      statementExtensions: e.target.value,\r\n                    },\r\n                  })\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Export Panel */}\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-semibold text-slate-700 text-xs mt-2\">\r\n            {t(\"scorm.projectPanel.exportPanel\")}\r\n          </h4>\r\n          <div className=\"grid grid-cols-2 gap-2 text-xs\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"1.2\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.scorm12\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"2004\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.scorm2004\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"xapi\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.xapi\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"html5\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.html5\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"publicLink\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.publicLink\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"embedCode\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.embedCode\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"teacherPdf\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.teacherPdf\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"studentPdf\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.studentPdf\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"json\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.json\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"h-7\"\r\n              disabled={exportDisabled}\r\n              onClick={() => onExport?.(\"qti\")}\r\n            >\r\n              {t(\"scorm.projectPanel.export.qti\")}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2873, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/scorm/panels/page-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { EditorProject, EditorPage } from \"@/lib/scorm/types\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Plus, ArrowUp, ArrowDown, Trash2 } from \"lucide-react\"\r\n\r\ninterface PagePanelProps {\r\n  project: EditorProject\r\n  onChange: (updated: EditorProject) => void\r\n  onAddPage: () => void\r\n}\r\n\r\nexport default function PagePanel({ project, onChange, onAddPage }: PagePanelProps) {\r\n  const { t } = useLocale()\r\n\r\n  const handlePageTitleChange = (pageId: string, newTitle: string) => {\r\n    const updatedPages = project.pages.map((p) =>\r\n      p.id === pageId ? { ...p, title: newTitle } : p\r\n    )\r\n    onChange({ ...project, pages: updatedPages })\r\n  }\r\n\r\n  const handleMovePage = (pageId: string, direction: \"up\" | \"down\") => {\r\n    const index = project.pages.findIndex((p) => p.id === pageId)\r\n    if (index === -1) return\r\n\r\n    const newPages = [...project.pages]\r\n    const newIndex = direction === \"up\" ? index - 1 : index + 1\r\n\r\n    if (newIndex < 0 || newIndex >= newPages.length) return\r\n\r\n    const [movedPage] = newPages.splice(index, 1)\r\n    newPages.splice(newIndex, 0, movedPage)\r\n    onChange({ ...project, pages: newPages })\r\n  }\r\n\r\n  const handleDeletePage = (pageId: string) => {\r\n    if (project.pages.length <= 1) {\r\n      alert(t(\"scorm.projectPanel.deleteLastPageError\") || \"You cannot delete the last page.\")\r\n      return\r\n    }\r\n    if (window.confirm(t(\"scorm.projectPanel.deleteConfirm\") || \"Are you sure you want to delete this page?\")) {\r\n      const updatedPages = project.pages.filter((p) => p.id !== pageId)\r\n      onChange({ ...project, pages: updatedPages })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"px-4 pt-4 pb-3\">\r\n        <div className=\"flex items-center justify-between gap-2\">\r\n          <div className=\"space-y-1\">\r\n            <h3 className=\"text-sm font-semibold leading-none\">\r\n              {t('scorm.projectPanel.pageOrganization') || 'Page Organization'}\r\n            </h3>\r\n            <p className=\"text-[11px] text-muted-foreground\">\r\n              {t('scorm.pagePanel.subtitle') || 'Manage your course pages.'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex-1 overflow-y-auto px-4 pb-3 text-xs space-y-4\">\r\n        {/* Page Organization */}\r\n        <div className=\"space-y-2\">\r\n            <div className=\"flex items-center justify-between\">\r\n                 <h4 className=\"font-semibold text-slate-700 text-xs\">\r\n                    {t('scorm.projectPanel.pageOrganization') || 'Page Organization'}\r\n                </h4>\r\n                <Button size=\"sm\" variant=\"outline\" onClick={onAddPage} className=\"h-6 px-2 text-xs\">\r\n                    <Plus className=\"h-3 w-3 mr-1\" />\r\n                    {t('scorm.projectPanel.addPage') || 'Add Page'}\r\n                </Button>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n                {project.pages.map((page, index) => (\r\n                    <div key={page.id} className=\"flex items-center gap-2 p-2 rounded-md bg-slate-50 border border-slate-100\">\r\n                        <div className=\"flex-1\">\r\n                             <input\r\n                                type=\"text\"\r\n                                className=\"w-full border-transparent bg-transparent rounded px-1 py-0.5 text-xs focus:bg-white focus:border-slate-300\"\r\n                                value={page.title}\r\n                                onChange={(e) => handlePageTitleChange(page.id, e.target.value)}\r\n                                />\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1\">\r\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={() => handleMovePage(page.id, 'up')} disabled={index === 0}>\r\n                                <ArrowUp className=\"h-3 w-3\" />\r\n                            </Button>\r\n                             <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={() => handleMovePage(page.id, 'down')} disabled={index === project.pages.length - 1}>\r\n                                <ArrowDown className=\"h-3 w-3\" />\r\n                            </Button>\r\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6 text-red-500 hover:text-red-600\" onClick={() => handleDeletePage(page.id)} disabled={project.pages.length <= 1}>\r\n                                <Trash2 className=\"h-3 w-3\" />\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3144, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/scorm/panels/quiz-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { QuizBlock, TextBlock } from \"@/lib/scorm/types\"\r\nimport TextPanel from \"@/components/scorm/panels/text-panel\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\n\r\ninterface QuizPanelProps {\r\n  block: QuizBlock\r\n  onChange: (updated: QuizBlock) => void\r\n}\r\n\r\nexport default function QuizPanel({ block, onChange }: QuizPanelProps) {\r\n  const style = block.style || {}\r\n  const optionStyle = block.optionStyle || {}\r\n  const { t } = useLocale()\r\n\r\n  const updateStyle = (key: string, value: any) => {\r\n    onChange({\r\n      ...block,\r\n      style: {\r\n        ...style,\r\n        [key]: value,\r\n      },\r\n    })\r\n  }\r\n\r\n  const updateOptionStyle = (key: string, value: any) => {\r\n    onChange({\r\n      ...block,\r\n      optionStyle: {\r\n        ...optionStyle,\r\n        [key]: value,\r\n      },\r\n    })\r\n  }\r\n\r\n  //  Question as a fake TextBlock to reuse TextPanel\r\n  const questionTextBlock: TextBlock = {\r\n    id: `${block.id}-question`,\r\n    type: \"text\",\r\n    html: block.questionHtml ?? block.question ?? \"\",\r\n    style: block.questionStyle || {},\r\n  }\r\n\r\n  const handleQuestionChange = (updatedText: TextBlock) => {\r\n    onChange({\r\n      ...block,\r\n      question: updatedText.html,       // fallback\r\n      questionHtml: updatedText.html,   // rich html\r\n      questionStyle: updatedText.style, // style for question\r\n    })\r\n  }\r\n\r\n  const updateOptionLabel = (index: number, value: string) => {\r\n    const updated = [...(block.options || [])]\r\n    updated[index] = { ...updated[index], label: value }\r\n    onChange({ ...block, options: updated })\r\n  }\r\n\r\n  const toggleOptionCorrect = (index: number) => {\r\n    const updated = [...(block.options || [])]\r\n    updated[index] = { ...updated[index], correct: !updated[index].correct }\r\n    onChange({ ...block, options: updated })\r\n  }\r\n\r\n  const addOption = () => {\r\n    const newOption = {\r\n      id: `opt-${Date.now()}`,\r\n      label: `Option ${(block.options?.length || 0) + 1}`,\r\n      correct: false,\r\n    }\r\n    onChange({ ...block, options: [...(block.options || []), newOption] })\r\n  }\r\n\r\n  const removeOption = (index: number) => {\r\n    const updated = [...(block.options || [])]\r\n    updated.splice(index, 1)\r\n    onChange({ ...block, options: updated })\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-4 text-sm\">\r\n      <p className=\"font-semibold text-slate-700\">\r\n        {t(\"scorm.panels.quiz.title\") || \"Quiz Settings\"}\r\n      </p>\r\n\r\n      {/*  Question editor using TextPanel */}\r\n      <div className=\"border rounded-lg overflow-hidden\">\r\n        <div className=\"px-3 pt-2 pb-1 border-b bg-slate-50\">\r\n          <p className=\"text-xs font-semibold text-slate-700\">\r\n            {t(\"scorm.panels.quiz.question\") || \"Question text\"}\r\n          </p>\r\n          <p className=\"text-[11px] text-slate-500\">\r\n            {t(\"scorm.panels.quiz.questionHelp\") ||\r\n              \"Format the question like normal text (bold, RTL, colors)\"}\r\n          </p>\r\n        </div>\r\n        <TextPanel block={questionTextBlock} onChange={handleQuestionChange} />\r\n      </div>\r\n\r\n      {/* OPTIONS LIST */}\r\n      <div>\r\n        <div className=\"flex items-center justify-between mb-1\">\r\n          <p className=\"text-xs font-semibold\">\r\n            {t(\"scorm.panels.quiz.options\") || \"Options\"}\r\n          </p>\r\n          <button\r\n            type=\"button\"\r\n            className=\"text-xs px-2 py-1 rounded border border-slate-300 hover:bg-slate-50\"\r\n            onClick={addOption}\r\n          >\r\n            {t(\"scorm.panels.quiz.addOption\") || \"+ Add option\"}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"space-y-2 max-h-56 overflow-y-auto pr-1\">\r\n          {(block.options || []).length === 0 && (\r\n            <p className=\"text-[11px] text-slate-400\">\r\n              {t(\"scorm.panels.quiz.noOptions\") ||\r\n                \"No options yet. Click Add option to create choices.\"}\r\n            </p>\r\n          )}\r\n\r\n          {(block.options || []).map((opt, index) => (\r\n            <div\r\n              key={opt.id}\r\n              className=\"flex items-center gap-2 border rounded px-2 py-1 bg-slate-50\"\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={!!opt.correct}\r\n                onChange={() => toggleOptionCorrect(index)}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                className=\"flex-1 border rounded px-2 py-1 text-xs\"\r\n                value={opt.label}\r\n                onChange={(e) => updateOptionLabel(index, e.target.value)}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"text-[11px] text-red-500 hover:underline\"\r\n                onClick={() => removeOption(index)}\r\n              >\r\n                {t(\"scorm.panels.quiz.remove\") || \"Remove\"}\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <p className=\"text-[11px] text-slate-400 mt-1\">\r\n          {t(\"scorm.panels.quiz.correctHelp\") || \"You can mark one or more options as correct.\"}\r\n        </p>\r\n      </div>\r\n\r\n      {/* APPEARANCE (container) */}\r\n      <div className=\"space-y-2\">\r\n        <p className=\"text-xs font-semibold\">\r\n          {t(\"scorm.panels.quiz.boxAppearance\") || \"Question box appearance\"}\r\n        </p>\r\n\r\n        <label className=\"text-xs\">{t(\"scorm.panels.quiz.padding\") || \"Padding (px)\"}</label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.padding || \"12\")}\r\n          onChange={(e) => updateStyle(\"padding\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs\">{t(\"scorm.panels.quiz.radius\") || \"Border Radius (px)\"}</label>\r\n        <input\r\n          type=\"number\"\r\n          className=\"w-full border rounded px-2 py-1 text-xs\"\r\n          value={parseInt(style.radius || \"8\")}\r\n          onChange={(e) => updateStyle(\"radius\", `${e.target.value}px`)}\r\n        />\r\n\r\n        <label className=\"text-xs\">{t(\"scorm.panels.quiz.background\") || \"Background Color\"}</label>\r\n        <input\r\n          type=\"color\"\r\n          className=\"w-full h-8 border rounded\"\r\n          value={style.background || \"#f9fafb\"}\r\n          onChange={(e) => updateStyle(\"background\", e.target.value)}\r\n        />\r\n\r\n        <div className=\"flex items-center gap-2 mt-1\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={style.shadow === true}\r\n            onChange={(e) => updateStyle(\"shadow\", e.target.checked)}\r\n          />\r\n          <span className=\"text-xs\">{t(\"scorm.panels.quiz.shadow\") || \"Shadow\"}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* OPTION APPEARANCE */}\r\n      <div className=\"space-y-2\">\r\n        <p className=\"text-xs font-semibold\">\r\n          {t(\"scorm.panels.quiz.optionStyle\") || \"Options text style\"}\r\n        </p>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          {/* Bold */}\r\n          <button\r\n            type=\"button\"\r\n            className={\r\n              \"px-2 py-1 rounded border text-xs \" +\r\n              (optionStyle.bold ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n            }\r\n            onClick={() => updateOptionStyle(\"bold\", !optionStyle.bold)}\r\n          >\r\n            B\r\n          </button>\r\n\r\n          {/* Italic */}\r\n          <button\r\n            type=\"button\"\r\n            className={\r\n              \"px-2 py-1 rounded border text-xs italic \" +\r\n              (optionStyle.italic ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n            }\r\n            onClick={() => updateOptionStyle(\"italic\", !optionStyle.italic)}\r\n          >\r\n            I\r\n          </button>\r\n\r\n          {/* Underline */}\r\n          <button\r\n            type=\"button\"\r\n            className={\r\n              \"px-2 py-1 rounded border text-xs underline \" +\r\n              (optionStyle.underline ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n            }\r\n            onClick={() => updateOptionStyle(\"underline\", !optionStyle.underline)}\r\n          >\r\n            U\r\n          </button>\r\n\r\n          {/* Size */}\r\n          <select\r\n            className=\"border rounded px-2 py-1 text-xs\"\r\n            value={optionStyle.size || \"14px\"}\r\n            onChange={(e) => updateOptionStyle(\"size\", e.target.value)}\r\n          >\r\n            <option value=\"12px\">12</option>\r\n            <option value=\"14px\">14</option>\r\n            <option value=\"16px\">16</option>\r\n            <option value=\"18px\">18</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Align */}\r\n        <div>\r\n          <p className=\"text-[11px] mt-1 mb-1\">\r\n            {t(\"scorm.panels.quiz.align\") || \"Alignment\"}\r\n          </p>\r\n          <div className=\"flex gap-2\">\r\n            {[\"left\", \"center\", \"right\"].map((a) => (\r\n              <button\r\n                key={a}\r\n                type=\"button\"\r\n                className={\r\n                  \"px-3 py-1 rounded border text-xs capitalize \" +\r\n                  (optionStyle.align === a ? \"bg-sky-600 text-white\" : \"bg-white\")\r\n                }\r\n                onClick={() => updateOptionStyle(\"align\", a)}\r\n              >\r\n                {a}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Color */}\r\n        <div>\r\n          <p className=\"text-[11px] mt-1 mb-1\">\r\n            {t(\"scorm.panels.quiz.color\") || \"Text color\"}\r\n          </p>\r\n          <input\r\n            type=\"color\"\r\n            className=\"w-full h-8 border rounded\"\r\n            value={optionStyle.color || \"#111827\"}\r\n            onChange={(e) => updateOptionStyle(\"color\", e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3676, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/components/scorm/properties-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useState } from \"react\"\r\nimport {\r\n  EditorProject,\r\n  EditorBlock,\r\n  TextBlock,\r\n  ImageBlock,\r\n  VideoBlock,\r\n  QuizBlock,\r\n  InteractiveBlock,\r\n  SCORMVersion,\r\n  ExportFormat,\r\n} from \"@/lib/scorm/types\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\n\r\n// Panels\r\nimport TextPanel from \"@/components/scorm/panels/text-panel\"\r\nimport MediaPanel from \"@/components/scorm/panels/media-panel\"\r\nimport VideoPanel from \"@/components/scorm/panels/video-panel\"\r\nimport InteractivePanel from \"@/components/scorm/panels/interactive-panel\"\r\nimport ProjectPanel from \"@/components/scorm/panels/project-panel\"\r\nimport PagePanel from \"@/components/scorm/panels/page-panel\"\r\nimport QuizPanel from \"@/components/scorm/panels/quiz-panel\"\r\n\r\ninterface PropertiesPanelProps {\r\n  project: EditorProject\r\n  onProjectChange: (project: EditorProject) => void\r\n  selectedBlock: EditorBlock | null\r\n  onBlockChange: (block: EditorBlock) => void\r\n  panelType: \"block\" | \"project\"\r\n  onAddPage: () => void\r\n  onExport?: (format: ExportFormat | SCORMVersion) => void\r\n}\r\n\r\nexport function PropertiesPanel({\r\n  project,\r\n  onProjectChange,\r\n  selectedBlock,\r\n  onBlockChange,\r\n  panelType,\r\n  onAddPage,\r\n  onExport,\r\n}: PropertiesPanelProps) {\r\n  const { t } = useLocale()\r\n  const [activeTab, setActiveTab] = useState<\"project\" | \"page\">(\"project\")\r\n\r\n  if (panelType === \"project\") {\r\n    return (\r\n      <div className=\"h-full flex flex-col bg-white\">\r\n        <div className=\"p-2 bg-slate-50 border-b border-slate-200\">\r\n          <div className=\"flex w-full items-center gap-1 rounded-full bg-slate-200/80 p-1\">\r\n            <button\r\n              onClick={() => setActiveTab(\"project\")}\r\n              className={`w-full rounded-full py-1 text-xs font-semibold transition-colors ${\r\n                activeTab === \"project\"\r\n                  ? \"bg-white text-slate-800 shadow-sm\"\r\n                  : \"bg-transparent text-slate-500 hover:bg-white/50\"\r\n              }`}\r\n            >\r\n              {t(\"scorm.tabs.project\") || \"Project\"}\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab(\"page\")}\r\n              className={`w-full rounded-full py-1 text-xs font-semibold transition-colors ${\r\n                activeTab === \"page\"\r\n                  ? \"bg-white text-slate-800 shadow-sm\"\r\n                  : \"bg-transparent text-slate-500 hover:bg-white/50\"\r\n              }`}\r\n            >\r\n              {t(\"scorm.tabs.pages\") || \"Pages\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          {activeTab === \"project\" ? (\r\n            <ProjectPanel project={project} onChange={onProjectChange} onExport={onExport} />\r\n          ) : (\r\n            <PagePanel\r\n              project={project}\r\n              onChange={onProjectChange}\r\n              onAddPage={onAddPage}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // --- Empty state (for block panel) -----------------------------------------\r\n\r\n  if (!selectedBlock) {\r\n    return (\r\n      <div className=\"h-full flex flex-col items-center justify-center px-4 py-6 text-center\">\r\n        <div className=\"mb-3\">\r\n          <Badge variant=\"outline\" className=\"text-[11px] px-2 py-0 rounded-full\">\r\n            {t(\"scorm.props.title\") || \"Properties\"}\r\n          </Badge>\r\n        </div>\r\n        <p className=\"text-sm font-medium text-foreground mb-1\">\r\n          {t(\"scorm.props.emptyTitle\") || \"No block selected\"}\r\n        </p>\r\n        <p className=\"text-[11px] text-muted-foreground max-w-xs\">\r\n          {t(\"scorm.props.desc\") ||\r\n            \"Click on any element in the canvas to view and edit its properties here.\"}\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // --- Type labels ----------------------------------------------------------\r\n\r\n  const typeLabelMap: Record<EditorBlock[\"type\"], string> = {\r\n    text: t(\"scorm.props.block.text.label\") || \"Text block\",\r\n    image: t(\"scorm.props.block.image.label\") || \"Image block\",\r\n    video: t(\"scorm.props.block.video.label\") || \"Video block\",\r\n    quiz: t(\"scorm.props.block.quiz.label\") || \"Quiz block\",\r\n    interactive: t(\"scorm.props.block.interactive.label\") || \"Interactive block\",\r\n  }\r\n\r\n  // --- Render body by block type -------------------------------------------\r\n\r\n  const renderBody = () => {\r\n    switch (selectedBlock.type) {\r\n      case \"text\":\r\n        return (\r\n          <TextPanel\r\n            block={selectedBlock as TextBlock}\r\n            onChange={(updated) => onBlockChange(updated as EditorBlock)}\r\n          />\r\n        )\r\n\r\n      case \"image\":\r\n        return (\r\n          <MediaPanel\r\n            block={selectedBlock as ImageBlock}\r\n            onChange={(updated) => onBlockChange(updated as EditorBlock)}\r\n          />\r\n        )\r\n\r\n      case \"video\":\r\n        return (\r\n          <VideoPanel\r\n            block={selectedBlock as VideoBlock}\r\n            onChange={(updated) => onBlockChange(updated as EditorBlock)}\r\n          />\r\n        )\r\n\r\n      case \"quiz\":\r\n        return (\r\n          <QuizPanel\r\n            block={selectedBlock as QuizBlock}\r\n            onChange={(updated) => onBlockChange(updated as EditorBlock)}\r\n          />\r\n        )\r\n\r\n      case \"interactive\":\r\n        return (\r\n          <InteractivePanel\r\n            block={selectedBlock as InteractiveBlock}\r\n            onChange={(updated) => onBlockChange(updated as EditorBlock)}\r\n          />\r\n        )\r\n\r\n      default:\r\n        return (\r\n          <div className=\"p-4 text-[11px] text-muted-foreground\">\r\n            {t(\"scorm.props.unsupported\") ||\r\n              \"This block type does not expose editable properties yet.\"}\r\n          </div>\r\n        )\r\n    }\r\n  }\r\n\r\n  // --- Main layout ----------------------------------------------------------\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col bg-card/80\">\r\n      {/* Header */}\r\n      <div className=\"px-4 pt-4 pb-3\">\r\n        <div className=\"flex items-center justify-between gap-2\">\r\n          <div className=\"space-y-1\">\r\n            <h3 className=\"text-sm font-semibold leading-none\">\r\n              {t(\"scorm.props.title\") || \"Block properties\"}\r\n            </h3>\r\n            <p className=\"text-[11px] text-muted-foreground\">\r\n              {t(\"scorm.props.subtitle\") ||\r\n                \"Adjust how this element looks and behaves in the lesson.\"}\r\n            </p>\r\n          </div>\r\n          <Badge variant=\"secondary\" className=\"text-[10px] px-2 py-0 rounded-full\">\r\n            {typeLabelMap[selectedBlock.type] ?? selectedBlock.type}\r\n          </Badge>\r\n        </div>\r\n      </div>\r\n\r\n      <Separator className=\"mb-2\" />\r\n\r\n      {/* Body */}\r\n      <div className=\"flex-1 overflow-y-auto px-2 pb-3 text-xs\">\r\n        {renderBody()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3982, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/hooks/useScormAI.ts"],"sourcesContent":["\"use client\";\r\nconsole.log(\" OpenRouter API Key exists:\", !!process.env.OPENROUTER_API_KEY);\r\nimport { useState, useCallback } from \"react\";\r\nimport { EditorProject } from \"@/lib/scorm/types\";\r\nimport {\r\n  ChatMessage,\r\n  ScormAIHookProps,\r\n} \r\n\r\nfrom \"@/lib/scorm/ai-types\";\r\n\r\n// -------------------------------------------\r\n// Extractor for NEW PIPELINE response format\r\n// -------------------------------------------\r\nfunction extractProject(result: any): EditorProject | null {\r\n  if (!result) return null;\r\n\r\n  // New pipeline returns:\r\n  // { agent: \"...\", content: \"...\", project: { ... }, metadata: {...} }\r\n  if (result.project && Array.isArray(result.project.pages)) {\r\n    return result.project as EditorProject;\r\n  }\r\n\r\n  console.warn(\" extractProject(): no valid project found in:\", result);\r\n  return null;\r\n}\r\n\r\nexport function useScormAI({\r\n  setProject,\r\n  setActivePageId,\r\n  setSelectedBlockId,\r\n  setEditorMode,\r\n  setAiChatMode,\r\n  initialMessages,\r\n  onLessonApplied,\r\n}: ScormAIHookProps) {\r\n  const [messages, setMessages] = useState<ChatMessage[]>(initialMessages);\r\n  const [chatInput, setChatInput] = useState(\"\");\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n\r\n  // Holds the whole pipeline result\r\n  const [pendingLesson, setPendingLesson] = useState<any | null>(null);\r\n\r\n  const addMessage = (msg: ChatMessage) => {\r\n    setMessages((prev) => [...prev, msg]);\r\n  };\r\n\r\n  // -------------------------------------------\r\n  // ACCEPT AI LESSON\r\n  // -------------------------------------------\r\n  const acceptPendingLesson = () => {\r\n    if (!pendingLesson) return;\r\n\r\n    const newProject = extractProject(pendingLesson);\r\n    if (!newProject) {\r\n      console.error(\" No valid project in pendingLesson:\", pendingLesson);\r\n      return;\r\n    }\r\n\r\n    setProject(newProject);\r\n\r\n    // Autofocus first page\r\n    if (newProject.pages.length > 0) {\r\n      setActivePageId(newProject.pages[0].id);\r\n      setSelectedBlockId(null);\r\n\r\n      const ids = newProject.pages.flatMap((p) =>\r\n        (p.blocks ?? []).map((b) => b.id)\r\n      );\r\n\r\n      onLessonApplied(ids);\r\n    }\r\n\r\n    setPendingLesson(null);\r\n\r\n    // Switch UI back to editor mode\r\n    setEditorMode(\"ai\");\r\n    setAiChatMode(\"hidden\");\r\n  };\r\n\r\n  const rejectPendingLesson = () => setPendingLesson(null);\r\n\r\n  // -------------------------------------------\r\n  // SEND PROMPT  AI PIPELINE\r\n  // -------------------------------------------\r\n  const submitPrompt = useCallback(\r\n    async (prompt: string, isInitialGeneration: boolean) => {\r\n      if (!prompt.trim()) return;\r\n\r\n      setIsGenerating(true);\r\n\r\n      const userMessage: ChatMessage = {\r\n        id: Date.now(),\r\n        role: \"user\",\r\n        content: prompt,\r\n      };\r\n\r\n      addMessage(userMessage);\r\n      setChatInput(\"\");\r\n\r\n      try {\r\n        const payloadMessages = [...messages, userMessage].map((m) => ({\r\n          role: m.role,\r\n          content: m.content,\r\n        }));\r\n\r\n       const response = await fetch(\"/api/scorm/chat\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\", //  IMPORTANT FIX\r\n        body: JSON.stringify({ messages: payloadMessages }),\r\n      });\r\n\r\n        const json = await response.json();\r\n\r\n        if (!response.ok) {\r\n          throw new Error(json.error || \"AI generation failed\");\r\n        }\r\n\r\n        console.debug(\" Pipeline result:\", json);\r\n\r\n        // Add AI assistant message (text only)\r\n        addMessage({\r\n          id: Date.now() + 1,\r\n          role: \"assistant\",\r\n          content: json.content ?? \"Lesson generated.\",\r\n        });\r\n\r\n        // The pipeline result is at json (not json.result anymore)\r\n        const project = extractProject(json);\r\n\r\n        if (project) {\r\n          setPendingLesson(json);\r\n\r\n          if (isInitialGeneration) {\r\n            setAiChatMode(\"animating\");\r\n\r\n            setTimeout(() => {\r\n              setAiChatMode(\"hidden\");\r\n              setEditorMode(\"ai\");\r\n            }, 600);\r\n          }\r\n        }\r\n      } catch (err: any) {\r\n        console.error(\" AI Error:\", err);\r\n\r\n        addMessage({\r\n          id: Date.now() + 2,\r\n          role: \"assistant\",\r\n          content: err.message || \"AI failed to generate a valid response.\",\r\n        });\r\n      } finally {\r\n        setIsGenerating(false);\r\n      }\r\n    },\r\n    [messages, setAiChatMode, setEditorMode]\r\n  );\r\n\r\n  return {\r\n    messages,\r\n    chatInput,\r\n    setChatInput,\r\n    isGenerating,\r\n    submitPrompt,\r\n    pendingLesson,\r\n    acceptPendingLesson,\r\n    rejectPendingLesson,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/lib/scorm/page-generator.tsx"],"sourcesContent":["// lib/scorm/page-generator.ts\r\n\r\nimport type { EditorBlock, EditorPage, SCORMVersion } from \"./types\"\r\n\r\nexport function generatePageHTML(page: EditorPage, version: SCORMVersion = \"1.2\"): string {\r\n  const blocksHtml = page.blocks.map((b) => renderBlockHtml(b)).join(\"\\n\")\r\n\r\n  const apiScript = version === \"1.2\" ? \"../runtime/scorm12.js\" : \"../runtime/scorm2004.js\"\r\n\r\n  return `<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"utf-8\" />\r\n  <title>${escapeHtml(page.title)}</title>\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n  <link rel=\"stylesheet\" href=\"../styles/base.css\" />\r\n  <script src=\"${apiScript}\"></script>\r\n  <script>\r\n    // you can add SCORM init logic here later\r\n    window.addEventListener(\"load\", function () {\r\n      try {\r\n        if (window.API && window.API.LMSInitialize) {\r\n          window.API.LMSInitialize(\"\");\r\n        }\r\n      } catch (e) {}\r\n    });\r\n  </script>\r\n</head>\r\n<body>\r\n  <main class=\"page\" data-page-id=\"${page.id}\">\r\n    ${blocksHtml}\r\n  </main>\r\n</body>\r\n</html>\r\n`\r\n}\r\n\r\nfunction renderBlockHtml(block: EditorBlock): string {\r\n  switch (block.type) {\r\n    case \"text\":\r\n      return `<section class=\"block block-text\" data-block-id=\"${block.id}\">${block.html || \"\"}</section>`\r\n\r\n    case \"image\": {\r\n      const alt = block.alt || \"\"\r\n      return `\r\n        <figure class=\"block block-image\" data-block-id=\"${block.id}\">\r\n          <img src=\"${block.src}\" alt=\"${alt}\">\r\n          ${alt ? `<figcaption>${alt}</figcaption>` : \"\"}\r\n        </figure>\r\n      `.trim()\r\n    }\r\n\r\n    case \"video\":\r\n      return `\r\n        <div class=\"block block-video\" data-block-id=\"${block.id}\">\r\n          <video src=\"${block.src}\" controls></video>\r\n        </div>\r\n      `.trim()\r\n\r\n    case \"quiz\": {\r\n      const options = (block.options || [])\r\n        .map(\r\n          (o) => `\r\n            <label class=\"quiz-option\">\r\n              <input type=\"radio\" name=\"${block.id}\" value=\"${o.id}\">\r\n              <span>${o.label}</span>\r\n            </label>\r\n          `.trim()\r\n        )\r\n        .join(\"\\n\")\r\n\r\n      return `\r\n        <div class=\"block block-quiz\" data-block-id=\"${block.id}\">\r\n          <p class=\"quiz-question\">${block.question}</p>\r\n          <div class=\"quiz-options\">${options}</div>\r\n        </div>\r\n      `.trim()\r\n    }\r\n\r\n    case \"interactive\": {\r\n      const label = block.label || \"\"\r\n      const body = block.bodyHtml || \"\"\r\n\r\n      if (block.variant === \"button\") {\r\n        return `<button class=\"block block-interactive\" data-block-id=\"${block.id}\">${label || \"Interactive\"}</button>`\r\n      }\r\n\r\n      if (block.variant === \"callout\") {\r\n        return `\r\n          <div class=\"block block-interactive\" data-block-id=\"${block.id}\">\r\n            ${label ? `<p class=\"font-semibold\">${label}</p>` : \"\"}\r\n            <div>${body || \"\"}</div>\r\n          </div>\r\n        `.trim()\r\n      }\r\n\r\n      if (block.variant === \"reveal\") {\r\n        return `\r\n          <details class=\"block block-interactive\" data-block-id=\"${block.id}\" ${\r\n            block.initiallyOpen ? \"open\" : \"\"\r\n          }>\r\n            <summary>${label || \"Show\"}</summary>\r\n            <div>${body || \"\"}</div>\r\n          </details>\r\n        `.trim()\r\n      }\r\n\r\n      return `\r\n        <div class=\"block block-interactive\" data-block-id=\"${block.id}\">\r\n          ${block.customHtml || \"\"}\r\n        </div>\r\n      `.trim()\r\n    }\r\n\r\n    default:\r\n      return `<div class=\"block\" data-block-id=\"${block.id}\"></div>`\r\n  }\r\n}\r\n\r\nfunction escapeHtml(str: string): string {\r\n  return str\r\n    .replace(/&/g, \"&amp;\")\r\n    .replace(/</g, \"&lt;\")\r\n    .replace(/>/g, \"&gt;\")\r\n    .replace(/\"/g, \"&quot;\")\r\n    .replace(/'/g, \"&#039;\")\r\n}\r\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;AAIvB,SAAS,iBAAiB,IAAgB,EAAE,UAAwB,KAAK;IAC9E,MAAM,aAAa,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,IAAM,gBAAgB,IAAI,IAAI,CAAC;IAEnE,MAAM,YAAY,YAAY,QAAQ,0BAA0B;IAEhE,OAAO,CAAC;;;;SAID,EAAE,WAAW,KAAK,KAAK,EAAE;;;eAGnB,EAAE,UAAU;;;;;;;;;;;;;mCAaQ,EAAE,KAAK,EAAE,CAAC;IACzC,EAAE,WAAW;;;;AAIjB,CAAC;AACD;AAEA,SAAS,gBAAgB,KAAkB;IACzC,OAAQ,MAAM,IAAI;QAChB,KAAK;YACH,OAAO,CAAC,iDAAiD,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,MAAM,IAAI,IAAI,GAAG,UAAU,CAAC;QAEtG,KAAK;YAAS;gBACZ,MAAM,MAAM,MAAM,GAAG,IAAI;gBACzB,OAAO,CAAC;yDAC2C,EAAE,MAAM,EAAE,CAAC;oBAChD,EAAE,MAAM,GAAG,CAAC,OAAO,EAAE,IAAI;UACnC,EAAE,MAAM,CAAC,YAAY,EAAE,IAAI,aAAa,CAAC,GAAG,GAAG;;MAEnD,CAAC,CAAC,IAAI;YACR;QAEA,KAAK;YACH,OAAO,CAAC;sDACwC,EAAE,MAAM,EAAE,CAAC;sBAC3C,EAAE,MAAM,GAAG,CAAC;;MAE5B,CAAC,CAAC,IAAI;QAER,KAAK;YAAQ;gBACX,MAAM,UAAU,CAAC,MAAM,OAAO,IAAI,EAAE,EACjC,GAAG,CACF,CAAC,IAAM,CAAC;;wCAEsB,EAAE,MAAM,EAAE,CAAC,SAAS,EAAE,EAAE,EAAE,CAAC;oBAC/C,EAAE,EAAE,KAAK,CAAC;;UAEpB,CAAC,CAAC,IAAI,IAEP,IAAI,CAAC;gBAER,OAAO,CAAC;qDACuC,EAAE,MAAM,EAAE,CAAC;mCAC7B,EAAE,MAAM,QAAQ,CAAC;oCAChB,EAAE,QAAQ;;MAExC,CAAC,CAAC,IAAI;YACR;QAEA,KAAK;YAAe;gBAClB,MAAM,QAAQ,MAAM,KAAK,IAAI;gBAC7B,MAAM,OAAO,MAAM,QAAQ,IAAI;gBAE/B,IAAI,MAAM,OAAO,KAAK,UAAU;oBAC9B,OAAO,CAAC,uDAAuD,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,SAAS,cAAc,SAAS,CAAC;gBACjH;gBAEA,IAAI,MAAM,OAAO,KAAK,WAAW;oBAC/B,OAAO,CAAC;8DAC8C,EAAE,MAAM,EAAE,CAAC;YAC7D,EAAE,QAAQ,CAAC,yBAAyB,EAAE,MAAM,IAAI,CAAC,GAAG,GAAG;iBAClD,EAAE,QAAQ,GAAG;;QAEtB,CAAC,CAAC,IAAI;gBACR;gBAEA,IAAI,MAAM,OAAO,KAAK,UAAU;oBAC9B,OAAO,CAAC;kEACkD,EAAE,MAAM,EAAE,CAAC,EAAE,EACnE,MAAM,aAAa,GAAG,SAAS,GAChC;qBACU,EAAE,SAAS,OAAO;iBACtB,EAAE,QAAQ,GAAG;;QAEtB,CAAC,CAAC,IAAI;gBACR;gBAEA,OAAO,CAAC;4DAC8C,EAAE,MAAM,EAAE,CAAC;UAC7D,EAAE,MAAM,UAAU,IAAI,GAAG;;MAE7B,CAAC,CAAC,IAAI;YACR;QAEA;YACE,OAAO,CAAC,kCAAkC,EAAE,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClE;AACF;AAEA,SAAS,WAAW,GAAW;IAC7B,OAAO,IACJ,OAAO,CAAC,MAAM,SACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,UACd,OAAO,CAAC,MAAM;AACnB"}},
    {"offset": {"line": 4249, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/lib/scorm/manifest-builder.tsx"],"sourcesContent":["// lib/scorm/manifest-builder.ts\r\n\r\nimport type { SCORMManifest } from \"./types\"\r\n\r\nexport function createManifestXml(manifest: SCORMManifest): string {\r\n  const itemsXml = manifest.items\r\n    .map(\r\n      (item) => `\r\n      <item identifier=\"${item.id}\" identifierref=\"${item.id}_res\" isvisible=\"true\">\r\n        <title>${escapeXml(item.title)}</title>\r\n      </item>`,\r\n    )\r\n    .join(\"\\n\")\r\n\r\n  const resourcesXml = manifest.resources\r\n    .map(\r\n      (res) => `\r\n      <resource identifier=\"${res.id}_res\" type=\"webcontent\" href=\"${res.href}\">\r\n        ${res.files.map((f) => `<file href=\"${f}\" />`).join(\"\\n\")}\r\n      </resource>`,\r\n    )\r\n    .join(\"\\n\")\r\n\r\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<manifest identifier=\"${manifest.identifier}\" version=\"1.0\"\r\n  xmlns=\"http://www.imsproject.org/xsd/imscp_rootv1p1p2\"\r\n  xmlns:adlcp=\"http://www.adlnet.org/xsd/adlcp_rootv1p2\"\r\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n  xsi:schemaLocation=\"http://www.imsproject.org/xsd/imscp_rootv1p1p2\r\n  imscp_rootv1p1p2.xsd\r\n  http://www.adlnet.org/xsd/adlcp_rootv1p2\r\n  adlcp_rootv1p2.xsd\">\r\n  <metadata>\r\n    <schema>ADL SCORM</schema>\r\n    <schemaversion>1.2</schemaversion>\r\n  </metadata>\r\n  <organizations default=\"${manifest.organization}\">\r\n    <organization identifier=\"${manifest.organization}\">\r\n      <title>${escapeXml(manifest.title)}</title>\r\n      ${itemsXml}\r\n    </organization>\r\n  </organizations>\r\n  <resources>\r\n    ${resourcesXml}\r\n  </resources>\r\n</manifest>\r\n`\r\n}\r\n\r\nfunction escapeXml(str: string): string {\r\n  return str\r\n    .replace(/&/g, \"&amp;\")\r\n    .replace(/</g, \"&lt;\")\r\n    .replace(/>/g, \"&gt;\")\r\n    .replace(/\"/g, \"&quot;\")\r\n    .replace(/'/g, \"&apos;\")\r\n}\r\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;AAIzB,SAAS,kBAAkB,QAAuB;IACvD,MAAM,WAAW,SAAS,KAAK,CAC5B,GAAG,CACF,CAAC,OAAS,CAAC;wBACO,EAAE,KAAK,EAAE,CAAC,iBAAiB,EAAE,KAAK,EAAE,CAAC;eAC9C,EAAE,UAAU,KAAK,KAAK,EAAE;aAC1B,CAAC,EAET,IAAI,CAAC;IAER,MAAM,eAAe,SAAS,SAAS,CACpC,GAAG,CACF,CAAC,MAAQ,CAAC;4BACY,EAAE,IAAI,EAAE,CAAC,8BAA8B,EAAE,IAAI,IAAI,CAAC;QACtE,EAAE,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,IAAM,CAAC,YAAY,EAAE,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,MAAM;iBACjD,CAAC,EAEb,IAAI,CAAC;IAER,OAAO,CAAC;sBACY,EAAE,SAAS,UAAU,CAAC;;;;;;;;;;;;0BAYlB,EAAE,SAAS,YAAY,CAAC;8BACpB,EAAE,SAAS,YAAY,CAAC;aACzC,EAAE,UAAU,SAAS,KAAK,EAAE;MACnC,EAAE,SAAS;;;;IAIb,EAAE,aAAa;;;AAGnB,CAAC;AACD;AAEA,SAAS,UAAU,GAAW;IAC5B,OAAO,IACJ,OAAO,CAAC,MAAM,SACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,UACd,OAAO,CAAC,MAAM;AACnB"}},
    {"offset": {"line": 4298, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/lib/scorm/validator.ts"],"sourcesContent":["// lib/scorm/validator.ts\r\n\r\nimport type { EditorProject } from \"./types\"\r\n\r\nexport interface ValidationResult {\r\n  valid: boolean\r\n  errors: string[]\r\n}\r\n\r\nexport function validateProject(project: EditorProject): ValidationResult {\r\n  const errors: string[] = []\r\n\r\n  if (!project.id) errors.push(\"Project is missing an id.\")\r\n  if (!project.title) errors.push(\"Project is missing a title.\")\r\n  if (!project.pages || project.pages.length === 0) {\r\n    errors.push(\"Project must contain at least one page.\")\r\n  }\r\n\r\n  project.pages.forEach((page, pageIndex) => {\r\n    if (!page.id) errors.push(`Page ${pageIndex + 1} is missing an id.`)\r\n    if (!page.title) errors.push(`Page ${pageIndex + 1} is missing a title.`)\r\n    if (!page.blocks || page.blocks.length === 0) {\r\n      errors.push(`Page ${pageIndex + 1} has no blocks.`)\r\n    }\r\n  })\r\n\r\n  return { valid: errors.length === 0, errors }\r\n}\r\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AASlB,SAAS,gBAAgB,OAAsB;IACpD,MAAM,SAAmB,EAAE;IAE3B,IAAI,CAAC,QAAQ,EAAE,EAAE,OAAO,IAAI,CAAC;IAC7B,IAAI,CAAC,QAAQ,KAAK,EAAE,OAAO,IAAI,CAAC;IAChC,IAAI,CAAC,QAAQ,KAAK,IAAI,QAAQ,KAAK,CAAC,MAAM,KAAK,GAAG;QAChD,OAAO,IAAI,CAAC;IACd;IAEA,QAAQ,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM;QAC3B,IAAI,CAAC,KAAK,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,KAAK,EAAE,YAAY,EAAE,kBAAkB,CAAC;QACnE,IAAI,CAAC,KAAK,KAAK,EAAE,OAAO,IAAI,CAAC,CAAC,KAAK,EAAE,YAAY,EAAE,oBAAoB,CAAC;QACxE,IAAI,CAAC,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,MAAM,KAAK,GAAG;YAC5C,OAAO,IAAI,CAAC,CAAC,KAAK,EAAE,YAAY,EAAE,eAAe,CAAC;QACpD;IACF;IAEA,OAAO;QAAE,OAAO,OAAO,MAAM,KAAK;QAAG;IAAO;AAC9C"}},
    {"offset": {"line": 4329, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/lib/scorm/runtime-scripts.ts"],"sourcesContent":["// lib/scorm/runtime-scripts.ts\r\n\r\nexport const SCORM12_RUNTIME = `\r\n// Minimal SCORM 1.2 API stub\r\nwindow.API = {\r\n  LMSInitialize: function() { return \"true\"; },\r\n  LMSFinish: function() { return \"true\"; },\r\n  LMSGetValue: function() { return \"\"; },\r\n  LMSSetValue: function() { return \"true\"; },\r\n  LMSCommit: function() { return \"true\"; },\r\n  LMSGetLastError: function() { return \"0\"; },\r\n  LMSGetErrorString: function() { return \"\"; },\r\n  LMSGetDiagnostic: function() { return \"\"; }\r\n};\r\n`\r\n\r\nexport const SCORM2004_RUNTIME = `\r\n// Minimal SCORM 2004 API stub\r\nwindow.API_1484_11 = {\r\n  Initialize: function() { return \"true\"; },\r\n  Terminate: function() { return \"true\"; },\r\n  GetValue: function() { return \"\"; },\r\n  SetValue: function() { return \"true\"; },\r\n  Commit: function() { return \"true\"; },\r\n  GetLastError: function() { return \"0\"; },\r\n  GetErrorString: function() { return \"\"; },\r\n  GetDiagnostic: function() { return \"\"; }\r\n};\r\n`\r\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;;AAExB,MAAM,kBAAkB,CAAC;;;;;;;;;;;;AAYhC,CAAC;AAEM,MAAM,oBAAoB,CAAC;;;;;;;;;;;;AAYlC,CAAC"}},
    {"offset": {"line": 4369, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/lib/scorm/exporter.ts"],"sourcesContent":["// lib/scorm/exporter.ts\r\n\r\nimport JSZip from \"jszip\"\r\nimport type { EditorProject, SCORMManifestItem, SCORMManifestResource, SCORMVersion } from \"./types\"\r\nimport { generatePageHTML } from \"./page-generator\"\r\nimport { createManifestXml } from \"./manifest-builder\"\r\nimport { validateProject } from \"./validator\"\r\nimport { SCORM12_RUNTIME, SCORM2004_RUNTIME } from \"./runtime-scripts\"\r\n\r\nconst BASE_CSS = `\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\r\n  background: #f5f6f7;\r\n}\r\n\r\n.page {\r\n  max-width: 960px;\r\n  margin: 0 auto;\r\n  padding: 24px 16px 40px;\r\n  background: #ffffff;\r\n}\r\n\r\n.block {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.block-text {\r\n  font-size: 16px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.block-image img {\r\n  max-width: 100%;\r\n  border-radius: 12px;\r\n  display: block;\r\n  margin: 0 auto;\r\n}\r\n\r\n.block-video video {\r\n  max-width: 100%;\r\n  border-radius: 12px;\r\n}\r\n\r\n.block-quiz .quiz-question {\r\n  font-weight: 600;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.block-quiz .quiz-options {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.block-quiz .quiz-option {\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.block-interactive .interactive-placeholder {\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  background: #f8fafc;\r\n  border: 1px dashed #cbd5e1;\r\n  font-size: 14px;\r\n}\r\n`.trim()\r\n\r\nexport async function buildScormZip(project: EditorProject, version: SCORMVersion = \"1.2\"): Promise<Blob> {\r\n  const validation = validateProject(project)\r\n  if (!validation.valid) {\r\n    throw new Error(\"Invalid project: \" + validation.errors.join(\"; \"))\r\n  }\r\n\r\n  const zip = new JSZip()\r\n\r\n  // runtime JS\r\n  const runtimeFolder = zip.folder(\"runtime\")\r\n  if (!runtimeFolder) throw new Error(\"Failed to create runtime folder in zip\")\r\n\r\n  if (version === \"1.2\") {\r\n    runtimeFolder.file(\"scorm12.js\", SCORM12_RUNTIME)\r\n  } else {\r\n    runtimeFolder.file(\"scorm2004.js\", SCORM2004_RUNTIME)\r\n  }\r\n\r\n  // styles\r\n  const stylesFolder = zip.folder(\"styles\")\r\n  if (!stylesFolder) throw new Error(\"Failed to create styles folder in zip\")\r\n  stylesFolder.file(\"base.css\", BASE_CSS)\r\n\r\n  // pages\r\n  const pagesFolder = zip.folder(\"pages\")\r\n  if (!pagesFolder) throw new Error(\"Failed to create pages folder in zip\")\r\n\r\n  const items: SCORMManifestItem[] = []\r\n  const resources: SCORMManifestResource[] = []\r\n\r\n  for (const page of project.pages) {\r\n    const filename = `${page.id}.html`\r\n    const html = generatePageHTML(page, version)\r\n    pagesFolder.file(filename, html)\r\n\r\n    items.push({\r\n      id: page.id,\r\n      title: page.title,\r\n      href: `pages/${filename}`,\r\n    })\r\n\r\n    resources.push({\r\n      id: page.id,\r\n      href: `pages/${filename}`,\r\n      files: [`pages/${filename}`],\r\n    })\r\n  }\r\n\r\n  // manifest\r\n  const manifestXml = createManifestXml({\r\n    identifier: project.id,\r\n    title: project.title,\r\n    organization: \"org1\",\r\n    items,\r\n    resources,\r\n  })\r\n\r\n  zip.file(\"imsmanifest.xml\", manifestXml)\r\n\r\n  // generate zip blob\r\n  const blob = await zip.generateAsync({ type: \"blob\" })\r\n  return blob\r\n}\r\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;;AAExB;AAEA;AACA;AACA;AACA;;;;;;AAEA,MAAM,WAAW,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DlB,CAAC,CAAC,IAAI;AAEC,eAAe,cAAc,OAAsB,EAAE,UAAwB,KAAK;IACvF,MAAM,aAAa,IAAA,+IAAe,EAAC;IACnC,IAAI,CAAC,WAAW,KAAK,EAAE;QACrB,MAAM,IAAI,MAAM,sBAAsB,WAAW,MAAM,CAAC,IAAI,CAAC;IAC/D;IAEA,MAAM,MAAM,IAAI,mJAAK;IAErB,aAAa;IACb,MAAM,gBAAgB,IAAI,MAAM,CAAC;IACjC,IAAI,CAAC,eAAe,MAAM,IAAI,MAAM;IAEpC,IAAI,YAAY,OAAO;QACrB,cAAc,IAAI,CAAC,cAAc,wJAAe;IAClD,OAAO;QACL,cAAc,IAAI,CAAC,gBAAgB,0JAAiB;IACtD;IAEA,SAAS;IACT,MAAM,eAAe,IAAI,MAAM,CAAC;IAChC,IAAI,CAAC,cAAc,MAAM,IAAI,MAAM;IACnC,aAAa,IAAI,CAAC,YAAY;IAE9B,QAAQ;IACR,MAAM,cAAc,IAAI,MAAM,CAAC;IAC/B,IAAI,CAAC,aAAa,MAAM,IAAI,MAAM;IAElC,MAAM,QAA6B,EAAE;IACrC,MAAM,YAAqC,EAAE;IAE7C,KAAK,MAAM,QAAQ,QAAQ,KAAK,CAAE;QAChC,MAAM,WAAW,GAAG,KAAK,EAAE,CAAC,KAAK,CAAC;QAClC,MAAM,OAAO,IAAA,yJAAgB,EAAC,MAAM;QACpC,YAAY,IAAI,CAAC,UAAU;QAE3B,MAAM,IAAI,CAAC;YACT,IAAI,KAAK,EAAE;YACX,OAAO,KAAK,KAAK;YACjB,MAAM,CAAC,MAAM,EAAE,UAAU;QAC3B;QAEA,UAAU,IAAI,CAAC;YACb,IAAI,KAAK,EAAE;YACX,MAAM,CAAC,MAAM,EAAE,UAAU;YACzB,OAAO;gBAAC,CAAC,MAAM,EAAE,UAAU;aAAC;QAC9B;IACF;IAEA,WAAW;IACX,MAAM,cAAc,IAAA,4JAAiB,EAAC;QACpC,YAAY,QAAQ,EAAE;QACtB,OAAO,QAAQ,KAAK;QACpB,cAAc;QACd;QACA;IACF;IAEA,IAAI,IAAI,CAAC,mBAAmB;IAE5B,oBAAoB;IACpB,MAAM,OAAO,MAAM,IAAI,aAAa,CAAC;QAAE,MAAM;IAAO;IACpD,OAAO;AACT"}},
    {"offset": {"line": 4505, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Windows%2011/Desktop/%D9%85%D8%B4%D8%B1%D9%88%D8%B9%20%D8%A7%D9%84%D8%AA%D8%AE%D8%B1%D8%AC/EduPack-new-interface/app/%28editor%29/scorm-ai/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport {\r\n  useState,\r\n  type FormEvent,\r\n  useEffect,\r\n  useRef,\r\n  useCallback,\r\n  type ReactNode,\r\n} from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { useLocale } from \"@/hooks/use-locale\"\r\nimport { useSupabase } from \"@/components/auth-provider\"\r\nimport {\r\n  EditorBlock,\r\n  EditorPage,\r\n  EditorProject,\r\n  ExportFormat,\r\n  SCORMVersion,\r\n  TextBlock,\r\n  ImageBlock,\r\n  VideoBlock,\r\n  QuizBlock,\r\n  InteractiveBlock,\r\n} from \"@/lib/scorm/types\"\r\nimport { BlockRenderer } from \"@/lib/scorm/block-engine\"\r\nimport { PropertiesPanel } from \"@/components/scorm/properties-panel\"\r\nimport {\r\n  Save,\r\n  Eye,\r\n  Download,\r\n  Type,\r\n  Paperclip,\r\n  FileQuestion,\r\n  MousePointerClick,\r\n  Upload,\r\n  MessageCircle,\r\n  FilePlus,\r\n  Settings,\r\n  LayoutDashboard,\r\n  Clock,\r\n} from \"lucide-react\"\r\nimport { useScormAI, type ChatMessage } from \"@/hooks/useScormAI\"\r\nimport { toast } from \"sonner\"\r\nimport { buildScormZip } from \"@/lib/scorm/exporter\"\r\n\r\ntype Status = \"draft\" | \"published\"\r\n\r\nexport default function ScormAIPage() {\r\n  const { t } = useLocale()\r\n  const { supabase } = useSupabase()\r\n\r\n  const initialProject: EditorProject = {\r\n    id: `proj-${Date.now()}`,\r\n    title: t(\"scorm.ai.untitledProject\"),\r\n    version: \"1.0\",\r\n    theme: {\r\n      direction: \"ltr\",\r\n      styles: {},\r\n    },\r\n    tracking: {\r\n      level: \"standard\",\r\n      pageViews: true,\r\n      quizInteractions: true,\r\n      media: true,\r\n      hints: false,\r\n      externalLinks: false,\r\n      timePerPage: true,\r\n      attempts: true,\r\n    },\r\n    xapi: {\r\n      lrsEndpoint: \"\",\r\n      authToken: \"\",\r\n      activityIdFormat: \"iri\",\r\n      statementExtensions: \"{}\",\r\n    },\r\n    pages: [\r\n      {\r\n        id: \"page-1\",\r\n        title: t(\"scorm.ai.introduction\"),\r\n        blocks: [],\r\n      },\r\n    ],\r\n  }\r\n\r\n  const [project, setProject] = useState<EditorProject>(initialProject)\r\n  const firstPageBlocksCount = (project.pages[0]?.blocks ?? []).length\r\n\r\n  const hasContent =\r\n    project.pages.length > 1 || firstPageBlocksCount > 0\r\n\r\n  const [editorMode, setEditorMode] = useState<\"choice\" | \"ai\" | \"blank\">(\r\n    hasContent ? \"ai\" : \"choice\",\r\n  )\r\n\r\n  const [activePageId, setActivePageId] = useState<string>(project.pages[0]?.id)\r\n  const [selectedBlockId, setSelectedBlockId] = useState<string | null>(null)\r\n\r\n  const [status, setStatus] = useState<Status>(\"draft\")\r\n  const [aiChatMode, setAiChatMode] =\r\n    useState<\"hidden\" | \"visible\" | \"animating\">(\"hidden\")\r\n\r\n  const [initialMessages, setInitialMessages] = useState<ChatMessage[]>([])\r\n\r\n  useEffect(() => {\r\n    if (initialMessages.length === 0) {\r\n      setInitialMessages([\r\n        {\r\n          id: 1,\r\n          role: \"assistant\",\r\n          content: t(\"scorm.ai.welcome\"),\r\n        },\r\n      ])\r\n    }\r\n  }, [t, initialMessages.length])\r\n\r\n  const fileInputRef = useRef<HTMLInputElement | null>(null)\r\n  const [isDragging, setIsDragging] = useState(false)\r\n  const [shareUrl, setShareUrl] = useState<string | null>(null)\r\n  const [highlightedBlockIds, setHighlightedBlockIds] = useState<string[]>([])\r\n  const highlightTimerRef = useRef<NodeJS.Timeout | null>(null)\r\n\r\n  // navbar toggle\r\n  const [navVisible, setNavVisible] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const nav = document.getElementById(\"main-navbar\")\r\n    if (!nav) return\r\n\r\n    const originalDisplay = nav.style.display\r\n    if (navVisible) {\r\n      nav.style.display = originalDisplay || \"\"\r\n    } else {\r\n      nav.style.display = \"none\"\r\n    }\r\n\r\n    return () => {\r\n      nav.style.display = originalDisplay || \"\"\r\n    }\r\n  }, [navVisible])\r\n\r\n  const showHighlights = useCallback((ids: string[]) => {\r\n    if (highlightTimerRef.current) {\r\n      clearTimeout(highlightTimerRef.current)\r\n    }\r\n\r\n    setHighlightedBlockIds(ids)\r\n\r\n    highlightTimerRef.current = setTimeout(() => {\r\n      setHighlightedBlockIds([])\r\n    }, 4500)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (highlightTimerRef.current) {\r\n        clearTimeout(highlightTimerRef.current)\r\n      }\r\n    }\r\n  }, [])\r\n\r\nconst fallbackPage: EditorPage = {\r\n  id: \"page-fallback\",\r\n  title: t(\"scorm.ai.introduction\"),\r\n  blocks: [],\r\n}\r\n\r\nconst activePage =\r\n  project.pages.find((p) => p.id === activePageId) ??\r\n  project.pages[0] ??\r\n  fallbackPage\r\nconst activeBlocks = activePage?.blocks ?? [];\r\n\r\nconst selectedBlock =\r\n  (activePage.blocks ?? []).find((b) => b.id === selectedBlockId) ?? null\r\n\r\n\r\n  const [rightPanel, setRightPanel] = useState<\"block\" | \"project\">(\"project\")\r\n\r\n  const handleBlockClick = useCallback((block: EditorBlock) => {\r\n    setSelectedBlockId(block.id)\r\n    setRightPanel(\"block\")\r\n  }, [])\r\n\r\n  const handleBlockChange = (updatedBlock: EditorBlock) => {\r\n    setProject((prevProject) => {\r\n      const updatedPages = prevProject.pages.map((p) => {\r\n        if (p.id === activePageId) {\r\n          const updatedBlocks = p.blocks.map((b) =>\r\n            b.id === updatedBlock.id ? updatedBlock : b,\r\n          )\r\n          return { ...p, blocks: updatedBlocks }\r\n        }\r\n        return p\r\n      })\r\n      return { ...prevProject, pages: updatedPages }\r\n    })\r\n  }\r\n\r\n  const {\r\n    messages,\r\n    chatInput,\r\n    setChatInput,\r\n    isGenerating,\r\n    submitPrompt,\r\n    pendingLesson,\r\n    acceptPendingLesson,\r\n    rejectPendingLesson,\r\n  } = useScormAI({\r\n    setProject,\r\n    setActivePageId,\r\n    setSelectedBlockId,\r\n    setEditorMode,\r\n    setAiChatMode,\r\n    initialMessages,\r\n    onLessonApplied: showHighlights,\r\n  })\r\n\r\n  const handleSend = async (e: FormEvent) => {\r\n    e.preventDefault()\r\n    const prompt = chatInput.trim()\r\n    if (!prompt) return\r\n\r\n    // Determine if this is the first generation that transitions the view\r\n    const isInitialGeneration = aiChatMode === \"visible\"\r\n\r\n    submitPrompt(prompt, isInitialGeneration)\r\n  }\r\n\r\n  const handleSave = async () => {\r\n    const promise = (async () => {\r\n      const {\r\n        data: { session },\r\n        error: sessionError,\r\n      } = await supabase.auth.getSession()\r\n\r\n      if (sessionError) {\r\n        console.error(\"Error getting session:\", sessionError)\r\n      }\r\n\r\n      if (!session?.access_token) {\r\n        throw new Error(\"User not logged in (no token from Supabase).\")\r\n      }\r\n\r\n      const response = await fetch(\"/api/scorm/save\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${session.access_token}`,\r\n        },\r\n        body: JSON.stringify(project),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const errorBody = await response.json().catch(() => ({}))\r\n        const message = errorBody.error ?? \"Failed to save package\"\r\n        throw new Error(message)\r\n      }\r\n\r\n      const { data } = await response.json()\r\n      setStatus(\"draft\")\r\n      return data\r\n    })()\r\n\r\n    toast.promise(promise, {\r\n      loading: \"Saving package...\",\r\n      success: () => `Package saved successfully!`,\r\n      error: (error) => error.message || \"Error saving package\",\r\n    })\r\n  }\r\n\r\n  const downloadBlob = (blob: Blob, filename: string) => {\r\n    const url = window.URL.createObjectURL(blob)\r\n    const a = document.createElement(\"a\")\r\n    a.href = url\r\n    a.download = filename\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    a.remove()\r\n    window.URL.revokeObjectURL(url)\r\n  }\r\n\r\n  const renderStandaloneBlock = (block: EditorBlock) => {\r\n    switch (block.type) {\r\n      case \"text\": {\r\n        const textBlock = block as TextBlock\r\n        return `<div>${textBlock.html}</div>`\r\n      }\r\n      case \"image\": {\r\n        const img = block as ImageBlock\r\n        const alt = img.alt || t(\"scorm.ai.placeholderImage\")\r\n        return `<figure><img src=\"${img.src}\" alt=\"${alt}\" /><figcaption>${alt}</figcaption></figure>`\r\n      }\r\n      case \"video\": {\r\n        const vid = block as VideoBlock\r\n        return `<video src=\"${vid.src}\" controls></video>`\r\n      }\r\n      case \"quiz\": {\r\n        const quizBlock = block as QuizBlock\r\n        const options = (quizBlock.options || [])\r\n          .map(\r\n            (o) => `\r\n              <label style=\"display:block;margin-bottom:6px;\">\r\n                <input type=\"radio\" name=\"${quizBlock.id}\" value=\"${o.id}\" /> ${o.label}\r\n              </label>\r\n            `,\r\n          )\r\n          .join(\"\\n\")\r\n\r\n        return `\r\n          <div>\r\n            <p><strong>${quizBlock.question}</strong></p>\r\n            <div>${options}</div>\r\n          </div>\r\n        `\r\n      }\r\n      case \"interactive\": {\r\n        const interactive = block as InteractiveBlock\r\n        if (interactive.variant === \"button\") {\r\n          return `<button>${interactive.label || \"Interactive\"}</button>`\r\n        }\r\n\r\n        if (interactive.variant === \"callout\") {\r\n          return `<div><p><strong>${\r\n            interactive.label || \"Callout\"\r\n          }</strong></p><div>${interactive.bodyHtml || \"\"}</div></div>`\r\n        }\r\n\r\n        if (interactive.variant === \"reveal\") {\r\n          return `<details ${\r\n            interactive.initiallyOpen ? \"open\" : \"\"\r\n          }><summary>${\r\n            interactive.label || \"Show\"\r\n          }</summary><div>${interactive.bodyHtml || \"\"}</div></details>`\r\n        }\r\n\r\n        return `<div>${interactive.customHtml || interactive.bodyHtml || \"\"}</div>`\r\n      }\r\n      default:\r\n        return \"\"\r\n    }\r\n  }\r\n\r\n  const buildStandaloneHtml = (title: string) => {\r\n    const pagesHtml = project.pages\r\n      .map(\r\n        (page) => `\r\n        <article style=\"margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #e5e7eb;\">\r\n          <h2 style=\"margin-bottom:12px;\">${page.title}</h2>\r\n          ${page.blocks.map((block) => renderStandaloneBlock(block)).join(\"\\n\")}\r\n        </article>\r\n      `,\r\n      )\r\n      .join(\"\\n\")\r\n\r\n    return `<!DOCTYPE html>\r\n    <html lang=\"en\" dir=\"${project.theme.direction}\">\r\n      <head>\r\n        <meta charset=\"UTF-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <title>${title}</title>\r\n        <style>\r\n          body { font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif; line-height: 1.6; padding: 24px; max-width: 960px; margin: 0 auto; }\r\n          img, video { max-width: 100%; border-radius: 8px; }\r\n          figure { margin: 0 0 12px 0; }\r\n          figcaption { font-size: 12px; color: #4b5563; text-align: center; }\r\n          button { padding: 8px 14px; border-radius: 999px; background: #0ea5e9; color: white; border: none; cursor: pointer; }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <h1 style=\"margin-bottom:16px;\">${title}</h1>\r\n        ${pagesHtml}\r\n      </body>\r\n    </html>`\r\n  }\r\n\r\n  const buildQtiXml = () => {\r\n    const quizzes = project.pages\r\n      .flatMap(\r\n        (page) => page.blocks.filter((b) => b.type === \"quiz\") as QuizBlock[],\r\n      )\r\n      .map(\r\n        (quiz) => `\r\n        <assessmentItem identifier=\"${quiz.id}\" title=\"${quiz.question}\" adaptive=\"false\" timeDependent=\"false\">\r\n          <responseDeclaration identifier=\"RESPONSE\" cardinality=\"single\" baseType=\"identifier\" />\r\n          <itemBody>\r\n            <choiceInteraction responseIdentifier=\"RESPONSE\" shuffle=\"true\" maxChoices=\"1\">\r\n              <prompt>${quiz.question}</prompt>\r\n              ${(quiz.options || [])\r\n                .map(\r\n                  (option) => `\r\n                <simpleChoice identifier=\"${option.id}\"${\r\n                    option.correct ? ' data-correct=\"true\"' : \"\"\r\n                  }>${option.label}</simpleChoice>\r\n              `,\r\n                )\r\n                .join(\"\\n\")}\r\n            </choiceInteraction>\r\n          </itemBody>\r\n        </assessmentItem>`,\r\n      )\r\n      .join(\"\\n\")\r\n\r\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<qti-assessment-items>\r\n${quizzes || '<assessmentItem identifier=\"placeholder\" title=\"No quizzes available\" />'}\r\n</qti-assessment-items>`\r\n  }\r\n\r\n  const openPrintableReport = (role: \"teacher\" | \"student\") => {\r\n      const learningSummary = project.pages\r\n        .map((page, index) => {\r\n          const blockCount = (page.blocks ?? []).length\r\n          return `${index + 1}. ${page.title} (${blockCount} blocks)`\r\n        })\r\n      .join(\"<br />\")\r\n\r\n\r\n    const reportHtml = `<!DOCTYPE html>\r\n      <html lang=\"en\">\r\n        <head>\r\n          <meta charset=\"UTF-8\" />\r\n          <title>${project.title} - ${role} report</title>\r\n          <style>\r\n            body { font-family: Arial, sans-serif; line-height: 1.6; padding: 24px; color: #111827; }\r\n            h1 { margin-bottom: 4px; }\r\n            h2 { margin-bottom: 12px; color: #374151; }\r\n            .meta { color: #6b7280; font-size: 13px; margin-bottom: 16px; }\r\n            .panel { border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; margin-bottom: 16px; }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <h1>${project.title}</h1>\r\n          <div class=\"meta\">Role: ${\r\n            role === \"teacher\" ? \"Instructor\" : \"Learner\"\r\n          }  Pages: ${project.pages.length}</div>\r\n          <div class=\"panel\">\r\n            <h2>Lesson outline</h2>\r\n            <div>${learningSummary || \"No pages prepared.\"}</div>\r\n          </div>\r\n          <div class=\"panel\">\r\n            <h2>Notes</h2>\r\n            <p>This printable view can be saved as PDF from your browser's print dialog.</p>\r\n          </div>\r\n        </body>\r\n      </html>`\r\n\r\n    const win = window.open(\"\", \"_blank\")\r\n    if (win) {\r\n      win.document.write(reportHtml)\r\n      win.document.close()\r\n      win.focus()\r\n      win.print()\r\n    } else {\r\n      downloadBlob(\r\n        new Blob([reportHtml], { type: \"text/html\" }),\r\n        `${project.title || \"lesson\"}-${role}.html`,\r\n      )\r\n    }\r\n  }\r\n\r\n  const ensureShareUrl = () => {\r\n    if (shareUrl) return shareUrl\r\n    const html = buildStandaloneHtml(project.title)\r\n    const blob = new Blob([html], { type: \"text/html\" })\r\n    const url = URL.createObjectURL(blob)\r\n    setShareUrl(url)\r\n    return url\r\n  }\r\n\r\n  // SINGLE, FIXED handleExport FUNCTION\r\n  const handleExport = async (format: ExportFormat | SCORMVersion = \"1.2\") => {\r\n    const target: ExportFormat =\r\n      format === \"1.2\" ? \"scorm12\" : format === \"2004\" ? \"scorm2004\" : format\r\n\r\n    const slug = (project.title || \"scorm-package\")\r\n      .replace(/[^a-z0-9]+/gi, \"_\")\r\n      .replace(/^_+|_+$/g, \"\")\r\n      .toLowerCase()\r\n\r\n    try {\r\n      switch (target) {\r\n        case \"scorm12\":\r\n        case \"scorm2004\": {\r\n          const blob = await buildScormZip(\r\n            project,\r\n            target === \"scorm12\" ? \"1.2\" : \"2004\",\r\n          )\r\n          downloadBlob(blob, `${slug || \"scorm-package\"}.zip`)\r\n          setStatus(\"published\")\r\n          toast.success(t(\"scorm.ai.exportSuccess\") || \"Export completed\")\r\n          break\r\n        }\r\n        case \"xapi\": {\r\n          const payload = {\r\n            exportedAt: new Date().toISOString(),\r\n            project,\r\n            xapi: project.xapi,\r\n            tracking: project.tracking,\r\n          }\r\n          downloadBlob(\r\n            new Blob([JSON.stringify(payload, null, 2)], {\r\n              type: \"application/json\",\r\n            }),\r\n            `${slug || \"lesson\"}-xapi.json`,\r\n          )\r\n          toast.success(\"xAPI package ready as JSON\")\r\n          break\r\n        }\r\n        case \"html5\": {\r\n          const html = buildStandaloneHtml(project.title)\r\n          downloadBlob(\r\n            new Blob([html], { type: \"text/html\" }),\r\n            `${slug || \"lesson\"}-offline.html`,\r\n          )\r\n          toast.success(\"HTML5 offline page downloaded\")\r\n          break\r\n        }\r\n        case \"publicLink\": {\r\n          const url = ensureShareUrl()\r\n          window.open(url, \"_blank\")\r\n          toast.success(\"Opened a shareable preview link\")\r\n          break\r\n        }\r\n        case \"embedCode\": {\r\n          const url = ensureShareUrl()\r\n          const iframe = `<iframe src=\"${url}\" width=\"100%\" height=\"640\" title=\"${project.title}\"></iframe>`\r\n          navigator.clipboard?.writeText(iframe).catch(() => null)\r\n          toast.success(\"Embed code copied to clipboard\")\r\n          break\r\n        }\r\n        case \"teacherPdf\": {\r\n          openPrintableReport(\"teacher\")\r\n          toast.success(\"Opened teacher printable view\")\r\n          break\r\n        }\r\n        case \"studentPdf\": {\r\n          openPrintableReport(\"student\")\r\n          toast.success(\"Opened student printable view\")\r\n          break\r\n        }\r\n        case \"json\": {\r\n          downloadBlob(\r\n            new Blob([JSON.stringify(project, null, 2)], {\r\n              type: \"application/json\",\r\n            }),\r\n            `${slug || \"lesson\"}.json`,\r\n          )\r\n          toast.success(\"Project JSON downloaded\")\r\n          break\r\n        }\r\n        case \"qti\": {\r\n          const xml = buildQtiXml()\r\n          downloadBlob(\r\n            new Blob([xml], { type: \"application/xml\" }),\r\n            `${slug || \"lesson\"}-qti.xml`,\r\n          )\r\n          toast.success(\"QTI export ready\")\r\n          break\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to export project:\", error)\r\n      const fallback = t(\"scorm.ai.exportError\")\r\n      const message =\r\n        error instanceof Error && error.message ? error.message : fallback\r\n      toast.error(message)\r\n    }\r\n  }\r\n\r\n  const addBlock = (type: EditorBlock[\"type\"], data?: Partial<EditorBlock>) => {\r\n    let newBlock: EditorBlock\r\n\r\n    if (data) {\r\n      newBlock = { ...data, id: `block-${Date.now()}`, type } as EditorBlock\r\n    } else {\r\n      const baseBlock = { id: `block-${Date.now()}` }\r\n\r\n      switch (type) {\r\n        case \"text\":\r\n          newBlock = {\r\n            ...baseBlock,\r\n            type: \"text\",\r\n            html: t(\"scorm.ai.newTextBlock\"),\r\n          }\r\n          break\r\n        case \"image\":\r\n          newBlock = {\r\n            ...baseBlock,\r\n            type: \"image\",\r\n            src: \"https://via.placeholder.com/600x400\",\r\n            alt: t(\"scorm.ai.placeholderImage\"),\r\n          }\r\n          break\r\n        case \"video\":\r\n          newBlock = {\r\n            ...baseBlock,\r\n            type: \"video\",\r\n            src: \"https://www.w3schools.com/html/mov_bbb.mp4\",\r\n          }\r\n          break\r\n        case \"quiz\":\r\n          newBlock = {\r\n            ...baseBlock,\r\n            type: \"quiz\",\r\n            question: t(\"scorm.ai.newQuestion\"),\r\n            options: [\r\n              { id: \"1\", label: t(\"scorm.ai.option1\"), correct: true },\r\n              { id: \"2\", label: t(\"scorm.ai.option2\"), correct: false },\r\n            ],\r\n          }\r\n          break\r\n        case \"interactive\": {\r\n          const raw = t(\"scorm.ai.interactive.defaultLabel\") as string\r\n          const label =\r\n            raw && raw !== \"scorm.ai.interactive.defaultLabel\"\r\n              ? raw\r\n              : \"Interactive element\"\r\n\r\n          newBlock = {\r\n            ...baseBlock,\r\n            type: \"interactive\",\r\n            variant: \"button\",\r\n            label,\r\n            url: \"\",\r\n            bodyHtml: \"\",\r\n            style: {\r\n              padding: \"8px\",\r\n              radius: \"999px\",\r\n              background: \"#0ea5e9\",\r\n              shadow: true,\r\n            },\r\n          } as EditorBlock\r\n          break\r\n        }\r\n        default:\r\n          return\r\n      }\r\n    }\r\n\r\n    setProject((prevProject) => {\r\n      const updatedPages = prevProject.pages.map((p) => {\r\n        if (p.id === activePageId) {\r\n          const newBlocks = [...p.blocks, newBlock]\r\n          return { ...p, blocks: newBlocks }\r\n        }\r\n        return p\r\n      })\r\n      return { ...prevProject, pages: updatedPages }\r\n    })\r\n\r\n    showHighlights([newBlock.id])\r\n    setSelectedBlockId(newBlock.id)\r\n    return newBlock\r\n  }\r\n\r\n  const handlePreview = () => {\r\n    const htmlContent = `\r\n      <!DOCTYPE html>\r\n      <html dir=\"${project.theme.direction}\">\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <title>${t(\"scorm.ai.previewTitle\", { title: project.title })}</title>\r\n        <style>\r\n          body { font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; padding: 20px; max-width: 1000px; margin: 0 auto; color: #333; }\r\n          article { margin-bottom: 40px; border-bottom: 1px solid #eee; padding-bottom: 20px; }\r\n          h1, h2 { color: #111; }\r\n          figure { margin: 0 0 1em 0; }\r\n          img, video { max-width: 100%; height: auto; border-radius: 8px; }\r\n          figcaption { font-size: 0.9em; color: #666; text-align: center; margin-top: 5px; }\r\n          fieldset { border: 1px solid #ccc; padding: 15px; border-radius: 8px; margin-top: 1em; }\r\n          legend { font-weight: bold; padding: 0 5px; }\r\n          form div { margin-bottom: 10px; }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <h1>${project.title}</h1>\r\n        ${project.pages\r\n          .map(\r\n            (page) => `\r\n          <article>\r\n            <h2>${page.title}</h2>\r\n            ${page.blocks\r\n              .map((block) => {\r\n                switch (block.type) {\r\n                  case \"text\": {\r\n                    const textBlock = block as TextBlock\r\n                    const style = textBlock.style || {}\r\n                    const styleString = `\r\n                      font-weight: ${style.bold ? \"bold\" : \"normal\"};\r\n                      font-style: ${style.italic ? \"italic\" : \"normal\"};\r\n                      text-decoration: ${style.underline ? \"underline\" : \"none\"};\r\n                      font-size: ${style.size || \"inherit\"};\r\n                      text-align: ${style.align || \"left\"};\r\n                      direction: ${style.direction || \"ltr\"};\r\n                      color: ${style.color || \"inherit\"};\r\n                      background: ${style.background || \"transparent\"};\r\n                      padding: ${style.padding || \"0\"};\r\n                      border-radius: ${style.radius || \"0\"};\r\n                      line-height: ${style.lineHeight || \"inherit\"};\r\n                    `\r\n                    return `<div style=\"${styleString}\">${textBlock.html}</div>`\r\n                  }\r\n\r\n                  case \"image\": {\r\n                    const img = block as ImageBlock\r\n                    const alt = img.alt || t(\"scorm.ai.placeholderImage\")\r\n                    return `<figure><img src=\"${img.src}\" alt=\"${alt}\"><figcaption>${alt}</figcaption></figure>`\r\n                  }\r\n\r\n                  case \"video\": {\r\n                    const vid = block as VideoBlock\r\n                    return `<video src=\"${vid.src}\" controls></video>`\r\n                  }\r\n\r\n                  case \"quiz\": {\r\n                    const quizBlock = block as QuizBlock\r\n                    return `\r\n                      <form onsubmit=\"event.preventDefault();\">\r\n                        <fieldset>\r\n                          <legend>${quizBlock.question}</legend>\r\n                          ${(quizBlock.options || [])\r\n                            .map(\r\n                              (o) => `\r\n                              <div>\r\n                                <input type=\"radio\" id=\"${o.id}\" name=\"${quizBlock.id}\" value=\"${o.id}\">\r\n                                <label for=\"${o.id}\">${o.label}</label>\r\n                              </div>\r\n                            `,\r\n                            )\r\n                            .join(\"\")}\r\n                        </fieldset>\r\n                      </form>\r\n                    `\r\n                  }\r\n\r\n                  case \"interactive\": {\r\n                    const ib = block as InteractiveBlock\r\n                    const style = ib.style || {}\r\n\r\n                    const styleString = `\r\n                      padding: ${style.padding || \"10px\"};\r\n                      border-radius: ${\r\n                        style.radius ||\r\n                        (ib.variant === \"button\" ? \"999px\" : \"12px\")\r\n                      };\r\n                      background: ${\r\n                        style.background ||\r\n                        (ib.variant === \"button\"\r\n                          ? \"#0ea5e9\"\r\n                          : ib.variant === \"callout\"\r\n                          ? \"#eef2ff\"\r\n                          : \"#f1f5f9\")\r\n                      };\r\n                      box-shadow: ${\r\n                        style.shadow\r\n                          ? \"0 8px 20px rgba(0,0,0,0.15)\"\r\n                          : \"none\"\r\n                      };\r\n                      color: ${\r\n                        style.background &&\r\n                        (style.background as string).startsWith(\"#\")\r\n                          ? parseInt(\r\n                              (style.background as string).substring(1),\r\n                              16,\r\n                            ) >\r\n                            0xffffff / 2\r\n                            ? \"#000\"\r\n                            : \"#fff\"\r\n                          : \"#fff\"\r\n                      };\r\n                      border: none;\r\n                    `\r\n\r\n                    if (ib.variant === \"button\") {\r\n                      return `<button style=\"${styleString}\">${\r\n                        ib.label || \"Interactive element\"\r\n                      }</button>`\r\n                    }\r\n\r\n                    if (ib.variant === \"callout\") {\r\n                      return `<div style=\"${styleString}\">\r\n                        ${\r\n                          ib.label\r\n                            ? `<p><strong>${ib.label}</strong></p>`\r\n                            : \"\"\r\n                        }\r\n                        ${\r\n                          ib.bodyHtml ||\r\n                          \"<p style='font-size:11px;color:#6b7280;'>Add callout content from the editor.</p>\"\r\n                        }\r\n                      </div>`\r\n                    }\r\n\r\n                    if (ib.variant === \"reveal\") {\r\n                      return `\r\n                        <details ${\r\n                          ib.initiallyOpen ? \"open\" : \"\"\r\n                        } style=\"${styleString}\">\r\n                          <summary>${ib.label || \"Details\"}</summary>\r\n                          ${\r\n                            ib.bodyHtml ||\r\n                            \"<p style='font-size:11px;color:#6b7280;'>Add reveal content from the editor.</p>\"\r\n                          }\r\n                        </details>\r\n                      `\r\n                    }\r\n\r\n                    if (ib.variant === \"custom\") {\r\n                      return ib.customHtml || \"\"\r\n                    }\r\n\r\n                    return \"\"\r\n                  }\r\n\r\n                  default:\r\n                    return \"\"\r\n                }\r\n              })\r\n              .join(\"\")}\r\n          </article>\r\n        `,\r\n          )\r\n          .join(\"\")}\r\n      </body>\r\n      </html>\r\n    `\r\n    const previewWindow = window.open(\"\", \"_blank\")\r\n    if (previewWindow) {\r\n      previewWindow.document.write(htmlContent)\r\n      previewWindow.document.close()\r\n    } else {\r\n      alert(t(\"scorm.ai.popupBlocked\"))\r\n    }\r\n  }\r\n\r\n  const handleFileProcess = (file: File) => {\r\n    if (!file) return\r\n\r\n    const reader = new FileReader()\r\n\r\n    reader.onload = () => {\r\n      const result = reader.result\r\n\r\n      if (file.type.startsWith(\"image/\")) {\r\n        addBlock(\"image\", { src: result as string, alt: file.name } as ImageBlock)\r\n      } else if (file.type.startsWith(\"video/\")) {\r\n        addBlock(\"video\", { src: result as string } as VideoBlock)\r\n      } else if (file.type === \"application/json\") {\r\n        try {\r\n          const parsedData = JSON.parse(result as string)\r\n          // Try to load as EditorProject\r\n          if (\r\n            parsedData.id &&\r\n            parsedData.title &&\r\n            Array.isArray(parsedData.pages)\r\n          ) {\r\n            setProject(parsedData as EditorProject)\r\n            setActivePageId(parsedData.pages[0].id)\r\n            setSelectedBlockId(null)\r\n            alert(t(\"scorm.ai.projectLoaded\"))\r\n          }\r\n          // Try to load as QuizBlock\r\n          else if (parsedData.question && Array.isArray(parsedData.options)) {\r\n            addBlock(\"quiz\", parsedData as QuizBlock)\r\n          } else {\r\n            console.error(\"Unknown JSON format:\", parsedData)\r\n            alert(t(\"scorm.ai.invalidJsonFormat\"))\r\n          }\r\n        } catch (err) {\r\n          console.error(\"Error parsing JSON file:\", err)\r\n          alert(t(\"scorm.ai.invalidProjectFile\"))\r\n        }\r\n      } else if (file.type === \"text/csv\") {\r\n        // For CSV, create a text block with preformatted content\r\n        addBlock(\"text\", {\r\n          html: `<pre>${result as string}</pre>`,\r\n        } as TextBlock)\r\n      } else {\r\n        alert(t(\"scorm.ai.unsupportedFileType\", { type: file.type }))\r\n      }\r\n    }\r\n\r\n    if (file.type.startsWith(\"image/\") || file.type.startsWith(\"video/\")) {\r\n      reader.readAsDataURL(file)\r\n    } else if (file.type === \"application/json\" || file.type === \"text/csv\") {\r\n      reader.readAsText(file)\r\n    } else {\r\n      alert(t(\"scorm.ai.unsupportedFileType\", { type: file.type }))\r\n    }\r\n  }\r\n\r\n  const handleUploadClick = () => {\r\n    fileInputRef.current?.click()\r\n  }\r\n\r\n  const handleFileInputChange = (\r\n    event: React.ChangeEvent<HTMLInputElement>,\r\n  ) => {\r\n    const file = event.target.files?.[0]\r\n    if (file) {\r\n      handleFileProcess(file)\r\n    }\r\n    event.target.value = \"\" // Clear the input so same file can be uploaded again\r\n  }\r\n\r\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setIsDragging(true)\r\n  }\r\n\r\n  const handleDragLeave = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setIsDragging(false)\r\n  }\r\n\r\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setIsDragging(false)\r\n\r\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n      const file = e.dataTransfer.files[0]\r\n      handleFileProcess(file)\r\n      e.dataTransfer.clearData()\r\n    }\r\n  }\r\n\r\n  const handleAddMedia = () => {\r\n    const url = window.prompt(t(\"scorm.tools.mediaPrompt\")) || \"\"\r\n    if (!url.trim()) return\r\n\r\n    const imageUrlRegex = /\\.(jpeg|jpg|gif|png|webp|svg)$/i\r\n    const videoUrlRegex = /\\.(mp4|webm|ogg)$/i\r\n\r\n    if (imageUrlRegex.test(url)) {\r\n      addBlock(\"image\", {\r\n        type: \"image\",\r\n        src: url.trim(),\r\n        alt: t(\"scorm.ai.media\"),\r\n      } as ImageBlock)\r\n    } else if (videoUrlRegex.test(url)) {\r\n      addBlock(\"video\", {\r\n        type: \"video\",\r\n        src: url.trim(),\r\n      } as VideoBlock)\r\n    } else {\r\n      alert(t(\"scorm.ai.unsupportedMediaUrl\"))\r\n    }\r\n  }\r\n\r\n  const handleProjectChange = (updatedProject: EditorProject) => {\r\n    setProject(updatedProject)\r\n  }\r\n\r\n  const handleAddPage = () => {\r\n    const newPage: EditorPage = {\r\n      id: `page-${Date.now()}`,\r\n      title: t(\"scorm.tools.newPage\", { number: project.pages.length + 1 }),\r\n      blocks: [],\r\n    }\r\n    setProject((prev) => ({\r\n      ...prev,\r\n      pages: [...prev.pages, newPage],\r\n    }))\r\n    setActivePageId(newPage.id)\r\n    setSelectedBlockId(null)\r\n  }\r\n\r\n  // Render logic based on editor mode and AI chat state\r\n  if (editorMode === \"choice\") {\r\n    const start = (mode: \"ai\" | \"blank\") => {\r\n      if (mode === \"blank\") {\r\n        setProject(initialProject)\r\n        setEditorMode(mode) // Sets editorMode to \"blank\"\r\n      } else {\r\n        // mode === \"ai\"\r\n        setAiChatMode(\"visible\")\r\n        setProject(initialProject) // Initialize project for AI build as well\r\n        setEditorMode(mode) // Also sets editorMode to \"ai\"\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center min-h-[calc(100vh-4rem)] bg-slate-50\">\r\n        <div className=\"text-center w-full max-w-2xl bg-white/80 border border-slate-200 rounded-3xl shadow-sm px-4 sm:px-8 py-10\">\r\n          <h1 className=\"text-3xl font-semibold tracking-tight mb-2\">\r\n            {t(\"scorm.choice.title\")}\r\n          </h1>\r\n          <p className=\"text-sm text-slate-500 mb-8\">\r\n            {t(\"scorm.choice.description\")}\r\n          </p>\r\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\r\n            <Button\r\n              size=\"lg\"\r\n              onClick={() => start(\"ai\")}\r\n              className=\"h-auto py-4 rounded-2xl px-6\"\r\n            >\r\n              <div className=\"flex flex-col items-center gap-1\">\r\n                <MessageCircle className=\"h-6 w-6 mb-1\" />\r\n                <span className=\"font-semibold text-sm\">\r\n                  {t(\"scorm.choice.aiAssistant\")}\r\n                </span>\r\n                <span className=\"font-normal text-xs text-primary-foreground/80\">\r\n                  {t(\"scorm.choice.aiAssistantDesc\")}\r\n                </span>\r\n              </div>\r\n            </Button>\r\n            <Button\r\n              size=\"lg\"\r\n              variant=\"outline\"\r\n              onClick={() => start(\"blank\")}\r\n              className=\"h-auto py-4 rounded-2xl px-6 bg-white\"\r\n            >\r\n              <div className=\"flex flex-col items-center gap-1\">\r\n                <FilePlus className=\"h-6 w-6 mb-1\" />\r\n                <span className=\"font-semibold text-sm\">\r\n                  {t(\"scorm.choice.blankPage\")}\r\n                </span>\r\n                <span className=\"font-normal text-xs text-slate-500\">\r\n                  {t(\"scorm.choice.blankPageDesc\")}\r\n                </span>\r\n              </div>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Central AI Chat for initial project generation\r\n  if (aiChatMode === \"visible\" || aiChatMode === \"animating\") {\r\n    return (\r\n      <div className=\"fixed inset-0 z-[1000] flex items-center justify-center bg-black/50 backdrop-blur-sm\">\r\n        <div className=\"w-full max-w-xl bg-white rounded-2xl shadow-lg p-8 flex flex-col items-center justify-center\">\r\n          <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">\r\n            How can I help you today?\r\n          </h2>\r\n          <p className=\"text-sm text-slate-500 mb-8\">\r\n            Describe the lesson you want to build, and AI will generate it for\r\n            you.\r\n          </p>\r\n          <div className=\"w-full\">\r\n            {/* Container for the input form */}\r\n            <form onSubmit={handleSend} className=\"flex items-center gap-2\">\r\n              <Input\r\n                value={chatInput}\r\n                onChange={(e) => setChatInput(e.target.value)}\r\n                placeholder=\"E.g., 'Create a lesson on the water cycle for 5th graders'\"\r\n                className=\"flex-1 h-12 rounded-full bg-white border-slate-300 text-base px-5\"\r\n                disabled={isGenerating}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                className=\"rounded-full h-12 px-6 bg-sky-600 hover:bg-sky-700 text-base\"\r\n                disabled={isGenerating}\r\n              >\r\n                {isGenerating ? \"Generating...\" : \"Generate\"}\r\n              </Button>\r\n            </form>\r\n            {isGenerating && (\r\n              <div className=\"text-center text-sm text-slate-500 mt-4\">\r\n                Preparing your lesson and transitioning to the editor...\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* hidden input for upload */}\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\"image/*,video/*,application/json,text/csv\"\r\n        className=\"hidden\"\r\n        onChange={handleFileInputChange}\r\n      />\r\n\r\n      {/* navbar toggle button */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setNavVisible((v) => !v)}\r\n        className=\"fixed top-4 left-4 z-[1200] flex h-10 w-10 items-center justify-center rounded-full bg-slate-900 text-white shadow-lg hover:bg-slate-800\"\r\n        title={navVisible ? t(\"scorm.nav.hide\") : t(\"scorm.nav.show\")}\r\n      >\r\n        <span className=\"text-xl\"></span>\r\n      </button>\r\n\r\n      {/* full-page background */}\r\n      <div className=\"min-h-screen bg-slate-50 px-4 sm:px-8 pt-24 pb-4\">\r\n        {/* editor wrapper  no max width (takes full page) */}\r\n        <div className=\"w-full h-full mx-auto flex flex-col\">\r\n          <div className=\"flex-1 relative flex flex-col\">\r\n            {/* top bar */}\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  className=\"rounded-full bg-white/90 border-slate-200 text-slate-700 hover:bg-slate-50\"\r\n                  onClick={handlePreview}\r\n                >\r\n                  <Eye className=\"h-4 w-4 mr-1\" />\r\n                  {t(\"scorm.topbar.preview\")}\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  className=\"rounded-full bg-white/90 border-slate-200 text-slate-700 hover:bg-slate-50\"\r\n                  onClick={handleExport}\r\n                >\r\n                  <Download className=\"h-4 w-4 mr-1\" />\r\n                  {t(\"scorm.topbar.export\")}\r\n                </Button>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-3 text-xs text-slate-500\">\r\n                <Badge\r\n                  variant={status === \"draft\" ? \"secondary\" : \"default\"}\r\n                  className=\"text-[10px] px-2 py-0.5 rounded-full bg-slate-100 text-slate-700 border border-slate-200\"\r\n                >\r\n                  {status === \"draft\"\r\n                    ? t(\"scorm.topbar.status.draft\")\r\n                    : t(\"scorm.topbar.status.published\")}\r\n                </Badge>\r\n                <div className=\"flex items-center gap-1\">\r\n                  <Clock className=\"h-4 w-4\" />\r\n                  <span>{t(\"scorm.tools.history\")}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* canvas + properties side-by-side */}\r\n            <div className=\"flex-1 flex flex-col lg:flex-row items-stretch gap-4 mt-4\">\r\n              {/* Chat panel (left) */}\r\n              <div className=\"w-full lg:w-[320px] xl:w-[360px] transition-all duration-300 opacity-100\">\r\n                <div className=\"h-full rounded-3xl border border-slate-200 bg-white shadow-sm overflow-hidden\">\r\n                  <div className=\"flex flex-col h-full\">\r\n                    <div className=\"p-4 border-b flex items-center gap-2\">\r\n                      <span className=\"inline-flex h-8 w-8 items-center justify-center rounded-full bg-sky-100\">\r\n                        <MessageCircle className=\"h-5 w-5 text-sky-700\" />\r\n                      </span>\r\n                      <h3 className=\"font-semibold text-base text-slate-800\">\r\n                        {t(\"scorm.ai.title\")}\r\n                      </h3>\r\n                    </div>\r\n                    <div className=\"flex-1 p-4 overflow-y-auto text-sm space-y-3\">\r\n                      {messages.map((m) => (\r\n                        <div\r\n                          key={m.id}\r\n                          className={`flex ${\r\n                            m.role === \"user\"\r\n                              ? \"justify-end\"\r\n                              : \"justify-start\"\r\n                          }`}\r\n                        >\r\n                          <div\r\n                            className={\r\n                              m.role === \"user\"\r\n                                ? \"inline-block rounded-2xl rounded-br-sm bg-sky-600 text-white px-3 py-2\"\r\n                                : \"inline-block rounded-2xl rounded-bl-sm bg-white text-slate-800 px-3 py-2 border border-slate-100\"\r\n                            }\r\n                          >\r\n                            {m.agent && m.role !== \"user\" && (\r\n                              <div className=\"text-[10px] uppercase tracking-wide text-slate-400 mb-0.5\">\r\n                                {m.agent === \"mentor\"\r\n                                  ? \"Mentor AI\"\r\n                                  : m.agent === \"contentArchitect\"\r\n                                  ? \"Content Architect\"\r\n                                  : m.agent === \"assessmentDesigner\"\r\n                                  ? \"Assessment Designer\"\r\n                                  : \"\"}\r\n                              </div>\r\n                            )}\r\n                            <div>{m.content}</div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                      {pendingLesson && pendingLesson.result?.project && (\r\n                        <div className=\"rounded-2xl border border-emerald-200 bg-emerald-50/80 p-3 space-y-2 shadow-sm\">\r\n                          <div className=\"text-[11px] font-semibold text-emerald-800 uppercase tracking-wide\">\r\n                            {t(\"scorm.ai.pendingChanges\") || \"Pending approval\"}\r\n                          </div>\r\n\r\n                          {(() => {\r\n                            const proj = pendingLesson.result.project ?? pendingLesson.result\r\n                            const pages = proj.pages ?? []\r\n                            const totalBlocks = pages.reduce(\r\n                              (total, page) => total + ((page.blocks ?? []).length),\r\n                              0,\r\n                            )\r\n                            const difficulty =\r\n                              pendingLesson.result.metadata?.predictedDifficulty ?? \"n/a\"\r\n                            const tags =\r\n                              pendingLesson.result.metadata?.recommendedTags?.join(\", \") || \"n/a\"\r\n\r\n                            return (\r\n                              <p className=\"text-xs text-emerald-900\">\r\n                                {`\"${proj.title}\" has ${pages.length} page(s) with ${totalBlocks} block(s). Difficulty: ${difficulty}. Tags: ${tags}.`}\r\n                              </p>\r\n                            )\r\n                          })()}\r\n\r\n                          <div className=\"flex flex-wrap gap-1\">\r\n                            {(pendingLesson.result.project.pages ?? [])\r\n                              .slice(0, 3)\r\n                              .map((page) => (\r\n                                <Badge\r\n                                  key={page.id}\r\n                                  variant=\"secondary\"\r\n                                  className=\"bg-white text-emerald-800 border-emerald-200\"\r\n                                >\r\n                                  {page.title}: {(page.blocks ?? []).length} block(s)\r\n                                </Badge>\r\n                              ))}\r\n                          </div>\r\n\r\n                          {(pendingLesson.result.warnings ?? []).length > 0 && (\r\n                            <div className=\"text-[11px] text-amber-700 bg-amber-50 border border-amber-200 rounded-lg p-2\">\r\n                              {`Warnings: ${(pendingLesson.result.warnings ?? []).join(\"; \")}`}\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Button\r\n                              size=\"sm\"\r\n                              className=\"h-8 px-3\"\r\n                              onClick={acceptPendingLesson}\r\n                            >\r\n                              {t(\"scorm.ai.acceptChanges\") || \"Apply changes\"}\r\n                            </Button>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"outline\"\r\n                              className=\"h-8 px-3\"\r\n                              onClick={rejectPendingLesson}\r\n                            >\r\n                              {t(\"scorm.ai.rejectChanges\") || \"Discard\"}\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"p-4 border-t bg-slate-50 space-y-3\">\r\n                      <div className=\"flex flex-wrap items-center gap-2\">\r\n                        <span className=\"text-[11px] font-semibold uppercase tracking-wide text-slate-500\">\r\n                          {t(\"scorm.ai.quickInsert\") || \"Quick insert\"}\r\n                        </span>\r\n                        <Button\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          className=\"h-8 rounded-full\"\r\n                          onClick={() => addBlock(\"text\")}\r\n                        >\r\n                          <Type className=\"h-3.5 w-3.5 mr-1.5\" />\r\n                          {t(\"scorm.ai.addText\") || \"Text\"}\r\n                        </Button>\r\n                        <Button\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          className=\"h-8 rounded-full\"\r\n                          onClick={() => addBlock(\"image\")}\r\n                        >\r\n                          <Paperclip className=\"h-3.5 w-3.5 mr-1.5\" />\r\n                          {t(\"scorm.ai.addImage\") || \"Image\"}\r\n                        </Button>\r\n                        <Button\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          className=\"h-8 rounded-full\"\r\n                          onClick={() => addBlock(\"video\")}\r\n                        >\r\n                          <Eye className=\"h-3.5 w-3.5 mr-1.5\" />\r\n                          {t(\"scorm.ai.addVideo\") || \"Video\"}\r\n                        </Button>\r\n                        <Button\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          className=\"h-8 rounded-full\"\r\n                          onClick={() => addBlock(\"quiz\")}\r\n                        >\r\n                          <FileQuestion className=\"h-3.5 w-3.5 mr-1.5\" />\r\n                          {t(\"scorm.ai.addQuiz\") || \"Quiz\"}\r\n                        </Button>\r\n                        <Button\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          className=\"h-8 rounded-full\"\r\n                          onClick={() => addBlock(\"interactive\")}\r\n                        >\r\n                          <MousePointerClick className=\"h-3.5 w-3.5 mr-1.5\" />\r\n                          {t(\"scorm.ai.addInteractive\") || \"Interactive\"}\r\n                        </Button>\r\n                        <Button\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          className=\"h-8 rounded-full\"\r\n                          onClick={handleAddPage}\r\n                        >\r\n                          <LayoutDashboard className=\"h-3.5 w-3.5 mr-1.5\" />\r\n                          {t(\"scorm.ai.addPage\") || \"Page\"}\r\n                        </Button>\r\n                      </div>\r\n                      <form\r\n                        onSubmit={handleSend}\r\n                        className=\"flex items-center gap-2\"\r\n                      >\r\n                        <Input\r\n                          value={chatInput}\r\n                          onChange={(e) => setChatInput(e.target.value)}\r\n                          placeholder={t(\"scorm.ai.placeholder\")}\r\n                          className=\"flex-1 h-9 rounded-full bg-white border-slate-200\"\r\n                          disabled={isGenerating}\r\n                        />\r\n                        <Button\r\n                          type=\"submit\"\r\n                          size=\"sm\"\r\n                          className=\"rounded-full h-9 px-4 bg-sky-600 hover:bg-sky-700\"\r\n                          disabled={isGenerating}\r\n                        >\r\n                          {t(\"scorm.ai.send\")}\r\n                        </Button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Canvas (center) */}\r\n              <div\r\n                className={`relative flex-1 ${\r\n                  isDragging\r\n                    ? \"border-2 border-dashed border-sky-500 bg-sky-50/20\"\r\n                    : \"\"\r\n                }`}\r\n                onClick={() => {\r\n                  setSelectedBlockId(null)\r\n                  setRightPanel(\"block\")\r\n                }}\r\n                onDragOver={handleDragOver}\r\n                onDragLeave={handleDragLeave}\r\n                onDrop={handleDrop}\r\n              >\r\n                <div\r\n                  dir={project.theme.direction}\r\n                  className=\"bg-white rounded-2xl px-6 py-6 min-h-[520px]\"\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <div className=\"flex items-center gap-2 flex-wrap\">\r\n                      <h2 className=\"text-sm font-semibold mr-2 text-slate-800\">\r\n                        {t(\"scorm.canvas.title\")}\r\n                      </h2>\r\n                      <div className=\"flex flex-wrap gap-1\">\r\n                        {project.pages.map((page) => (\r\n                          <button\r\n                            key={page.id}\r\n                            type=\"button\"\r\n                            onClick={(e) => {\r\n                              e.stopPropagation()\r\n                              setActivePageId(page.id)\r\n                              setSelectedBlockId(null)\r\n                            }}\r\n                            className={\r\n                              \"px-3 py-1 rounded-full text-xs border transition-colors \" +\r\n                              (page.id === activePage.id\r\n                                ? \"bg-sky-600 text-white border-sky-600\"\r\n                                : \"bg-white text-slate-600 border-slate-200 hover:bg-slate-50\")\r\n                            }\r\n                          >\r\n                            {page.title}\r\n                          </button>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"rounded-full hover:bg-slate-100\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        handleSave()\r\n                      }}\r\n                    >\r\n                      <Save className=\"h-4 w-4 text-slate-700\" />\r\n                    </Button>\r\n                  </div>\r\n\r\n                  <div className=\"max-h-[600px] overflow-auto pr-1\">\r\n                    \r\n                    {activePage && activeBlocks.length > 0 ? (\r\n                      <div className=\"space-y-4\">\r\n                          {activeBlocks.map((block) => {\r\n                          const isSelected = selectedBlock?.id === block.id\r\n                          const isHighlighted =\r\n                            highlightedBlockIds.includes(block.id)\r\n                          return (\r\n                            <div key={block.id}>\r\n                              <div\r\n                                className={`rounded-2xl border px-4 py-3 bg-white transition-shadow cursor-pointer ${\r\n                                  isSelected\r\n                                    ? \"ring-2 ring-sky-500 shadow-md\"\r\n                                    : \"hover:shadow-sm border-slate-200\"\r\n                                } ${\r\n                                  isHighlighted\r\n                                    ? \"bg-emerald-50 border-emerald-200 ring-2 ring-emerald-300/70\"\r\n                                    : \"\"\r\n                                }`}\r\n                                onClick={(e) => {\r\n                                  e.stopPropagation()\r\n                                  handleBlockClick(block)\r\n                                }}\r\n                              >\r\n                                <BlockRenderer\r\n                                  block={block}\r\n                                  theme={project.theme}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          )\r\n                        })}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"text-center space-y-3 py-12\">\r\n                        <h2 className=\"text-base sm:text-lg font-semibold text-slate-800\">\r\n                          {t(\"scorm.canvas.title\")}\r\n                        </h2>\r\n                        <p className=\"text-xs sm:text-sm text-slate-500\">\r\n                          {t(\"scorm.canvas.desc\")}\r\n                        </p>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          type=\"button\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            addBlock(\"text\")\r\n                          }}\r\n                          className=\"rounded-full border-sky-500 text-sky-700 hover:bg-sky-50\"\r\n                        >\r\n                          <MousePointerClick className=\"mr-2 h-4 w-4\" />\r\n                          {t(\"scorm.canvas.start\")}\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Properties panel (right) */}\r\n              <div className=\"w-full lg:w-[320px] xl:w-[360px] transition-all duration-300 opacity-100\">\r\n                <div className=\"h-full rounded-3xl border border-slate-200 bg-white shadow-sm overflow-hidden\">\r\n                  <PropertiesPanel\r\n                    project={project}\r\n                    onProjectChange={handleProjectChange}\r\n                    selectedBlock={selectedBlock}\r\n                    onBlockChange={handleBlockChange}\r\n                    panelType={rightPanel}\r\n                    onAddPage={handleAddPage}\r\n                    onExport={handleExport}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* floating editing bar */}\r\n      <div className=\"fixed bottom-6 left-1/2 -translate-x-1/2 z-[999]\">\r\n        <div className=\"inline-flex items-center gap-0.5 rounded-full bg-white/95 shadow-[0_12px_30px_rgba(15,23,42,0.18)] px-2.5 py-1.5 border border-slate-200 backdrop-blur-md\">\r\n          <IconToolButton\r\n            onClick={handleUploadClick}\r\n            icon={<Upload className=\"h-4 w-4\" />}\r\n            label=\"scorm.tools.upload\"\r\n          />\r\n          <IconToolButton\r\n            onClick={() => addBlock(\"interactive\")}\r\n            icon={<MousePointerClick className=\"h-4 w-4\" />}\r\n            label=\"scorm.tools.interactive\"\r\n          />\r\n          <IconToolButton\r\n            onClick={() => addBlock(\"quiz\")}\r\n            icon={<FileQuestion className=\"h-4 w-4\" />}\r\n            label=\"scorm.tools.quiz\"\r\n          />\r\n          <IconToolButton\r\n            onClick={() => {\r\n              setRightPanel(\"project\")\r\n              setSelectedBlockId(null)\r\n            }}\r\n            icon={<LayoutDashboard className=\"h-4 w-4\" />}\r\n            label=\"scorm.tools.pageEditor\"\r\n          />\r\n          <IconToolButton\r\n            onClick={handleAddMedia}\r\n            icon={<Paperclip className=\"h-4 w-4\" />}\r\n            label=\"scorm.tools.media\"\r\n          />\r\n          <IconToolButton\r\n            onClick={() => addBlock(\"text\")}\r\n            icon={<Type className=\"h-4 w-4\" />}\r\n            label=\"scorm.tools.text\"\r\n          />\r\n          <IconToolButton\r\n            onClick={() => {\r\n              setRightPanel(\"project\")\r\n              setSelectedBlockId(null)\r\n            }}\r\n            icon={<Settings className=\"h-4 w-4\" />}\r\n            label=\"scorm.tools.settings\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction IconToolButton({\r\n  icon,\r\n  label,\r\n  onClick,\r\n  emphasis,\r\n}: {\r\n  icon: ReactNode\r\n  label: string\r\n  onClick?: () => void\r\n  emphasis?: boolean\r\n}) {\r\n  const { t } = useLocale()\r\n  const translatedLabel = t(label as any)\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      type=\"button\"\r\n      title={translatedLabel}\r\n      className={\r\n        \"flex h-9 w-9 items-center justify-center rounded-full text-slate-700 transition-colors \" +\r\n        (emphasis ? \"bg-sky-600 text-white hover:bg-sky-700\" : \"hover:bg-slate-100\")\r\n      }\r\n      disabled={!onClick}\r\n    >\r\n      {icon}\r\n      <span className=\"sr-only\">{translatedLabel}</span>\r\n    </button>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAQA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AACA;;;AA9CA;;;;;;;;;;;;;AAkDe,SAAS;;IACtB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sIAAS;IACvB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,iJAAW;IAEhC,MAAM,iBAAgC;QACpC,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;QACxB,OAAO,EAAE;QACT,SAAS;QACT,OAAO;YACL,WAAW;YACX,QAAQ,CAAC;QACX;QACA,UAAU;YACR,OAAO;YACP,WAAW;YACX,kBAAkB;YAClB,OAAO;YACP,OAAO;YACP,eAAe;YACf,aAAa;YACb,UAAU;QACZ;QACA,MAAM;YACJ,aAAa;YACb,WAAW;YACX,kBAAkB;YAClB,qBAAqB;QACvB;QACA,OAAO;YACL;gBACE,IAAI;gBACJ,OAAO,EAAE;gBACT,QAAQ,EAAE;YACZ;SACD;IACH;IAEA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAgB;IACtD,MAAM,uBAAuB,CAAC,QAAQ,KAAK,CAAC,EAAE,EAAE,UAAU,EAAE,EAAE,MAAM;IAEpE,MAAM,aACJ,QAAQ,KAAK,CAAC,MAAM,GAAG,KAAK,uBAAuB;IAErD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAC1C,aAAa,OAAO;IAGtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAS,QAAQ,KAAK,CAAC,EAAE,EAAE;IAC3E,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAgB;IAEtE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAS;IAC7C,MAAM,CAAC,YAAY,cAAc,GAC/B,IAAA,yKAAQ,EAAqC;IAE/C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAgB,EAAE;IAExE,IAAA,0KAAS;iCAAC;YACR,IAAI,gBAAgB,MAAM,KAAK,GAAG;gBAChC,mBAAmB;oBACjB;wBACE,IAAI;wBACJ,MAAM;wBACN,SAAS,EAAE;oBACb;iBACD;YACH;QACF;gCAAG;QAAC;QAAG,gBAAgB,MAAM;KAAC;IAE9B,MAAM,eAAe,IAAA,uKAAM,EAA0B;IACrD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB;IACxD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAC3E,MAAM,oBAAoB,IAAA,uKAAM,EAAwB;IAExD,gBAAgB;IAChB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,IAAA,0KAAS;iCAAC;YACR,MAAM,MAAM,SAAS,cAAc,CAAC;YACpC,IAAI,CAAC,KAAK;YAEV,MAAM,kBAAkB,IAAI,KAAK,CAAC,OAAO;YACzC,IAAI,YAAY;gBACd,IAAI,KAAK,CAAC,OAAO,GAAG,mBAAmB;YACzC,OAAO;gBACL,IAAI,KAAK,CAAC,OAAO,GAAG;YACtB;YAEA;yCAAO;oBACL,IAAI,KAAK,CAAC,OAAO,GAAG,mBAAmB;gBACzC;;QACF;gCAAG;QAAC;KAAW;IAEf,MAAM,iBAAiB,IAAA,4KAAW;mDAAC,CAAC;YAClC,IAAI,kBAAkB,OAAO,EAAE;gBAC7B,aAAa,kBAAkB,OAAO;YACxC;YAEA,uBAAuB;YAEvB,kBAAkB,OAAO,GAAG;2DAAW;oBACrC,uBAAuB,EAAE;gBAC3B;0DAAG;QACL;kDAAG,EAAE;IAEL,IAAA,0KAAS;iCAAC;YACR;yCAAO;oBACL,IAAI,kBAAkB,OAAO,EAAE;wBAC7B,aAAa,kBAAkB,OAAO;oBACxC;gBACF;;QACF;gCAAG,EAAE;IAEP,MAAM,eAA2B;QAC/B,IAAI;QACJ,OAAO,EAAE;QACT,QAAQ,EAAE;IACZ;IAEA,MAAM,aACJ,QAAQ,KAAK,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,iBACnC,QAAQ,KAAK,CAAC,EAAE,IAChB;IACF,MAAM,eAAe,YAAY,UAAU,EAAE;IAE7C,MAAM,gBACJ,CAAC,WAAW,MAAM,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,oBAAoB;IAGnE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAsB;IAElE,MAAM,mBAAmB,IAAA,4KAAW;qDAAC,CAAC;YACpC,mBAAmB,MAAM,EAAE;YAC3B,cAAc;QAChB;oDAAG,EAAE;IAEL,MAAM,oBAAoB,CAAC;QACzB,WAAW,CAAC;YACV,MAAM,eAAe,YAAY,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC1C,IAAI,EAAE,EAAE,KAAK,cAAc;oBACzB,MAAM,gBAAgB,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,IAClC,EAAE,EAAE,KAAK,aAAa,EAAE,GAAG,eAAe;oBAE5C,OAAO;wBAAE,GAAG,CAAC;wBAAE,QAAQ;oBAAc;gBACvC;gBACA,OAAO;YACT;YACA,OAAO;gBAAE,GAAG,WAAW;gBAAE,OAAO;YAAa;QAC/C;IACF;IAEA,MAAM,EACJ,QAAQ,EACR,SAAS,EACT,YAAY,EACZ,YAAY,EACZ,YAAY,EACZ,aAAa,EACb,mBAAmB,EACnB,mBAAmB,EACpB,GAAG,IAAA,oIAAU,EAAC;QACb;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;IACnB;IAEA,MAAM,aAAa,OAAO;QACxB,EAAE,cAAc;QAChB,MAAM,SAAS,UAAU,IAAI;QAC7B,IAAI,CAAC,QAAQ;QAEb,sEAAsE;QACtE,MAAM,sBAAsB,eAAe;QAE3C,aAAa,QAAQ;IACvB;IAEA,MAAM,aAAa;QACjB,MAAM,UAAU,CAAC;YACf,MAAM,EACJ,MAAM,EAAE,OAAO,EAAE,EACjB,OAAO,YAAY,EACpB,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;YAElC,IAAI,cAAc;gBAChB,QAAQ,KAAK,CAAC,0BAA0B;YAC1C;YAEA,IAAI,CAAC,SAAS,cAAc;gBAC1B,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,QAAQ,YAAY,EAAE;gBACjD;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACvD,MAAM,UAAU,UAAU,KAAK,IAAI;gBACnC,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI;YACpC,UAAU;YACV,OAAO;QACT,CAAC;QAED,oJAAK,CAAC,OAAO,CAAC,SAAS;YACrB,SAAS;YACT,SAAS,IAAM,CAAC,2BAA2B,CAAC;YAC5C,OAAO,CAAC,QAAU,MAAM,OAAO,IAAI;QACrC;IACF;IAEA,MAAM,eAAe,CAAC,MAAY;QAChC,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;QACvC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG;QACb,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,EAAE,KAAK;QACP,EAAE,MAAM;QACR,OAAO,GAAG,CAAC,eAAe,CAAC;IAC7B;IAEA,MAAM,wBAAwB,CAAC;QAC7B,OAAQ,MAAM,IAAI;YAChB,KAAK;gBAAQ;oBACX,MAAM,YAAY;oBAClB,OAAO,CAAC,KAAK,EAAE,UAAU,IAAI,CAAC,MAAM,CAAC;gBACvC;YACA,KAAK;gBAAS;oBACZ,MAAM,MAAM;oBACZ,MAAM,MAAM,IAAI,GAAG,IAAI,EAAE;oBACzB,OAAO,CAAC,kBAAkB,EAAE,IAAI,GAAG,CAAC,OAAO,EAAE,IAAI,gBAAgB,EAAE,IAAI,sBAAsB,CAAC;gBAChG;YACA,KAAK;gBAAS;oBACZ,MAAM,MAAM;oBACZ,OAAO,CAAC,YAAY,EAAE,IAAI,GAAG,CAAC,mBAAmB,CAAC;gBACpD;YACA,KAAK;gBAAQ;oBACX,MAAM,YAAY;oBAClB,MAAM,UAAU,CAAC,UAAU,OAAO,IAAI,EAAE,EACrC,GAAG,CACF,CAAC,IAAM,CAAC;;0CAEsB,EAAE,UAAU,EAAE,CAAC,SAAS,EAAE,EAAE,EAAE,CAAC,KAAK,EAAE,EAAE,KAAK,CAAC;;YAE5E,CAAC,EAEF,IAAI,CAAC;oBAER,OAAO,CAAC;;uBAEO,EAAE,UAAU,QAAQ,CAAC;iBAC3B,EAAE,QAAQ;;QAEnB,CAAC;gBACH;YACA,KAAK;gBAAe;oBAClB,MAAM,cAAc;oBACpB,IAAI,YAAY,OAAO,KAAK,UAAU;wBACpC,OAAO,CAAC,QAAQ,EAAE,YAAY,KAAK,IAAI,cAAc,SAAS,CAAC;oBACjE;oBAEA,IAAI,YAAY,OAAO,KAAK,WAAW;wBACrC,OAAO,CAAC,gBAAgB,EACtB,YAAY,KAAK,IAAI,UACtB,kBAAkB,EAAE,YAAY,QAAQ,IAAI,GAAG,YAAY,CAAC;oBAC/D;oBAEA,IAAI,YAAY,OAAO,KAAK,UAAU;wBACpC,OAAO,CAAC,SAAS,EACf,YAAY,aAAa,GAAG,SAAS,GACtC,UAAU,EACT,YAAY,KAAK,IAAI,OACtB,eAAe,EAAE,YAAY,QAAQ,IAAI,GAAG,gBAAgB,CAAC;oBAChE;oBAEA,OAAO,CAAC,KAAK,EAAE,YAAY,UAAU,IAAI,YAAY,QAAQ,IAAI,GAAG,MAAM,CAAC;gBAC7E;YACA;gBACE,OAAO;QACX;IACF;IAEA,MAAM,sBAAsB,CAAC;QAC3B,MAAM,YAAY,QAAQ,KAAK,CAC5B,GAAG,CACF,CAAC,OAAS,CAAC;;0CAEuB,EAAE,KAAK,KAAK,CAAC;UAC7C,EAAE,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,QAAU,sBAAsB,QAAQ,IAAI,CAAC,MAAM;;MAE1E,CAAC,EAEA,IAAI,CAAC;QAER,OAAO,CAAC;yBACa,EAAE,QAAQ,KAAK,CAAC,SAAS,CAAC;;;;eAIpC,EAAE,MAAM;;;;;;;;;;wCAUiB,EAAE,MAAM;QACxC,EAAE,UAAU;;WAET,CAAC;IACV;IAEA,MAAM,cAAc;QAClB,MAAM,UAAU,QAAQ,KAAK,CAC1B,OAAO,CACN,CAAC,OAAS,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,SAEhD,GAAG,CACF,CAAC,OAAS,CAAC;oCACiB,EAAE,KAAK,EAAE,CAAC,SAAS,EAAE,KAAK,QAAQ,CAAC;;;;sBAIjD,EAAE,KAAK,QAAQ,CAAC;cACxB,EAAE,CAAC,KAAK,OAAO,IAAI,EAAE,EAClB,GAAG,CACF,CAAC,SAAW,CAAC;0CACW,EAAE,OAAO,EAAE,CAAC,CAAC,EACnC,OAAO,OAAO,GAAG,yBAAyB,GAC3C,CAAC,EAAE,OAAO,KAAK,CAAC;cACrB,CAAC,EAEE,IAAI,CAAC,MAAM;;;yBAGH,CAAC,EAEnB,IAAI,CAAC;QAER,OAAO,CAAC;;AAEZ,EAAE,WAAW,2EAA2E;uBACjE,CAAC;IACtB;IAEA,MAAM,sBAAsB,CAAC;QACzB,MAAM,kBAAkB,QAAQ,KAAK,CAClC,GAAG,CAAC,CAAC,MAAM;YACV,MAAM,aAAa,CAAC,KAAK,MAAM,IAAI,EAAE,EAAE,MAAM;YAC7C,OAAO,GAAG,QAAQ,EAAE,EAAE,EAAE,KAAK,KAAK,CAAC,EAAE,EAAE,WAAW,QAAQ,CAAC;QAC7D,GACD,IAAI,CAAC;QAGR,MAAM,aAAa,CAAC;;;;iBAIP,EAAE,QAAQ,KAAK,CAAC,GAAG,EAAE,KAAK;;;;;;;;;;cAU7B,EAAE,QAAQ,KAAK,CAAC;kCACI,EACtB,SAAS,YAAY,eAAe,UACrC,UAAU,EAAE,QAAQ,KAAK,CAAC,MAAM,CAAC;;;iBAG3B,EAAE,mBAAmB,qBAAqB;;;;;;;aAO9C,CAAC;QAEV,MAAM,MAAM,OAAO,IAAI,CAAC,IAAI;QAC5B,IAAI,KAAK;YACP,IAAI,QAAQ,CAAC,KAAK,CAAC;YACnB,IAAI,QAAQ,CAAC,KAAK;YAClB,IAAI,KAAK;YACT,IAAI,KAAK;QACX,OAAO;YACL,aACE,IAAI,KAAK;gBAAC;aAAW,EAAE;gBAAE,MAAM;YAAY,IAC3C,GAAG,QAAQ,KAAK,IAAI,SAAS,CAAC,EAAE,KAAK,KAAK,CAAC;QAE/C;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI,UAAU,OAAO;QACrB,MAAM,OAAO,oBAAoB,QAAQ,KAAK;QAC9C,MAAM,OAAO,IAAI,KAAK;YAAC;SAAK,EAAE;YAAE,MAAM;QAAY;QAClD,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,YAAY;QACZ,OAAO;IACT;IAEA,sCAAsC;IACtC,MAAM,eAAe,OAAO,SAAsC,KAAK;QACrE,MAAM,SACJ,WAAW,QAAQ,YAAY,WAAW,SAAS,cAAc;QAEnE,MAAM,OAAO,CAAC,QAAQ,KAAK,IAAI,eAAe,EAC3C,OAAO,CAAC,gBAAgB,KACxB,OAAO,CAAC,YAAY,IACpB,WAAW;QAEd,IAAI;YACF,OAAQ;gBACN,KAAK;gBACL,KAAK;oBAAa;wBAChB,MAAM,OAAO,MAAM,IAAA,4IAAa,EAC9B,SACA,WAAW,YAAY,QAAQ;wBAEjC,aAAa,MAAM,GAAG,QAAQ,gBAAgB,IAAI,CAAC;wBACnD,UAAU;wBACV,oJAAK,CAAC,OAAO,CAAC,EAAE,6BAA6B;wBAC7C;oBACF;gBACA,KAAK;oBAAQ;wBACX,MAAM,UAAU;4BACd,YAAY,IAAI,OAAO,WAAW;4BAClC;4BACA,MAAM,QAAQ,IAAI;4BAClB,UAAU,QAAQ,QAAQ;wBAC5B;wBACA,aACE,IAAI,KAAK;4BAAC,KAAK,SAAS,CAAC,SAAS,MAAM;yBAAG,EAAE;4BAC3C,MAAM;wBACR,IACA,GAAG,QAAQ,SAAS,UAAU,CAAC;wBAEjC,oJAAK,CAAC,OAAO,CAAC;wBACd;oBACF;gBACA,KAAK;oBAAS;wBACZ,MAAM,OAAO,oBAAoB,QAAQ,KAAK;wBAC9C,aACE,IAAI,KAAK;4BAAC;yBAAK,EAAE;4BAAE,MAAM;wBAAY,IACrC,GAAG,QAAQ,SAAS,aAAa,CAAC;wBAEpC,oJAAK,CAAC,OAAO,CAAC;wBACd;oBACF;gBACA,KAAK;oBAAc;wBACjB,MAAM,MAAM;wBACZ,OAAO,IAAI,CAAC,KAAK;wBACjB,oJAAK,CAAC,OAAO,CAAC;wBACd;oBACF;gBACA,KAAK;oBAAa;wBAChB,MAAM,MAAM;wBACZ,MAAM,SAAS,CAAC,aAAa,EAAE,IAAI,mCAAmC,EAAE,QAAQ,KAAK,CAAC,WAAW,CAAC;wBAClG,UAAU,SAAS,EAAE,UAAU,QAAQ,MAAM,IAAM;wBACnD,oJAAK,CAAC,OAAO,CAAC;wBACd;oBACF;gBACA,KAAK;oBAAc;wBACjB,oBAAoB;wBACpB,oJAAK,CAAC,OAAO,CAAC;wBACd;oBACF;gBACA,KAAK;oBAAc;wBACjB,oBAAoB;wBACpB,oJAAK,CAAC,OAAO,CAAC;wBACd;oBACF;gBACA,KAAK;oBAAQ;wBACX,aACE,IAAI,KAAK;4BAAC,KAAK,SAAS,CAAC,SAAS,MAAM;yBAAG,EAAE;4BAC3C,MAAM;wBACR,IACA,GAAG,QAAQ,SAAS,KAAK,CAAC;wBAE5B,oJAAK,CAAC,OAAO,CAAC;wBACd;oBACF;gBACA,KAAK;oBAAO;wBACV,MAAM,MAAM;wBACZ,aACE,IAAI,KAAK;4BAAC;yBAAI,EAAE;4BAAE,MAAM;wBAAkB,IAC1C,GAAG,QAAQ,SAAS,QAAQ,CAAC;wBAE/B,oJAAK,CAAC,OAAO,CAAC;wBACd;oBACF;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,MAAM,WAAW,EAAE;YACnB,MAAM,UACJ,iBAAiB,SAAS,MAAM,OAAO,GAAG,MAAM,OAAO,GAAG;YAC5D,oJAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,WAAW,CAAC,MAA2B;QAC3C,IAAI;QAEJ,IAAI,MAAM;YACR,WAAW;gBAAE,GAAG,IAAI;gBAAE,IAAI,CAAC,MAAM,EAAE,KAAK,GAAG,IAAI;gBAAE;YAAK;QACxD,OAAO;YACL,MAAM,YAAY;gBAAE,IAAI,CAAC,MAAM,EAAE,KAAK,GAAG,IAAI;YAAC;YAE9C,OAAQ;gBACN,KAAK;oBACH,WAAW;wBACT,GAAG,SAAS;wBACZ,MAAM;wBACN,MAAM,EAAE;oBACV;oBACA;gBACF,KAAK;oBACH,WAAW;wBACT,GAAG,SAAS;wBACZ,MAAM;wBACN,KAAK;wBACL,KAAK,EAAE;oBACT;oBACA;gBACF,KAAK;oBACH,WAAW;wBACT,GAAG,SAAS;wBACZ,MAAM;wBACN,KAAK;oBACP;oBACA;gBACF,KAAK;oBACH,WAAW;wBACT,GAAG,SAAS;wBACZ,MAAM;wBACN,UAAU,EAAE;wBACZ,SAAS;4BACP;gCAAE,IAAI;gCAAK,OAAO,EAAE;gCAAqB,SAAS;4BAAK;4BACvD;gCAAE,IAAI;gCAAK,OAAO,EAAE;gCAAqB,SAAS;4BAAM;yBACzD;oBACH;oBACA;gBACF,KAAK;oBAAe;wBAClB,MAAM,MAAM,EAAE;wBACd,MAAM,QACJ,OAAO,QAAQ,sCACX,MACA;wBAEN,WAAW;4BACT,GAAG,SAAS;4BACZ,MAAM;4BACN,SAAS;4BACT;4BACA,KAAK;4BACL,UAAU;4BACV,OAAO;gCACL,SAAS;gCACT,QAAQ;gCACR,YAAY;gCACZ,QAAQ;4BACV;wBACF;wBACA;oBACF;gBACA;oBACE;YACJ;QACF;QAEA,WAAW,CAAC;YACV,MAAM,eAAe,YAAY,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC1C,IAAI,EAAE,EAAE,KAAK,cAAc;oBACzB,MAAM,YAAY;2BAAI,EAAE,MAAM;wBAAE;qBAAS;oBACzC,OAAO;wBAAE,GAAG,CAAC;wBAAE,QAAQ;oBAAU;gBACnC;gBACA,OAAO;YACT;YACA,OAAO;gBAAE,GAAG,WAAW;gBAAE,OAAO;YAAa;QAC/C;QAEA,eAAe;YAAC,SAAS,EAAE;SAAC;QAC5B,mBAAmB,SAAS,EAAE;QAC9B,OAAO;IACT;IAEA,MAAM,gBAAgB;QACpB,MAAM,cAAc,CAAC;;iBAER,EAAE,QAAQ,KAAK,CAAC,SAAS,CAAC;;;eAG5B,EAAE,EAAE,yBAAyB;YAAE,OAAO,QAAQ,KAAK;QAAC,GAAG;;;;;;;;;;;;;;YAc1D,EAAE,QAAQ,KAAK,CAAC;QACpB,EAAE,QAAQ,KAAK,CACZ,GAAG,CACF,CAAC,OAAS,CAAC;;gBAEP,EAAE,KAAK,KAAK,CAAC;YACjB,EAAE,KAAK,MAAM,CACV,GAAG,CAAC,CAAC;gBACJ,OAAQ,MAAM,IAAI;oBAChB,KAAK;wBAAQ;4BACX,MAAM,YAAY;4BAClB,MAAM,QAAQ,UAAU,KAAK,IAAI,CAAC;4BAClC,MAAM,cAAc,CAAC;mCACN,EAAE,MAAM,IAAI,GAAG,SAAS,SAAS;kCAClC,EAAE,MAAM,MAAM,GAAG,WAAW,SAAS;uCAChC,EAAE,MAAM,SAAS,GAAG,cAAc,OAAO;iCAC/C,EAAE,MAAM,IAAI,IAAI,UAAU;kCACzB,EAAE,MAAM,KAAK,IAAI,OAAO;iCACzB,EAAE,MAAM,SAAS,IAAI,MAAM;6BAC/B,EAAE,MAAM,KAAK,IAAI,UAAU;kCACtB,EAAE,MAAM,UAAU,IAAI,cAAc;+BACvC,EAAE,MAAM,OAAO,IAAI,IAAI;qCACjB,EAAE,MAAM,MAAM,IAAI,IAAI;mCACxB,EAAE,MAAM,UAAU,IAAI,UAAU;oBAC/C,CAAC;4BACD,OAAO,CAAC,YAAY,EAAE,YAAY,EAAE,EAAE,UAAU,IAAI,CAAC,MAAM,CAAC;wBAC9D;oBAEA,KAAK;wBAAS;4BACZ,MAAM,MAAM;4BACZ,MAAM,MAAM,IAAI,GAAG,IAAI,EAAE;4BACzB,OAAO,CAAC,kBAAkB,EAAE,IAAI,GAAG,CAAC,OAAO,EAAE,IAAI,cAAc,EAAE,IAAI,sBAAsB,CAAC;wBAC9F;oBAEA,KAAK;wBAAS;4BACZ,MAAM,MAAM;4BACZ,OAAO,CAAC,YAAY,EAAE,IAAI,GAAG,CAAC,mBAAmB,CAAC;wBACpD;oBAEA,KAAK;wBAAQ;4BACX,MAAM,YAAY;4BAClB,OAAO,CAAC;;;kCAGM,EAAE,UAAU,QAAQ,CAAC;0BAC7B,EAAE,CAAC,UAAU,OAAO,IAAI,EAAE,EACvB,GAAG,CACF,CAAC,IAAM,CAAC;;wDAEkB,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,CAAC,SAAS,EAAE,EAAE,EAAE,CAAC;4CAC1D,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC;;4BAEnC,CAAC,EAEA,IAAI,CAAC,IAAI;;;oBAGlB,CAAC;wBACH;oBAEA,KAAK;wBAAe;4BAClB,MAAM,KAAK;4BACX,MAAM,QAAQ,GAAG,KAAK,IAAI,CAAC;4BAE3B,MAAM,cAAc,CAAC;+BACV,EAAE,MAAM,OAAO,IAAI,OAAO;qCACpB,EACb,MAAM,MAAM,IACZ,CAAC,GAAG,OAAO,KAAK,WAAW,UAAU,MAAM,EAC5C;kCACW,EACV,MAAM,UAAU,IAChB,CAAC,GAAG,OAAO,KAAK,WACZ,YACA,GAAG,OAAO,KAAK,YACf,YACA,SAAS,EACd;kCACW,EACV,MAAM,MAAM,GACR,gCACA,OACL;6BACM,EACL,MAAM,UAAU,IAChB,AAAC,MAAM,UAAU,CAAY,UAAU,CAAC,OACpC,SACE,AAAC,MAAM,UAAU,CAAY,SAAS,CAAC,IACvC,MAEF,WAAW,IACT,SACA,SACF,OACL;;oBAEH,CAAC;4BAED,IAAI,GAAG,OAAO,KAAK,UAAU;gCAC3B,OAAO,CAAC,eAAe,EAAE,YAAY,EAAE,EACrC,GAAG,KAAK,IAAI,sBACb,SAAS,CAAC;4BACb;4BAEA,IAAI,GAAG,OAAO,KAAK,WAAW;gCAC5B,OAAO,CAAC,YAAY,EAAE,YAAY;wBAChC,EACE,GAAG,KAAK,GACJ,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC,aAAa,CAAC,GACrC,GACL;wBACD,EACE,GAAG,QAAQ,IACX,oFACD;4BACG,CAAC;4BACT;4BAEA,IAAI,GAAG,OAAO,KAAK,UAAU;gCAC3B,OAAO,CAAC;iCACG,EACP,GAAG,aAAa,GAAG,SAAS,GAC7B,QAAQ,EAAE,YAAY;mCACZ,EAAE,GAAG,KAAK,IAAI,UAAU;0BACjC,EACE,GAAG,QAAQ,IACX,mFACD;;sBAEL,CAAC;4BACH;4BAEA,IAAI,GAAG,OAAO,KAAK,UAAU;gCAC3B,OAAO,GAAG,UAAU,IAAI;4BAC1B;4BAEA,OAAO;wBACT;oBAEA;wBACE,OAAO;gBACX;YACF,GACC,IAAI,CAAC,IAAI;;QAEhB,CAAC,EAEE,IAAI,CAAC,IAAI;;;IAGhB,CAAC;QACD,MAAM,gBAAgB,OAAO,IAAI,CAAC,IAAI;QACtC,IAAI,eAAe;YACjB,cAAc,QAAQ,CAAC,KAAK,CAAC;YAC7B,cAAc,QAAQ,CAAC,KAAK;QAC9B,OAAO;YACL,MAAM,EAAE;QACV;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,CAAC,MAAM;QAEX,MAAM,SAAS,IAAI;QAEnB,OAAO,MAAM,GAAG;YACd,MAAM,SAAS,OAAO,MAAM;YAE5B,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;gBAClC,SAAS,SAAS;oBAAE,KAAK;oBAAkB,KAAK,KAAK,IAAI;gBAAC;YAC5D,OAAO,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;gBACzC,SAAS,SAAS;oBAAE,KAAK;gBAAiB;YAC5C,OAAO,IAAI,KAAK,IAAI,KAAK,oBAAoB;gBAC3C,IAAI;oBACF,MAAM,aAAa,KAAK,KAAK,CAAC;oBAC9B,+BAA+B;oBAC/B,IACE,WAAW,EAAE,IACb,WAAW,KAAK,IAChB,MAAM,OAAO,CAAC,WAAW,KAAK,GAC9B;wBACA,WAAW;wBACX,gBAAgB,WAAW,KAAK,CAAC,EAAE,CAAC,EAAE;wBACtC,mBAAmB;wBACnB,MAAM,EAAE;oBACV,OAEK,IAAI,WAAW,QAAQ,IAAI,MAAM,OAAO,CAAC,WAAW,OAAO,GAAG;wBACjE,SAAS,QAAQ;oBACnB,OAAO;wBACL,QAAQ,KAAK,CAAC,wBAAwB;wBACtC,MAAM,EAAE;oBACV;gBACF,EAAE,OAAO,KAAK;oBACZ,QAAQ,KAAK,CAAC,4BAA4B;oBAC1C,MAAM,EAAE;gBACV;YACF,OAAO,IAAI,KAAK,IAAI,KAAK,YAAY;gBACnC,yDAAyD;gBACzD,SAAS,QAAQ;oBACf,MAAM,CAAC,KAAK,EAAE,OAAiB,MAAM,CAAC;gBACxC;YACF,OAAO;gBACL,MAAM,EAAE,gCAAgC;oBAAE,MAAM,KAAK,IAAI;gBAAC;YAC5D;QACF;QAEA,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,aAAa,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;YACpE,OAAO,aAAa,CAAC;QACvB,OAAO,IAAI,KAAK,IAAI,KAAK,sBAAsB,KAAK,IAAI,KAAK,YAAY;YACvE,OAAO,UAAU,CAAC;QACpB,OAAO;YACL,MAAM,EAAE,gCAAgC;gBAAE,MAAM,KAAK,IAAI;YAAC;QAC5D;IACF;IAEA,MAAM,oBAAoB;QACxB,aAAa,OAAO,EAAE;IACxB;IAEA,MAAM,wBAAwB,CAC5B;QAEA,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACpC,IAAI,MAAM;YACR,kBAAkB;QACpB;QACA,MAAM,MAAM,CAAC,KAAK,GAAG,IAAG,qDAAqD;IAC/E;IAEA,MAAM,iBAAiB,CAAC;QACtB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,cAAc;IAChB;IAEA,MAAM,kBAAkB,CAAC;QACvB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,cAAc;IAChB;IAEA,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,cAAc;QAEd,IAAI,EAAE,YAAY,CAAC,KAAK,IAAI,EAAE,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG;YAC3D,MAAM,OAAO,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE;YACpC,kBAAkB;YAClB,EAAE,YAAY,CAAC,SAAS;QAC1B;IACF;IAEA,MAAM,iBAAiB;QACrB,MAAM,MAAM,OAAO,MAAM,CAAC,EAAE,+BAA+B;QAC3D,IAAI,CAAC,IAAI,IAAI,IAAI;QAEjB,MAAM,gBAAgB;QACtB,MAAM,gBAAgB;QAEtB,IAAI,cAAc,IAAI,CAAC,MAAM;YAC3B,SAAS,SAAS;gBAChB,MAAM;gBACN,KAAK,IAAI,IAAI;gBACb,KAAK,EAAE;YACT;QACF,OAAO,IAAI,cAAc,IAAI,CAAC,MAAM;YAClC,SAAS,SAAS;gBAChB,MAAM;gBACN,KAAK,IAAI,IAAI;YACf;QACF,OAAO;YACL,MAAM,EAAE;QACV;IACF;IAEA,MAAM,sBAAsB,CAAC;QAC3B,WAAW;IACb;IAEA,MAAM,gBAAgB;QACpB,MAAM,UAAsB;YAC1B,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB,OAAO,EAAE,uBAAuB;gBAAE,QAAQ,QAAQ,KAAK,CAAC,MAAM,GAAG;YAAE;YACnE,QAAQ,EAAE;QACZ;QACA,WAAW,CAAC,OAAS,CAAC;gBACpB,GAAG,IAAI;gBACP,OAAO;uBAAI,KAAK,KAAK;oBAAE;iBAAQ;YACjC,CAAC;QACD,gBAAgB,QAAQ,EAAE;QAC1B,mBAAmB;IACrB;IAEA,sDAAsD;IACtD,IAAI,eAAe,UAAU;QAC3B,MAAM,QAAQ,CAAC;YACb,IAAI,SAAS,SAAS;gBACpB,WAAW;gBACX,cAAc,OAAM,6BAA6B;YACnD,OAAO;gBACL,gBAAgB;gBAChB,cAAc;gBACd,WAAW,iBAAgB,0CAA0C;gBACrE,cAAc,OAAM,+BAA+B;YACrD;QACF;QAEA,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCACX,EAAE;;;;;;kCAEL,6LAAC;wBAAE,WAAU;kCACV,EAAE;;;;;;kCAEL,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,wIAAM;gCACL,MAAK;gCACL,SAAS,IAAM,MAAM;gCACrB,WAAU;0CAEV,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,4OAAa;4CAAC,WAAU;;;;;;sDACzB,6LAAC;4CAAK,WAAU;sDACb,EAAE;;;;;;sDAEL,6LAAC;4CAAK,WAAU;sDACb,EAAE;;;;;;;;;;;;;;;;;0CAIT,6LAAC,wIAAM;gCACL,MAAK;gCACL,SAAQ;gCACR,SAAS,IAAM,MAAM;gCACrB,WAAU;0CAEV,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,6NAAQ;4CAAC,WAAU;;;;;;sDACpB,6LAAC;4CAAK,WAAU;sDACb,EAAE;;;;;;sDAEL,6LAAC;4CAAK,WAAU;sDACb,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAQnB;IAEA,iDAAiD;IACjD,IAAI,eAAe,aAAa,eAAe,aAAa;QAC1D,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAyC;;;;;;kCAGvD,6LAAC;wBAAE,WAAU;kCAA8B;;;;;;kCAI3C,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAK,UAAU;gCAAY,WAAU;;kDACpC,6LAAC,sIAAK;wCACJ,OAAO;wCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wCAC5C,aAAY;wCACZ,WAAU;wCACV,UAAU;;;;;;kDAEZ,6LAAC,wIAAM;wCACL,MAAK;wCACL,WAAU;wCACV,UAAU;kDAET,eAAe,kBAAkB;;;;;;;;;;;;4BAGrC,8BACC,6LAAC;gCAAI,WAAU;0CAA0C;;;;;;;;;;;;;;;;;;;;;;;IAQrE;IAEA,qBACE;;0BAEE,6LAAC;gBACC,KAAK;gBACL,MAAK;gBACL,QAAO;gBACP,WAAU;gBACV,UAAU;;;;;;0BAIZ,6LAAC;gBACC,MAAK;gBACL,SAAS,IAAM,cAAc,CAAC,IAAM,CAAC;gBACrC,WAAU;gBACV,OAAO,aAAa,EAAE,oBAAoB,EAAE;0BAE5C,cAAA,6LAAC;oBAAK,WAAU;8BAAU;;;;;;;;;;;0BAI5B,6LAAC;gBAAI,WAAU;0BAEb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,wIAAM;gDACL,SAAQ;gDACR,MAAK;gDACL,WAAU;gDACV,SAAS;;kEAET,6LAAC,0MAAG;wDAAC,WAAU;;;;;;oDACd,EAAE;;;;;;;0DAEL,6LAAC,wIAAM;gDACL,SAAQ;gDACR,MAAK;gDACL,WAAU;gDACV,SAAS;;kEAET,6LAAC,yNAAQ;wDAAC,WAAU;;;;;;oDACnB,EAAE;;;;;;;;;;;;;kDAIP,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,sIAAK;gDACJ,SAAS,WAAW,UAAU,cAAc;gDAC5C,WAAU;0DAET,WAAW,UACR,EAAE,+BACF,EAAE;;;;;;0DAER,6LAAC;gDAAI,WAAU;;kEACb,6LAAC,gNAAK;wDAAC,WAAU;;;;;;kEACjB,6LAAC;kEAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;0CAMf,6LAAC;gCAAI,WAAU;;kDAEb,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;0EACd,cAAA,6LAAC,4OAAa;oEAAC,WAAU;;;;;;;;;;;0EAE3B,6LAAC;gEAAG,WAAU;0EACX,EAAE;;;;;;;;;;;;kEAGP,6LAAC;wDAAI,WAAU;;4DACZ,SAAS,GAAG,CAAC,CAAC,kBACb,6LAAC;oEAEC,WAAW,CAAC,KAAK,EACf,EAAE,IAAI,KAAK,SACP,gBACA,iBACJ;8EAEF,cAAA,6LAAC;wEACC,WACE,EAAE,IAAI,KAAK,SACP,2EACA;;4EAGL,EAAE,KAAK,IAAI,EAAE,IAAI,KAAK,wBACrB,6LAAC;gFAAI,WAAU;0FACZ,EAAE,KAAK,KAAK,WACT,cACA,EAAE,KAAK,KAAK,qBACZ,sBACA,EAAE,KAAK,KAAK,uBACZ,wBACA;;;;;;0FAGR,6LAAC;0FAAK,EAAE,OAAO;;;;;;;;;;;;mEAzBZ,EAAE,EAAE;;;;;4DA6BZ,iBAAiB,cAAc,MAAM,EAAE,yBACtC,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAI,WAAU;kFACZ,EAAE,8BAA8B;;;;;;oEAGlC,CAAC;wEACA,MAAM,OAAO,cAAc,MAAM,CAAC,OAAO,IAAI,cAAc,MAAM;wEACjE,MAAM,QAAQ,KAAK,KAAK,IAAI,EAAE;wEAC9B,MAAM,cAAc,MAAM,MAAM,CAC9B,CAAC,OAAO,OAAS,QAAS,CAAC,KAAK,MAAM,IAAI,EAAE,EAAE,MAAM,EACpD;wEAEF,MAAM,aACJ,cAAc,MAAM,CAAC,QAAQ,EAAE,uBAAuB;wEACxD,MAAM,OACJ,cAAc,MAAM,CAAC,QAAQ,EAAE,iBAAiB,KAAK,SAAS;wEAEhE,qBACE,6LAAC;4EAAE,WAAU;sFACV,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,MAAM,EAAE,MAAM,MAAM,CAAC,cAAc,EAAE,YAAY,uBAAuB,EAAE,WAAW,QAAQ,EAAE,KAAK,CAAC,CAAC;;;;;;oEAG5H,CAAC;kFAED,6LAAC;wEAAI,WAAU;kFACZ,CAAC,cAAc,MAAM,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,EACvC,KAAK,CAAC,GAAG,GACT,GAAG,CAAC,CAAC,qBACJ,6LAAC,sIAAK;gFAEJ,SAAQ;gFACR,WAAU;;oFAET,KAAK,KAAK;oFAAC;oFAAG,CAAC,KAAK,MAAM,IAAI,EAAE,EAAE,MAAM;oFAAC;;+EAJrC,KAAK,EAAE;;;;;;;;;;oEASnB,CAAC,cAAc,MAAM,CAAC,QAAQ,IAAI,EAAE,EAAE,MAAM,GAAG,mBAC9C,6LAAC;wEAAI,WAAU;kFACZ,CAAC,UAAU,EAAE,CAAC,cAAc,MAAM,CAAC,QAAQ,IAAI,EAAE,EAAE,IAAI,CAAC,OAAO;;;;;;kFAIpE,6LAAC;wEAAI,WAAU;;0FACb,6LAAC,wIAAM;gFACL,MAAK;gFACL,WAAU;gFACV,SAAS;0FAER,EAAE,6BAA6B;;;;;;0FAElC,6LAAC,wIAAM;gFACL,MAAK;gFACL,SAAQ;gFACR,WAAU;gFACV,SAAS;0FAER,EAAE,6BAA6B;;;;;;;;;;;;;;;;;;;;;;;;kEAM1C,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAK,WAAU;kFACb,EAAE,2BAA2B;;;;;;kFAEhC,6LAAC,wIAAM;wEACL,MAAK;wEACL,MAAK;wEACL,SAAQ;wEACR,WAAU;wEACV,SAAS,IAAM,SAAS;;0FAExB,6LAAC,6MAAI;gFAAC,WAAU;;;;;;4EACf,EAAE,uBAAuB;;;;;;;kFAE5B,6LAAC,wIAAM;wEACL,MAAK;wEACL,MAAK;wEACL,SAAQ;wEACR,WAAU;wEACV,SAAS,IAAM,SAAS;;0FAExB,6LAAC,4NAAS;gFAAC,WAAU;;;;;;4EACpB,EAAE,wBAAwB;;;;;;;kFAE7B,6LAAC,wIAAM;wEACL,MAAK;wEACL,MAAK;wEACL,SAAQ;wEACR,WAAU;wEACV,SAAS,IAAM,SAAS;;0FAExB,6LAAC,0MAAG;gFAAC,WAAU;;;;;;4EACd,EAAE,wBAAwB;;;;;;;kFAE7B,6LAAC,wIAAM;wEACL,MAAK;wEACL,MAAK;wEACL,SAAQ;wEACR,WAAU;wEACV,SAAS,IAAM,SAAS;;0FAExB,6LAAC,yOAAY;gFAAC,WAAU;;;;;;4EACvB,EAAE,uBAAuB;;;;;;;kFAE5B,6LAAC,wIAAM;wEACL,MAAK;wEACL,MAAK;wEACL,SAAQ;wEACR,WAAU;wEACV,SAAS,IAAM,SAAS;;0FAExB,6LAAC,4PAAiB;gFAAC,WAAU;;;;;;4EAC5B,EAAE,8BAA8B;;;;;;;kFAEnC,6LAAC,wIAAM;wEACL,MAAK;wEACL,MAAK;wEACL,SAAQ;wEACR,WAAU;wEACV,SAAS;;0FAET,6LAAC,kPAAe;gFAAC,WAAU;;;;;;4EAC1B,EAAE,uBAAuB;;;;;;;;;;;;;0EAG9B,6LAAC;gEACC,UAAU;gEACV,WAAU;;kFAEV,6LAAC,sIAAK;wEACJ,OAAO;wEACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wEAC5C,aAAa,EAAE;wEACf,WAAU;wEACV,UAAU;;;;;;kFAEZ,6LAAC,wIAAM;wEACL,MAAK;wEACL,MAAK;wEACL,WAAU;wEACV,UAAU;kFAET,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDASf,6LAAC;wCACC,WAAW,CAAC,gBAAgB,EAC1B,aACI,uDACA,IACJ;wCACF,SAAS;4CACP,mBAAmB;4CACnB,cAAc;wCAChB;wCACA,YAAY;wCACZ,aAAa;wCACb,QAAQ;kDAER,cAAA,6LAAC;4CACC,KAAK,QAAQ,KAAK,CAAC,SAAS;4CAC5B,WAAU;;8DAEV,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAG,WAAU;8EACX,EAAE;;;;;;8EAEL,6LAAC;oEAAI,WAAU;8EACZ,QAAQ,KAAK,CAAC,GAAG,CAAC,CAAC,qBAClB,6LAAC;4EAEC,MAAK;4EACL,SAAS,CAAC;gFACR,EAAE,eAAe;gFACjB,gBAAgB,KAAK,EAAE;gFACvB,mBAAmB;4EACrB;4EACA,WACE,6DACA,CAAC,KAAK,EAAE,KAAK,WAAW,EAAE,GACtB,yCACA,4DAA4D;sFAGjE,KAAK,KAAK;2EAdN,KAAK,EAAE;;;;;;;;;;;;;;;;sEAmBpB,6LAAC,wIAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,CAAC;gEACR,EAAE,eAAe;gEACjB;4DACF;sEAEA,cAAA,6LAAC,6MAAI;gEAAC,WAAU;;;;;;;;;;;;;;;;;8DAIpB,6LAAC;oDAAI,WAAU;8DAEZ,cAAc,aAAa,MAAM,GAAG,kBACnC,6LAAC;wDAAI,WAAU;kEACV,aAAa,GAAG,CAAC,CAAC;4DACnB,MAAM,aAAa,eAAe,OAAO,MAAM,EAAE;4DACjD,MAAM,gBACJ,oBAAoB,QAAQ,CAAC,MAAM,EAAE;4DACvC,qBACE,6LAAC;0EACC,cAAA,6LAAC;oEACC,WAAW,CAAC,uEAAuE,EACjF,aACI,kCACA,mCACL,CAAC,EACA,gBACI,gEACA,IACJ;oEACF,SAAS,CAAC;wEACR,EAAE,eAAe;wEACjB,iBAAiB;oEACnB;8EAEA,cAAA,6LAAC,oJAAa;wEACZ,OAAO;wEACP,OAAO,QAAQ,KAAK;;;;;;;;;;;+DAlBhB,MAAM,EAAE;;;;;wDAuBtB;;;;;6EAGF,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAG,WAAU;0EACX,EAAE;;;;;;0EAEL,6LAAC;gEAAE,WAAU;0EACV,EAAE;;;;;;0EAEL,6LAAC,wIAAM;gEACL,SAAQ;gEACR,MAAK;gEACL,MAAK;gEACL,SAAS,CAAC;oEACR,EAAE,eAAe;oEACjB,SAAS;gEACX;gEACA,WAAU;;kFAEV,6LAAC,4PAAiB;wEAAC,WAAU;;;;;;oEAC5B,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDASf,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC,iKAAe;gDACd,SAAS;gDACT,iBAAiB;gDACjB,eAAe;gDACf,eAAe;gDACf,WAAW;gDACX,WAAW;gDACX,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAUxB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,SAAS;4BACT,oBAAM,6LAAC,mNAAM;gCAAC,WAAU;;;;;;4BACxB,OAAM;;;;;;sCAER,6LAAC;4BACC,SAAS,IAAM,SAAS;4BACxB,oBAAM,6LAAC,4PAAiB;gCAAC,WAAU;;;;;;4BACnC,OAAM;;;;;;sCAER,6LAAC;4BACC,SAAS,IAAM,SAAS;4BACxB,oBAAM,6LAAC,yOAAY;gCAAC,WAAU;;;;;;4BAC9B,OAAM;;;;;;sCAER,6LAAC;4BACC,SAAS;gCACP,cAAc;gCACd,mBAAmB;4BACrB;4BACA,oBAAM,6LAAC,kPAAe;gCAAC,WAAU;;;;;;4BACjC,OAAM;;;;;;sCAER,6LAAC;4BACC,SAAS;4BACT,oBAAM,6LAAC,4NAAS;gCAAC,WAAU;;;;;;4BAC3B,OAAM;;;;;;sCAER,6LAAC;4BACC,SAAS,IAAM,SAAS;4BACxB,oBAAM,6LAAC,6MAAI;gCAAC,WAAU;;;;;;4BACtB,OAAM;;;;;;sCAER,6LAAC;4BACC,SAAS;gCACP,cAAc;gCACd,mBAAmB;4BACrB;4BACA,oBAAM,6LAAC,yNAAQ;gCAAC,WAAU;;;;;;4BAC1B,OAAM;;;;;;;;;;;;;;;;;;;AAMlB;GAv8CwB;;QACR,sIAAS;QACF,iJAAW;QA8J5B,oIAAU;;;KAhKQ;AAy8CxB,SAAS,eAAe,EACtB,IAAI,EACJ,KAAK,EACL,OAAO,EACP,QAAQ,EAMT;;IACC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sIAAS;IACvB,MAAM,kBAAkB,EAAE;IAC1B,qBACE,6LAAC;QACC,SAAS;QACT,MAAK;QACL,OAAO;QACP,WACE,4FACA,CAAC,WAAW,2CAA2C,oBAAoB;QAE7E,UAAU,CAAC;;YAEV;0BACD,6LAAC;gBAAK,WAAU;0BAAW;;;;;;;;;;;;AAGjC;IA5BS;;QAWO,sIAAS;;;MAXhB"}}]
}